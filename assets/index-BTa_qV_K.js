var tm=Object.defineProperty;var rm=(t,e,r)=>e in t?tm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var be=(t,e,r)=>rm(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const gc=!1;var ra=Array.isArray,nm=Array.prototype.indexOf,kl=Array.from,vf=Object.defineProperty,Tr=Object.getOwnPropertyDescriptor,mf=Object.getOwnPropertyDescriptors,im=Object.prototype,sm=Array.prototype,Sl=Object.getPrototypeOf;function Un(t){return typeof t=="function"}const qt=()=>{};function am(t){return t()}function co(t){for(var e=0;e<t.length;e++)t[e]()}const Gt=2,gf=4,na=8,ia=16,Mr=32,ii=64,Ls=128,It=256,Ms=512,bt=1024,Ir=2048,On=4096,Cr=8192,sa=16384,yf=32768,Bi=65536,om=1<<17,_f=1<<19,bf=1<<20,Kr=Symbol("$state"),wf=Symbol("legacy props"),lm=Symbol("");function kf(t){return t===this.v}function El(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function cm(t,e){return t!==e}function Tl(t){return!El(t,this.v)}function um(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function dm(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function fm(t){throw new Error("https://svelte.dev/e/effect_orphan")}function hm(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function pm(t){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function vm(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function mm(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function gm(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ym(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function _m(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let si=!1,bm=!1;function wm(){si=!0}const Cl=1,Al=2,Sf=4,km=8,Sm=16,Em=1,Tm=2,Ef=4,Cm=8,Am=16,Om=4,Pm=1,xm=2,ht=Symbol(),Lm="http://www.w3.org/1999/xhtml";function Ol(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let De=null;function yc(t){De=t}function We(t,e=!1,r){De={p:De,c:null,e:null,m:!1,s:t,x:null,l:null},si&&!e&&(De.l={s:null,u:null,r1:[],r2:At(!1)})}function Ge(t){const e=De;if(e!==null){t!==void 0&&(e.x=t);const a=e.e;if(a!==null){var r=Me,n=Re;e.e=null;try{for(var s=0;s<a.length;s++){var i=a[s];ur(i.effect),cr(i.reaction),li(i.fn)}}finally{ur(r),cr(n)}}De=e.p,e.m=!0}return t||{}}function ai(){return!si||De!==null&&De.l===null}function At(t,e){var r={f:0,v:t,reactions:null,equals:kf,rv:0,wv:0};return r}function aa(t,e=!1){var n;const r=At(t);return e||(r.equals=Tl),si&&De!==null&&De.l!==null&&((n=De.l).s??(n.s=[])).push(r),r}function H(t,e=!1){return Mm(aa(t,e))}function Mm(t){return Re!==null&&!zt&&(Re.f&Gt)!==0&&(or===null?Bm([t]):or.push(t)),t}function Ve(t,e){return I(t,jt(()=>p(t))),e}function I(t,e){return Re!==null&&!zt&&ai()&&(Re.f&(Gt|ia))!==0&&(or===null||!or.includes(t))&&_m(),uo(t,e)}function uo(t,e){return t.equals(e)||(t.v,t.v=e,t.wv=$f(),Tf(t,Ir),ai()&&Me!==null&&(Me.f&bt)!==0&&(Me.f&(Mr|ii))===0&&(yr===null?Vm([t]):yr.push(t))),e}function _c(t,e=1){var r=p(t),n=e===1?r++:r--;return I(t,r),n}function Tf(t,e){var r=t.reactions;if(r!==null)for(var n=ai(),s=r.length,i=0;i<s;i++){var a=r[i],o=a.f;(o&Ir)===0&&(!n&&a===Me||(Ht(a,e),(o&(bt|It))!==0&&((o&Gt)!==0?Tf(a,On):ua(a))))}}let Im=!1;function qn(t,e=null,r){if(typeof t!="object"||t===null||Kr in t)return t;const n=Sl(t);if(n!==im&&n!==sm)return t;var s=new Map,i=ra(t),a=At(0);i&&s.set("length",At(t.length));var o;return new Proxy(t,{defineProperty(l,u,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&mm();var f=s.get(u);return f===void 0?(f=At(d.value),s.set(u,f)):I(f,qn(d.value,o)),!0},deleteProperty(l,u){var d=s.get(u);if(d===void 0)u in l&&s.set(u,At(ht));else{if(i&&typeof u=="string"){var f=s.get("length"),h=Number(u);Number.isInteger(h)&&h<f.v&&I(f,h)}I(d,ht),bc(a)}return!0},get(l,u,d){var y;if(u===Kr)return t;var f=s.get(u),h=u in l;if(f===void 0&&(!h||(y=Tr(l,u))!=null&&y.writable)&&(f=At(qn(h?l[u]:ht,o)),s.set(u,f)),f!==void 0){var g=p(f);return g===ht?void 0:g}return Reflect.get(l,u,d)},getOwnPropertyDescriptor(l,u){var d=Reflect.getOwnPropertyDescriptor(l,u);if(d&&"value"in d){var f=s.get(u);f&&(d.value=p(f))}else if(d===void 0){var h=s.get(u),g=h==null?void 0:h.v;if(h!==void 0&&g!==ht)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return d},has(l,u){var g;if(u===Kr)return!0;var d=s.get(u),f=d!==void 0&&d.v!==ht||Reflect.has(l,u);if(d!==void 0||Me!==null&&(!f||(g=Tr(l,u))!=null&&g.writable)){d===void 0&&(d=At(f?qn(l[u],o):ht),s.set(u,d));var h=p(d);if(h===ht)return!1}return f},set(l,u,d,f){var A;var h=s.get(u),g=u in l;if(i&&u==="length")for(var y=d;y<h.v;y+=1){var _=s.get(y+"");_!==void 0?I(_,ht):y in l&&(_=At(ht),s.set(y+"",_))}h===void 0?(!g||(A=Tr(l,u))!=null&&A.writable)&&(h=At(void 0),I(h,qn(d,o)),s.set(u,h)):(g=h.v!==ht,I(h,qn(d,o)));var w=Reflect.getOwnPropertyDescriptor(l,u);if(w!=null&&w.set&&w.set.call(f,d),!g){if(i&&typeof u=="string"){var O=s.get("length"),C=Number(u);Number.isInteger(C)&&C>=O.v&&I(O,C+1)}bc(a)}return!0},ownKeys(l){p(a);var u=Reflect.ownKeys(l).filter(h=>{var g=s.get(h);return g===void 0||g.v!==ht});for(var[d,f]of s)f.v!==ht&&!(d in l)&&u.push(d);return u},setPrototypeOf(){gm()}})}function bc(t,e=1){I(t,t.v+e)}var fo,Cf,Af,Of,Pf;function jm(){if(fo===void 0){fo=window,Cf=document,Af=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype;Of=Tr(e,"firstChild").get,Pf=Tr(e,"nextSibling").get,t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0,Text.prototype.__t=void 0}}function Vi(t=""){return document.createTextNode(t)}function ir(t){return Of.call(t)}function oa(t){return Pf.call(t)}function P(t,e){return ir(t)}function et(t,e){{var r=ir(t);return r instanceof Comment&&r.data===""?oa(r):r}}function D(t,e=1,r=!1){let n=t;for(;e--;)n=oa(n);return n}function Rm(t){t.textContent=""}function Di(t){var e=Gt|Ir,r=Re!==null&&(Re.f&Gt)!==0?Re:null;return Me===null||r!==null&&(r.f&It)!==0?e|=It:Me.f|=bf,{ctx:De,deps:null,effects:null,equals:kf,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:r??Me}}function ge(t){const e=Di(t);return e.equals=Tl,e}function xf(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)Or(e[r])}}function Dm(t){for(var e=t.parent;e!==null;){if((e.f&Gt)===0)return e;e=e.parent}return null}function Nm(t){var e,r=Me;ur(Dm(t));try{xf(t),e=qf(t)}finally{ur(r)}return e}function Lf(t){var e=Nm(t),r=(Yr||(t.f&It)!==0)&&t.deps!==null?On:bt;Ht(t,r),t.equals(e)||(t.v=e,t.wv=$f())}function Mf(t){Me===null&&Re===null&&fm(),Re!==null&&(Re.f&It)!==0&&Me===null&&dm(),Ll&&um()}function Fm(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function oi(t,e,r,n=!0){var s=Me,i={ctx:De,deps:null,nodes_start:null,nodes_end:null,f:t|Ir,first:null,fn:e,last:null,next:null,parent:s,prev:null,teardown:null,transitions:null,wv:0};if(r)try{ca(i),i.f|=yf}catch(l){throw Or(i),l}else e!==null&&ua(i);var a=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(bf|Ls))===0;if(!a&&n&&(s!==null&&Fm(i,s),Re!==null&&(Re.f&Gt)!==0)){var o=Re;(o.effects??(o.effects=[])).push(i)}return i}function Pl(t){const e=oi(na,null,!1);return Ht(e,bt),e.teardown=t,e}function ho(t){Mf();var e=Me!==null&&(Me.f&Mr)!==0&&De!==null&&!De.m;if(e){var r=De;(r.e??(r.e=[])).push({fn:t,effect:Me,reaction:Re})}else{var n=li(t);return n}}function $m(t){return Mf(),Ji(t)}function Um(t){const e=oi(ii,t,!0);return(r={})=>new Promise(n=>{r.outro?Qn(e,()=>{Or(e),n(void 0)}):(Or(e),n(void 0))})}function li(t){return oi(gf,t,!1)}function _t(t,e){var r=De,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=Ji(()=>{t(),!n.ran&&(n.ran=!0,I(r.l.r2,!0),jt(e))})}function Pn(){var t=De;Ji(()=>{if(p(t.l.r2)){for(var e of t.l.r1){var r=e.effect;(r.f&bt)!==0&&Ht(r,On),ci(r)&&ca(r),e.ran=!1}t.l.r2.v=!1}})}function Ji(t){return oi(na,t,!0)}function _e(t,e=[],r=Di){const n=e.map(r);return xn(()=>t(...n.map(p)))}function xn(t,e=0){return oi(na|ia|e,t,!0)}function Xr(t,e=!0){return oi(na|Mr,t,!0,e)}function If(t){var e=t.teardown;if(e!==null){const r=Ll,n=Re;wc(!0),cr(null);try{e.call(null)}finally{wc(r),cr(n)}}}function jf(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var n=r.next;(r.f&ii)!==0?r.parent=null:Or(r,e),r=n}}function qm(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&Mr)===0&&Or(e),e=r}}function Or(t,e=!0){var r=!1;if((e||(t.f&_f)!==0)&&t.nodes_start!==null){for(var n=t.nodes_start,s=t.nodes_end;n!==null;){var i=n===s?null:oa(n);n.remove(),n=i}r=!0}jf(t,e&&!r),Ns(t,0),Ht(t,sa);var a=t.transitions;if(a!==null)for(const l of a)l.stop();If(t);var o=t.parent;o!==null&&o.first!==null&&Rf(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Rf(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function Qn(t,e){var r=[];xl(t,r,!0),Df(r,()=>{Or(t),e&&e()})}function Df(t,e){var r=t.length;if(r>0){var n=()=>--r||e();for(var s of t)s.out(n)}else e()}function xl(t,e,r){if((t.f&Cr)===0){if(t.f^=Cr,t.transitions!==null)for(const a of t.transitions)(a.is_global||r)&&e.push(a);for(var n=t.first;n!==null;){var s=n.next,i=(n.f&Bi)!==0||(n.f&Mr)!==0;xl(n,e,i?r:!1),n=s}}}function Is(t){Nf(t,!0)}function Nf(t,e){if((t.f&Cr)!==0){t.f^=Cr,(t.f&bt)===0&&(t.f^=bt),ci(t)&&(Ht(t,Ir),ua(t));for(var r=t.first;r!==null;){var n=r.next,s=(r.f&Bi)!==0||(r.f&Mr)!==0;Nf(r,s?e:!1),r=n}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}let js=[];function zm(){var t=js;js=[],co(t)}function Wi(t){js.length===0&&queueMicrotask(zm),js.push(t)}let bs=!1,po=!1,Rs=null,gn=!1,Ll=!1;function wc(t){Ll=t}let ws=[];let Re=null,zt=!1;function cr(t){Re=t}let Me=null;function ur(t){Me=t}let or=null;function Bm(t){or=t}let pt=null,Tt=0,yr=null;function Vm(t){yr=t}let Ff=1,Ds=0,Yr=!1;function $f(){return++Ff}function ci(t){var f;var e=t.f;if((e&Ir)!==0)return!0;if((e&On)!==0){var r=t.deps,n=(e&It)!==0;if(r!==null){var s,i,a=(e&Ms)!==0,o=n&&Me!==null&&!Yr,l=r.length;if(a||o){var u=t,d=u.parent;for(s=0;s<l;s++)i=r[s],(a||!((f=i==null?void 0:i.reactions)!=null&&f.includes(u)))&&(i.reactions??(i.reactions=[])).push(u);a&&(u.f^=Ms),o&&d!==null&&(d.f&It)===0&&(u.f^=It)}for(s=0;s<l;s++)if(i=r[s],ci(i)&&Lf(i),i.wv>t.wv)return!0}(!n||Me!==null&&!Yr)&&Ht(t,bt)}return!1}function Jm(t,e){for(var r=e;r!==null;){if((r.f&Ls)!==0)try{r.fn(t);return}catch{r.f^=Ls}r=r.parent}throw bs=!1,t}function Wm(t){return(t.f&sa)===0&&(t.parent===null||(t.parent.f&Ls)===0)}function la(t,e,r,n){if(bs){if(r===null&&(bs=!1),Wm(e))throw t;return}r!==null&&(bs=!0);{Jm(t,e);return}}function Uf(t,e,r=!0){var n=t.reactions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];(i.f&Gt)!==0?Uf(i,e,!1):e===i&&(r?Ht(i,Ir):(i.f&bt)!==0&&Ht(i,On),ua(i))}}function qf(t){var g;var e=pt,r=Tt,n=yr,s=Re,i=Yr,a=or,o=De,l=zt,u=t.f;pt=null,Tt=0,yr=null,Yr=(u&It)!==0&&(zt||!gn||Re===null),Re=(u&(Mr|ii))===0?t:null,or=null,yc(t.ctx),zt=!1,Ds++;try{var d=(0,t.fn)(),f=t.deps;if(pt!==null){var h;if(Ns(t,Tt),f!==null&&Tt>0)for(f.length=Tt+pt.length,h=0;h<pt.length;h++)f[Tt+h]=pt[h];else t.deps=f=pt;if(!Yr)for(h=Tt;h<f.length;h++)((g=f[h]).reactions??(g.reactions=[])).push(t)}else f!==null&&Tt<f.length&&(Ns(t,Tt),f.length=Tt);if(ai()&&yr!==null&&!zt&&f!==null&&(t.f&(Gt|On|Ir))===0)for(h=0;h<yr.length;h++)Uf(yr[h],t);return s!==null&&Ds++,d}finally{pt=e,Tt=r,yr=n,Re=s,Yr=i,or=a,yc(o),zt=l}}function Gm(t,e){let r=e.reactions;if(r!==null){var n=nm.call(r,t);if(n!==-1){var s=r.length-1;s===0?r=e.reactions=null:(r[n]=r[s],r.pop())}}r===null&&(e.f&Gt)!==0&&(pt===null||!pt.includes(e))&&(Ht(e,On),(e.f&(It|Ms))===0&&(e.f^=Ms),xf(e),Ns(e,0))}function Ns(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)Gm(t,r[n])}function ca(t){var e=t.f;if((e&sa)===0){Ht(t,bt);var r=Me,n=De,s=gn;Me=t,gn=!0;try{(e&ia)!==0?qm(t):jf(t),If(t);var i=qf(t);t.teardown=typeof i=="function"?i:null,t.wv=Ff;var a=t.deps,o;gc&&bm&&t.f&Ir}catch(l){la(l,t,r,n||t.ctx)}finally{gn=s,Me=r}}}function Hm(){try{hm()}catch(t){if(Rs!==null)la(t,Rs,null);else throw t}}function Ym(){var t=gn;try{var e=0;for(gn=!0;ws.length>0;){e++>1e3&&Hm();var r=ws,n=r.length;ws=[];for(var s=0;s<n;s++){var i=Qm(r[s]);Km(i)}}}finally{po=!1,gn=t,Rs=null}}function Km(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var n=t[r];if((n.f&(sa|Cr))===0)try{ci(n)&&(ca(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Rf(n):n.fn=null))}catch(s){la(s,n,null,n.ctx)}}}function ua(t){po||(po=!0,queueMicrotask(Ym));for(var e=Rs=t;e.parent!==null;){e=e.parent;var r=e.f;if((r&(ii|Mr))!==0){if((r&bt)===0)return;e.f^=bt}}ws.push(e)}function Qm(t){for(var e=[],r=t;r!==null;){var n=r.f,s=(n&(Mr|ii))!==0,i=s&&(n&bt)!==0;if(!i&&(n&Cr)===0){if((n&gf)!==0)e.push(r);else if(s)r.f^=bt;else{var a=Re;try{Re=r,ci(r)&&ca(r)}catch(u){la(u,r,null,r.ctx)}finally{Re=a}}var o=r.first;if(o!==null){r=o;continue}}var l=r.parent;for(r=r.next;r===null&&l!==null;)r=l.next,l=l.parent}return e}function p(t){var e=t.f,r=(e&Gt)!==0;if(Re!==null&&!zt){or!==null&&or.includes(t)&&ym();var n=Re.deps;t.rv<Ds&&(t.rv=Ds,pt===null&&n!==null&&n[Tt]===t?Tt++:pt===null?pt=[t]:(!Yr||!pt.includes(t))&&pt.push(t))}else if(r&&t.deps===null&&t.effects===null){var s=t,i=s.parent;i!==null&&(i.f&It)===0&&(s.f^=It)}return r&&(s=t,ci(s)&&Lf(s)),t.v}function jt(t){var e=zt;try{return zt=!0,t()}finally{zt=e}}const Xm=-7169;function Ht(t,e){t.f=t.f&Xm|e}function ki(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Kr in t)vo(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&Kr in r&&vo(r)}}}function vo(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{vo(t[n],e)}catch{}const r=Sl(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=mf(r);for(let s in n){const i=n[s].get;if(i)try{i.call(t)}catch{}}}}}function Zm(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const eg=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function tg(t){return eg.includes(t)}const rg={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function ng(t){return t=t.toLowerCase(),rg[t]??t}const ig=["touchstart","touchmove"];function sg(t){return ig.includes(t)}function ag(t,e){if(e){const r=document.body;t.autofocus=!0,Wi(()=>{document.activeElement===r&&t.focus()})}}let kc=!1;function og(){kc||(kc=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const r of t.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function Ml(t){var e=Re,r=Me;cr(null),ur(null);try{return t()}finally{cr(e),ur(r)}}function lg(t,e,r,n=r){t.addEventListener(e,()=>Ml(r));const s=t.__on_r;s?t.__on_r=()=>{s(),n(!0)}:t.__on_r=()=>n(!0),og()}const zf=new Set,mo=new Set;function Bf(t,e,r,n={}){function s(i){if(n.capture||Si.call(e,i),!i.cancelBubble)return Ml(()=>r==null?void 0:r.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Wi(()=>{e.addEventListener(t,s,n)}):e.addEventListener(t,s,n),s}function de(t,e,r,n,s){var i={capture:n,passive:s},a=Bf(t,e,r,i);(e===document.body||e===window||e===document)&&Pl(()=>{e.removeEventListener(t,a,i)})}function cg(t){for(var e=0;e<t.length;e++)zf.add(t[e]);for(var r of mo)r(t)}function Si(t){var C;var e=this,r=e.ownerDocument,n=t.type,s=((C=t.composedPath)==null?void 0:C.call(t))||[],i=s[0]||t.target,a=0,o=t.__root;if(o){var l=s.indexOf(o);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var u=s.indexOf(e);if(u===-1)return;l<=u&&(a=l)}if(i=s[a]||t.target,i!==e){vf(t,"currentTarget",{configurable:!0,get(){return i||r}});var d=Re,f=Me;cr(null),ur(null);try{for(var h,g=[];i!==null;){var y=i.assignedSlot||i.parentNode||i.host||null;try{var _=i["__"+n];if(_!==void 0&&(!i.disabled||t.target===i))if(ra(_)){var[w,...O]=_;w.apply(i,[t,...O])}else _.call(i,t)}catch(A){h?g.push(A):h=A}if(t.cancelBubble||y===e||y===null)break;i=y}if(h){for(let A of g)queueMicrotask(()=>{throw A});throw h}}finally{t.__root=e,delete t.currentTarget,cr(d),ur(f)}}}function Vf(t){var e;e=document.head.appendChild(Vi());try{xn(()=>t(e),_f)}finally{}}function Il(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function Xn(t,e){var r=Me;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function Z(t,e){var r=(e&Pm)!==0,n=(e&xm)!==0,s,i=!t.startsWith("<!>");return()=>{s===void 0&&(s=Il(i?t:"<!>"+t),r||(s=ir(s)));var a=n||Af?document.importNode(s,!0):s.cloneNode(!0);if(r){var o=ir(a),l=a.lastChild;Xn(o,l)}else Xn(a,a);return a}}function ug(t,e){var r=Z(t,e);return()=>fg(r())}function dg(t,e,r="svg"){var n=!t.startsWith("<!>"),s=`<${r}>${n?t:"<!>"+t}</${r}>`,i;return()=>{if(!i){var a=Il(s),o=ir(a);i=ir(o)}var l=i.cloneNode(!0);return Xn(l,l),l}}function fg(t){const e=t.nodeType===11,r=t.tagName==="SCRIPT"?[t]:t.querySelectorAll("script"),n=Me;for(const i of r){const a=document.createElement("script");for(var s of i.attributes)a.setAttribute(s.name,s.value);a.textContent=i.textContent,(e?t.firstChild===i:t===i)&&(n.nodes_start=a),(e?t.lastChild===i:t===i)&&(n.nodes_end=a),i.replaceWith(a)}return t}function Pi(t=""){{var e=Vi(t+"");return Xn(e,e),e}}function Ar(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Vi();return t.append(e,r),Xn(e,r),t}function K(t,e){t!==null&&t.before(e)}let go=!0;function fe(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function hg(t,e){return pg(t,e)}const In=new Map;function pg(t,{target:e,anchor:r,props:n={},events:s,context:i,intro:a=!0}){jm();var o=new Set,l=f=>{for(var h=0;h<f.length;h++){var g=f[h];if(!o.has(g)){o.add(g);var y=sg(g);e.addEventListener(g,Si,{passive:y});var _=In.get(g);_===void 0?(document.addEventListener(g,Si,{passive:y}),In.set(g,1)):In.set(g,_+1)}}};l(kl(zf)),mo.add(l);var u=void 0,d=Um(()=>{var f=r??e.appendChild(Vi());return Xr(()=>{if(i){We({});var h=De;h.c=i}s&&(n.$$events=s),go=a,u=t(f,n)||{},go=!0,i&&Ge()}),()=>{var y;for(var h of o){e.removeEventListener(h,Si);var g=In.get(h);--g===0?(document.removeEventListener(h,Si),In.delete(h)):In.set(h,g)}mo.delete(l),f!==r&&((y=f.parentNode)==null||y.removeChild(f))}});return vg.set(u,d),u}let vg=new WeakMap;function ne(t,e,[r,n]=[0,0]){var s=t,i=null,a=null,o=ht,l=r>0?Bi:0,u=!1;const d=(h,g=!0)=>{u=!0,f(g,h)},f=(h,g)=>{o!==(o=h)&&(o?(i?Is(i):g&&(i=Xr(()=>g(s))),a&&Qn(a,()=>{a=null})):(a?Is(a):g&&(a=Xr(()=>g(s,[r+1,n]))),i&&Qn(i,()=>{i=null})))};xn(()=>{u=!1,e(d),u||f(null,null)},l)}function Jf(t,e,r){var n=t,s=ht,i,a=ai()?cm:El;xn(()=>{a(s,s=e())&&(i&&Qn(i),i=Xr(()=>r(n)))})}function Wf(t,e){return e}function mg(t,e,r,n){for(var s=[],i=e.length,a=0;a<i;a++)xl(e[a].e,s,!0);var o=i>0&&s.length===0&&r!==null;if(o){var l=r.parentNode;Rm(l),l.append(r),n.clear(),Br(t,e[0].prev,e[i-1].next)}Df(s,()=>{for(var u=0;u<i;u++){var d=e[u];o||(n.delete(d.k),Br(t,d.prev,d.next)),Or(d.e,!o)}})}function Fs(t,e,r,n,s,i=null){var a=t,o={flags:e,items:new Map,first:null},l=(e&Sf)!==0;if(l){var u=t;a=u.appendChild(Vi())}var d=null,f=!1,h=ge(()=>{var g=r();return ra(g)?g:g==null?[]:kl(g)});xn(()=>{var g=p(h),y=g.length;f&&y===0||(f=y===0,gg(g,o,a,s,e,n,r),i!==null&&(y===0?d?Is(d):d=Xr(()=>i(a)):d!==null&&Qn(d,()=>{d=null})),p(h))})}function gg(t,e,r,n,s,i,a){var q,B,Y,Q;var o=(s&km)!==0,l=(s&(Cl|Al))!==0,u=t.length,d=e.items,f=e.first,h=f,g,y=null,_,w=[],O=[],C,A,b,E;if(o)for(E=0;E<u;E+=1)C=t[E],A=i(C,E),b=d.get(A),b!==void 0&&((q=b.a)==null||q.measure(),(_??(_=new Set)).add(b));for(E=0;E<u;E+=1){if(C=t[E],A=i(C,E),b=d.get(A),b===void 0){var T=h?h.e.nodes_start:r;y=_g(T,e,y,y===null?e.first:y.next,C,A,E,n,s,a),d.set(A,y),w=[],O=[],h=y.next;continue}if(l&&yg(b,C,E,s),(b.e.f&Cr)!==0&&(Is(b.e),o&&((B=b.a)==null||B.unfix(),(_??(_=new Set)).delete(b))),b!==h){if(g!==void 0&&g.has(b)){if(w.length<O.length){var x=O[0],R;y=x.prev;var V=w[0],U=w[w.length-1];for(R=0;R<w.length;R+=1)Sc(w[R],x,r);for(R=0;R<O.length;R+=1)g.delete(O[R]);Br(e,V.prev,U.next),Br(e,y,V),Br(e,U,x),h=x,y=U,E-=1,w=[],O=[]}else g.delete(b),Sc(b,h,r),Br(e,b.prev,b.next),Br(e,b,y===null?e.first:y.next),Br(e,y,b),y=b;continue}for(w=[],O=[];h!==null&&h.k!==A;)(h.e.f&Cr)===0&&(g??(g=new Set)).add(h),O.push(h),h=h.next;if(h===null)continue;b=h}w.push(b),y=b,h=b.next}if(h!==null||g!==void 0){for(var N=g===void 0?[]:kl(g);h!==null;)(h.e.f&Cr)===0&&N.push(h),h=h.next;var W=N.length;if(W>0){var L=(s&Sf)!==0&&u===0?r:null;if(o){for(E=0;E<W;E+=1)(Y=N[E].a)==null||Y.measure();for(E=0;E<W;E+=1)(Q=N[E].a)==null||Q.fix()}mg(e,N,L,d)}}o&&Wi(()=>{var X;if(_!==void 0)for(b of _)(X=b.a)==null||X.apply()}),Me.first=e.first&&e.first.e,Me.last=y&&y.e}function yg(t,e,r,n){(n&Cl)!==0&&uo(t.v,e),(n&Al)!==0?uo(t.i,r):t.i=r}function _g(t,e,r,n,s,i,a,o,l,u){var d=(l&Cl)!==0,f=(l&Sm)===0,h=d?f?aa(s):At(s):s,g=(l&Al)===0?a:At(a),y={i:g,v:h,k:i,a:null,e:null,prev:r,next:n};try{return y.e=Xr(()=>o(t,h,g,u),Im),y.e.prev=r&&r.e,y.e.next=n&&n.e,r===null?e.first=y:(r.next=y,r.e.next=y.e),n!==null&&(n.prev=y,n.e.prev=y.e),y}finally{}}function Sc(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,s=e?e.e.nodes_start:r,i=t.e.nodes_start;i!==n;){var a=oa(i);s.before(i),i=a}}function Br(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function Pr(t,e,r,n,s){var i=t,a="",o;xn(()=>{a!==(a=e()??"")&&(o!==void 0&&(Or(o),o=void 0),a!==""&&(o=Xr(()=>{var l=a+"";r&&(l=`<svg>${l}</svg>`);var u=Il(l);if((r||n)&&(u=ir(u)),Xn(ir(u),u.lastChild),r||n)for(;ir(u);)i.before(ir(u));else i.before(u)})))})}function bg(t,e,r){var n=t,s,i;xn(()=>{s!==(s=e())&&(i&&(Qn(i),i=null),s&&(i=Xr(()=>r(n,s))))},Bi)}function wg(t,e,r){li(()=>{var n=jt(()=>e(t,r==null?void 0:r())||{});if(n!=null&&n.destroy)return()=>n.destroy()})}function Gf(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Gf(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function kg(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Gf(t))&&(n&&(n+=" "),n+=e);return n}function Hf(t){return typeof t=="object"?kg(t):t??""}const Ec=[...` 	
\r\f \v\uFEFF`];function Sg(t,e,r){var n=t==null?"":""+t;if(e&&(n=n?n+" "+e:e),r){for(var s in r)if(r[s])n=n?n+" "+s:s;else if(n.length)for(var i=s.length,a=0;(a=n.indexOf(s,a))>=0;){var o=a+i;(a===0||Ec.includes(n[a-1]))&&(o===n.length||Ec.includes(n[o]))?n=(a===0?"":n.substring(0,a))+n.substring(o+1):a=o}}return n===""?null:n}function Tc(t,e=!1){var r=e?" !important;":";",n="";for(var s in t){var i=t[s];i!=null&&i!==""&&(n+=" "+s+": "+i+r)}return n}function La(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Eg(t,e){if(e){var r="",n,s;if(Array.isArray(e)?(n=e[0],s=e[1]):n=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,a=0,o=!1,l=[];n&&l.push(...Object.keys(n).map(La)),s&&l.push(...Object.keys(s).map(La));var u=0,d=-1;const _=t.length;for(var f=0;f<_;f++){var h=t[f];if(o?h==="/"&&t[f-1]==="*"&&(o=!1):i?i===h&&(i=!1):h==="/"&&t[f+1]==="*"?o=!0:h==='"'||h==="'"?i=h:h==="("?a++:h===")"&&a--,!o&&i===!1&&a===0){if(h===":"&&d===-1)d=f;else if(h===";"||f===_-1){if(d!==-1){var g=La(t.substring(u,d).trim());if(!l.includes(g)){h!==";"&&f++;var y=t.substring(u,f).trim();r+=" "+y+";"}}u=f+1,d=-1}}}}return n&&(r+=Tc(n)),s&&(r+=Tc(s,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function pe(t,e,r,n,s,i){var a=t.__className;if(a!==r){var o=Sg(r,n,i);o==null?t.removeAttribute("class"):e?t.className=o:t.setAttribute("class",o),t.__className=r}else if(i&&s!==i)for(var l in i){var u=!!i[l];(s==null||u!==!!s[l])&&t.classList.toggle(l,u)}return i}function Ma(t,e={},r,n){for(var s in r){var i=r[s];e[s]!==i&&(r[s]==null?t.style.removeProperty(s):t.style.setProperty(s,i,n))}}function _r(t,e,r,n){var s=t.__style;if(s!==e){var i=Eg(e,n);i==null?t.removeAttribute("style"):t.style.cssText=i,t.__style=e}else n&&(Array.isArray(n)?(Ma(t,r==null?void 0:r[0],n[0]),Ma(t,r==null?void 0:r[1],n[1],"important")):Ma(t,r,n));return n}const mi=Symbol("class"),gi=Symbol("style"),Yf=Symbol("is custom element"),Kf=Symbol("is html");function Tg(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function Ye(t,e,r,n){var s=Qf(t);s[e]!==(s[e]=r)&&(e==="loading"&&(t[lm]=r),r==null?t.removeAttribute(e):typeof r!="string"&&Xf(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function Cg(t,e,r,n,s=!1){var i=Qf(t),a=i[Yf],o=!i[Kf],l=e||{},u=t.tagName==="OPTION";for(var d in e)d in r||(r[d]=null);r.class?r.class=Hf(r.class):r[mi]&&(r.class=null),r[gi]&&(r.style??(r.style=null));var f=Xf(t);for(const C in r){let A=r[C];if(u&&C==="value"&&A==null){t.value=t.__value="",l[C]=A;continue}if(C==="class"){var h=t.namespaceURI==="http://www.w3.org/1999/xhtml";pe(t,h,A,n,e==null?void 0:e[mi],r[mi]),l[C]=A,l[mi]=r[mi];continue}if(C==="style"){_r(t,A,e==null?void 0:e[gi],r[gi]),l[C]=A,l[gi]=r[gi];continue}var g=l[C];if(A!==g){l[C]=A;var y=C[0]+C[1];if(y!=="$$")if(y==="on"){const b={},E="$$"+C;let T=C.slice(2);var _=tg(T);if(Zm(T)&&(T=T.slice(0,-7),b.capture=!0),!_&&g){if(A!=null)continue;t.removeEventListener(T,l[E],b),l[E]=null}if(A!=null)if(_)t[`__${T}`]=A,cg([T]);else{let x=function(R){l[C].call(this,R)};l[E]=Bf(T,t,x,b)}else _&&(t[`__${T}`]=void 0)}else if(C==="style")Ye(t,C,A);else if(C==="autofocus")ag(t,!!A);else if(!a&&(C==="__value"||C==="value"&&A!=null))t.value=t.__value=A;else if(C==="selected"&&u)Tg(t,A);else{var w=C;o||(w=ng(w));var O=w==="defaultValue"||w==="defaultChecked";if(A==null&&!a&&!O)if(i[C]=null,w==="value"||w==="checked"){let b=t;const E=e===void 0;if(w==="value"){let T=b.defaultValue;b.removeAttribute(w),b.defaultValue=T,b.value=b.__value=E?T:null}else{let T=b.defaultChecked;b.removeAttribute(w),b.defaultChecked=T,b.checked=E?T:!1}}else t.removeAttribute(C);else O||f.includes(w)&&(a||typeof A!="string")?t[w]=A:typeof A!="function"&&Ye(t,w,A)}}}return l}function Qf(t){return t.__attributes??(t.__attributes={[Yf]:t.nodeName.includes("-"),[Kf]:t.namespaceURI===Lm})}var Cc=new Map;function Xf(t){var e=Cc.get(t.nodeName);if(e)return e;Cc.set(t.nodeName,e=[]);for(var r,n=t,s=Element.prototype;s!==n;){r=mf(n);for(var i in r)r[i].set&&e.push(i);n=Sl(n)}return e}const Ag=()=>performance.now(),wr={tick:t=>requestAnimationFrame(t),now:()=>Ag(),tasks:new Set};function Zf(){const t=wr.now();wr.tasks.forEach(e=>{e.c(t)||(wr.tasks.delete(e),e.f())}),wr.tasks.size!==0&&wr.tick(Zf)}function Og(t){let e;return wr.tasks.size===0&&wr.tick(Zf),{promise:new Promise(r=>{wr.tasks.add(e={c:t,f:r})}),abort(){wr.tasks.delete(e)}}}function es(t,e){Ml(()=>{t.dispatchEvent(new CustomEvent(e))})}function Pg(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Ac(t){const e={},r=t.split(";");for(const n of r){const[s,i]=n.split(":");if(!s||i===void 0)break;const a=Pg(s.trim());e[a]=i.trim()}return e}const xg=t=>t;function $s(t,e,r,n){var s=(t&Om)!==0,i="both",a,o=e.inert,l=e.style.overflow,u,d;function f(){var w=Re,O=Me;cr(null),ur(null);try{return a??(a=r()(e,(n==null?void 0:n())??{},{direction:i}))}finally{cr(w),ur(O)}}var h={is_global:s,in(){e.inert=o,es(e,"introstart"),u=yo(e,f(),d,1,()=>{es(e,"introend"),u==null||u.abort(),u=a=void 0,e.style.overflow=l})},out(w){e.inert=!0,es(e,"outrostart"),d=yo(e,f(),u,0,()=>{es(e,"outroend"),w==null||w()})},stop:()=>{u==null||u.abort(),d==null||d.abort()}},g=Me;if((g.transitions??(g.transitions=[])).push(h),go){var y=s;if(!y){for(var _=g.parent;_&&(_.f&Bi)!==0;)for(;(_=_.parent)&&(_.f&ia)===0;);y=!_||(_.f&yf)!==0}y&&li(()=>{jt(()=>h.in())})}}function yo(t,e,r,n,s){var i=n===1;if(Un(e)){var a,o=!1;return Wi(()=>{if(!o){var w=e({direction:i?"in":"out"});a=yo(t,w,r,n,s)}}),{abort:()=>{o=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(r==null||r.deactivate(),!(e!=null&&e.duration))return s(),{abort:qt,deactivate:qt,reset:qt,t:()=>n};const{delay:l=0,css:u,tick:d,easing:f=xg}=e;var h=[];if(i&&r===void 0&&(d&&d(0,1),u)){var g=Ac(u(0,1));h.push(g,g)}var y=()=>1-n,_=t.animate(h,{duration:l});return _.onfinish=()=>{var w=(r==null?void 0:r.t())??1-n;r==null||r.abort();var O=n-w,C=e.duration*Math.abs(O),A=[];if(C>0){var b=!1;if(u)for(var E=Math.ceil(C/16.666666666666668),T=0;T<=E;T+=1){var x=w+O*f(T/E),R=Ac(u(x,1-x));A.push(R),b||(b=R.overflow==="hidden")}b&&(t.style.overflow="hidden"),y=()=>{var V=_.currentTime;return w+O*f(V/C)},d&&Og(()=>{if(_.playState!=="running")return!1;var V=y();return d(V,1-V),!0})}_=t.animate(A,{duration:C,fill:"forwards"}),_.onfinish=()=>{y=()=>n,d==null||d(n,1-n),s()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=qt)},deactivate:()=>{s=qt},reset:()=>{n===0&&(d==null||d(1,0))},t:()=>y()}}function ks(t,e,r=e){var n=ai();lg(t,"input",s=>{var i=s?t.defaultValue:t.value;if(i=Ia(t)?ja(i):i,r(i),n&&i!==(i=e())){var a=t.selectionStart,o=t.selectionEnd;t.value=i??"",o!==null&&(t.selectionStart=a,t.selectionEnd=Math.min(o,t.value.length))}}),jt(e)==null&&t.value&&r(Ia(t)?ja(t.value):t.value),Ji(()=>{var s=e();Ia(t)&&s===ja(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function Ia(t){var e=t.type;return e==="number"||e==="range"}function ja(t){return t===""?null:+t}function Lg(t,e,r){var n=Tr(t,e);n&&n.set&&(t[e]=r,Pl(()=>{t[e]=null}))}function Oc(t,e){return t===e||(t==null?void 0:t[Kr])===e}function Ze(t={},e,r,n){return li(()=>{var s,i;return Ji(()=>{s=i,i=(n==null?void 0:n())||[],jt(()=>{t!==r(...i)&&(e(t,...i),s&&Oc(r(...s),t)&&e(null,...s))})}),()=>{Wi(()=>{i&&Oc(r(...i),t)&&e(null,...i)})}}),t}function Us(t){return function(...e){var r=e[0];return r.preventDefault(),t==null?void 0:t.apply(this,e)}}function Xe(t=!1){const e=De,r=e.l.u;if(!r)return;let n=()=>ki(e.s);if(t){let s=0,i={};const a=Di(()=>{let o=!1;const l=e.s;for(const u in l)l[u]!==i[u]&&(i[u]=l[u],o=!0);return o&&s++,s});n=()=>p(a)}r.b.length&&$m(()=>{Pc(e,n),co(r.b)}),ho(()=>{const s=jt(()=>r.m.map(am));return()=>{for(const i of s)typeof i=="function"&&i()}}),r.a.length&&ho(()=>{Pc(e,n),co(r.a)})}function Pc(t,e){if(t.l.s)for(const r of t.l.s)p(r);e()}function Mg(t,e){var i;var r=(i=t.$$events)==null?void 0:i[e.type],n=ra(r)?r.slice():r==null?[]:[r];for(var s of n)s.call(this,e)}function eh(t,e,r){if(t==null)return e(void 0),qt;const n=jt(()=>t.subscribe(e,r));return n.unsubscribe?()=>n.unsubscribe():n}const jn=[];function jl(t,e=qt){let r=null;const n=new Set;function s(o){if(El(t,o)&&(t=o,r)){const l=!jn.length;for(const u of n)u[1](),jn.push(u,t);if(l){for(let u=0;u<jn.length;u+=2)jn[u][0](jn[u+1]);jn.length=0}}}function i(o){s(o(t))}function a(o,l=qt){const u=[o,l];return n.add(u),n.size===1&&(r=e(s,i)||qt),o(t),()=>{n.delete(u),n.size===0&&r&&(r(),r=null)}}return{set:s,update:i,subscribe:a}}function bn(t){let e;return eh(t,r=>e=r)(),e}let ts=!1,_o=Symbol();function Ig(t,e,r){const n=r[e]??(r[e]={store:null,source:aa(void 0),unsubscribe:qt});if(n.store!==t&&!(_o in r))if(n.unsubscribe(),n.store=t??null,t==null)n.source.v=void 0,n.unsubscribe=qt;else{var s=!0;n.unsubscribe=eh(t,i=>{s?n.source.v=i:I(n.source,i)}),s=!1}return t&&_o in r?bn(t):p(n.source)}function jg(){const t={};function e(){Pl(()=>{for(var r in t)t[r].unsubscribe();vf(t,_o,{enumerable:!1,value:!0})})}return[t,e]}function Rg(t){var e=ts;try{return ts=!1,[t(),ts]}finally{ts=e}}const Dg={get(t,e){if(!t.exclude.includes(e))return p(t.version),e in t.special?t.special[e]():t.props[e]},set(t,e,r){return e in t.special||(t.special[e]=re({get[e](){return t.props[e]}},e,Ef)),t.special[e](r),_c(t.version),!0},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},deleteProperty(t,e){return t.exclude.includes(e)||(t.exclude.push(e),_c(t.version)),!0},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function xc(t,e){return new Proxy({props:t,exclude:e,special:{},version:At(0)},Dg)}const Ng={get(t,e){let r=t.props.length;for(;r--;){let n=t.props[r];if(Un(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n)return n[e]}},set(t,e,r){let n=t.props.length;for(;n--;){let s=t.props[n];Un(s)&&(s=s());const i=Tr(s,e);if(i&&i.set)return i.set(r),!0}return!1},getOwnPropertyDescriptor(t,e){let r=t.props.length;for(;r--;){let n=t.props[r];if(Un(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n){const s=Tr(n,e);return s&&!s.configurable&&(s.configurable=!0),s}}},has(t,e){if(e===Kr||e===wf)return!1;for(let r of t.props)if(Un(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(t){const e=[];for(let r of t.props){Un(r)&&(r=r());for(const n in r)e.includes(n)||e.push(n)}return e}};function Fg(...t){return new Proxy({props:t},Ng)}function re(t,e,r,n){var T;var s=(r&Em)!==0,i=!si||(r&Tm)!==0,a=(r&Cm)!==0,o=(r&Am)!==0,l=!1,u;a?[u,l]=Rg(()=>t[e]):u=t[e];var d=Kr in t||wf in t,f=a&&(((T=Tr(t,e))==null?void 0:T.set)??(d&&e in t&&(x=>t[e]=x)))||void 0,h=n,g=!0,y=!1,_=()=>(y=!0,g&&(g=!1,o?h=jt(n):h=n),h);u===void 0&&n!==void 0&&(f&&i&&vm(),u=_(),f&&f(u));var w;if(i)w=()=>{var x=t[e];return x===void 0?_():(g=!0,y=!1,x)};else{var O=(s?Di:ge)(()=>t[e]);O.f|=om,w=()=>{var x=p(O);return x!==void 0&&(h=void 0),x===void 0?h:x}}if((r&Ef)===0)return w;if(f){var C=t.$$legacy;return function(x,R){return arguments.length>0?((!i||!R||C||l)&&f(R?w():x),x):w()}}var A=!1,b=aa(u),E=Di(()=>{var x=w(),R=p(b);return A?(A=!1,R):b.v=x});return s||(E.equals=Tl),function(x,R){if(arguments.length>0){const V=R?p(E):i&&a?qn(x):x;return E.equals(V)||(A=!0,I(b,V),y&&h!==void 0&&(h=V),jt(()=>p(E))),x}return p(E)}}function tt(t){De===null&&Ol(),si&&De.l!==null?th(De).m.push(t):ho(()=>{const e=jt(t);if(typeof e=="function")return e})}function $g(t){De===null&&Ol(),tt(()=>()=>jt(t))}function Gi(t){De===null&&Ol(),De.l===null&&pm(),th(De).a.push(t)}function th(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Ug="5";var pf;typeof window<"u"&&((pf=window.__svelte??(window.__svelte={})).v??(pf.v=new Set)).add(Ug);wm();var qg=Z('<nav class="nav svelte-7i67nm"><div class="nav-container svelte-7i67nm"><div class="nav-logo svelte-7i67nm"><a href="/" class="svelte-7i67nm"><img alt="xnham logo" title="xnham" class="svelte-7i67nm"></a></div> <button aria-label="Toggle navigation menu"><span class="hamburger-line svelte-7i67nm"></span> <span class="hamburger-line svelte-7i67nm"></span> <span class="hamburger-line svelte-7i67nm"></span></button> <ul><li><a href="/">Portfolio</a></li> <li><a href="/next">Next</a></li> <li><a href="/writing">Writing</a></li> <li><a href="/about">About</a></li> <li><a href="/contact">Contact</a></li></ul></div></nav>');function zg(t,e){We(e,!1);let r=re(e,"currentPage",8,"home"),n=H(!1),s=!0,i=H(!1);const a="/images/eggs_ham.png",o="/images/eggs_ham_animated.gif";function l(){I(n,!p(n))}function u(){I(n,!1)}function d(we){(we.key==="Enter"||we.key===" ")&&l(),we.key==="Escape"&&u()}function f(){s=window.innerWidth>768,s&&u()}tt(()=>(f(),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)})),Xe();var h=qg(),g=P(h),y=P(g),_=P(y),w=P(_),O=D(y,2);let C;var A=D(O,2);let b;var E=P(A),T=P(E);let x;var R=D(E,2),V=P(R);let U;var N=D(R,2),W=P(N);let L;var q=D(N,2),B=P(q);let Y;var Q=D(q,2),X=P(Q);let ve;_e((we,$,he,ie,c,m,v)=>{Ye(w,"src",p(i)?o:a),C=pe(O,1,"nav-hamburger svelte-7i67nm",null,C,we),Ye(O,"aria-expanded",p(n)),b=pe(A,1,"nav-links svelte-7i67nm",null,b,$),x=pe(T,1,"svelte-7i67nm",null,x,he),U=pe(V,1,"svelte-7i67nm",null,U,ie),L=pe(W,1,"svelte-7i67nm",null,L,c),Y=pe(B,1,"svelte-7i67nm",null,Y,m),ve=pe(X,1,"svelte-7i67nm",null,ve,v)},[()=>({active:p(n)}),()=>({active:p(n)}),()=>({active:r()==="home"}),()=>({active:r()==="next"}),()=>({active:r()==="writing"}),()=>({active:r()==="about"}),()=>({active:r()==="contact"})],ge),de("mouseenter",w,()=>I(i,!0)),de("mouseleave",w,()=>I(i,!1)),de("click",O,l),de("keydown",O,d),de("click",T,u),de("click",V,u),de("click",W,u),de("click",B,u),de("click",X,u),K(t,h),Ge()}var Bg=Z('<footer class="svelte-1kdtlwx"><p class="footer-nav svelte-1kdtlwx"><a href="/" class="svelte-1kdtlwx">Portfolio</a> | <a href="/next" class="svelte-1kdtlwx">Next</a> | <a href="/writing" class="svelte-1kdtlwx">Writing</a> | <a href="/about" class="svelte-1kdtlwx">About</a> | <a href="/contact" class="svelte-1kdtlwx">Contact</a></p> <p></p></footer>');function Vg(t,e){We(e,!1);const r=new Date().getFullYear();Xe();var n=Bg(),s=D(P(n),2);s.textContent=`© Wendy Ham ${r??""}`,K(t,n),Ge()}var Jg=Z(`<header><h1 class="title svelte-n55gc9"><span class="title-part svelte-n55gc9">Weekend</span> <span class="title-part svelte-n55gc9">Projects</span><span class="rotating-text svelte-n55gc9"> </span></h1> <div class="intro-wrapper svelte-n55gc9"><div class="intro-text two-columns svelte-n55gc9"><div class="column svelte-n55gc9"><p class="svelte-n55gc9">Building and maintaining software used to be expensive, which meant custom solutions were mainly accessible to large enterprises. That has changed. Now, pretty much anyone can create production-grade software using everyday language—such as by <a href="https://en.wikipedia.org/wiki/Vibe_coding" target="_blank">vibe coding</a>.</p> <p class="svelte-n55gc9">It's becoming completely normal for small businesses, families, and individuals to deploy bespoke software that's precisely tailored—even adaptive—to their needs.</p> <p class="svelte-n55gc9"> </p></div> <div class="column svelte-n55gc9"><p class="svelte-n55gc9">Before these powerful AI assistants came along, owing to my disjointed coding skills, I would've had to hire a developer or toil for months to build each piece of software, which would have been a silly use of resources.</p> <p class="svelte-n55gc9">I'm curious: Have the economic forces now enabled, maybe even favored, hyperpersonal software creation? Can someone with my patchy technical background build software that's actually worth using?</p> <p class="svelte-n55gc9">Btw, one of the things I made was an AI voice agent called Sunny, designed to help spark project ideas. If you'd love to streamline some aspects of your life, or just see what talking to a robot is like, how about <a href="/sunny">giving it a call</a>?</p></div></div></div> <div class="divider"></div></header>`);function Wg(t,e){We(e,!1);const r=["^Claude","^Cursor","^Replit","^n8n","^AutoGPT","^Gumloop","^VAPI"];let n=H(""),s=0,i=H(null),a=H("a year");function o(A,b){let E;do E=Math.floor(Math.random()*b);while(E===A);return E}function l(){p(i)&&(Ve(i,p(i).style.opacity="0"),setTimeout(()=>{s=o(s,r.length),I(n,r[s]),p(i)&&Ve(i,p(i).style.opacity="1")},500))}function u(){const E=new Date().getFullYear()-2024;if(E<=0)return"recently";if(E===1)return"a year";const T=["two","three","four","five","six","seven","eight","nine","ten"];return E>=2&&E<=10?`${T[E-2]} years`:`${E} years`}tt(()=>{l();const A=setInterval(l,3e3);return I(a,u()),()=>clearInterval(A)}),Xe();var d=Jg(),f=P(d),h=D(P(f),3),g=P(h);Ze(h,A=>I(i,A),()=>p(i));var y=D(f,2),_=P(y),w=P(_),O=D(P(w),4),C=P(O);_e(()=>{fe(g,p(n)),fe(C,`Through Weekend Projects, I hope to expand and share my understanding of this exciting era of software long tail. About ${p(a)??""} ago, empowered by Claude, Cursor, and other AI tools, I started building various pieces of 'software for one' to squash small yet pesky problems that were bugging me and my family.`)}),K(t,d),Ge()}function Gg(t){const{beat:e,fade:r,beatFade:n,bounce:s,shake:i,flash:a,spin:o,spinPulse:l,spinReverse:u,pulse:d,fixedWidth:f,inverse:h,border:g,listItem:y,flip:_,size:w,rotation:O,pull:C}=t,A={"fa-beat":e,"fa-fade":r,"fa-beat-fade":n,"fa-bounce":s,"fa-shake":i,"fa-flash":a,"fa-spin":o,"fa-spin-reverse":u,"fa-spin-pulse":l,"fa-pulse":d,"fa-fw":f,"fa-inverse":h,"fa-border":g,"fa-li":y,"fa-flip":_===!0,"fa-flip-horizontal":_==="horizontal"||_==="both","fa-flip-vertical":_==="vertical"||_==="both",[`fa-${w}`]:typeof w<"u"&&w!==null,[`fa-rotate-${O}`]:typeof O<"u"&&O!==null&&O!==0,[`fa-pull-${C}`]:typeof C<"u"&&C!==null,"fa-swap-opacity":t.swapOpacity};return Object.keys(A).map(b=>A[b]?b:null).filter(b=>b)}function Hg(t){return t=t-0,t===t}function Yg(t){return Hg(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,r){return r?r.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}function Kg(t){return typeof t=="string"?t:Object.keys(t).reduce((e,r)=>e+r.split(/(?=[A-Z])/).join("-").toLowerCase()+":"+t[r]+";","")}function rh(t,e,r={}){if(typeof e=="string")return e;const n=(e.children||[]).map(i=>rh(t,i)),s=Object.keys(e.attributes||{}).reduce((i,a)=>{const o=e.attributes[a];return a==="style"?i.attrs.style=Kg(o):a.indexOf("aria-")===0||a.indexOf("data-")===0?i.attrs[a.toLowerCase()]=o:i.attrs[Yg(a)]=o,i},{attrs:{}});return t(e.tag,{...s.attrs},n)}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function Qg(t,e,r){return(e=Zg(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function J(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lc(Object(r),!0).forEach(function(n){Qg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xg(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zg(t){var e=Xg(t,"string");return typeof e=="symbol"?e:e+""}const Mc=()=>{};let Rl={},nh={},ih=null,sh={mark:Mc,measure:Mc};try{typeof window<"u"&&(Rl=window),typeof document<"u"&&(nh=document),typeof MutationObserver<"u"&&(ih=MutationObserver),typeof performance<"u"&&(sh=performance)}catch{}const{userAgent:Ic=""}=Rl.navigator||{},Zr=Rl,Je=nh,jc=ih,rs=sh;Zr.document;const jr=!!Je.documentElement&&!!Je.head&&typeof Je.addEventListener=="function"&&typeof Je.createElement=="function",ah=~Ic.indexOf("MSIE")||~Ic.indexOf("Trident/");var ey=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,ty=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,oh={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},ry={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},lh=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],lt="classic",da="duotone",ny="sharp",iy="sharp-duotone",ch=[lt,da,ny,iy],sy={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},ay={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},oy=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),ly={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},cy=["fak","fa-kit","fakd","fa-kit-duotone"],Rc={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},uy=["kit"],dy={kit:{"fa-kit":"fak"}},fy=["fak","fakd"],hy={kit:{fak:"fa-kit"}},Dc={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},ns={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},py=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],vy=["fak","fa-kit","fakd","fa-kit-duotone"],my={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},gy={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},yy={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},bo={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},_y=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],wo=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...py,..._y],by=["solid","regular","light","thin","duotone","brands"],uh=[1,2,3,4,5,6,7,8,9,10],wy=uh.concat([11,12,13,14,15,16,17,18,19,20]),ky=[...Object.keys(yy),...by,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ns.GROUP,ns.SWAP_OPACITY,ns.PRIMARY,ns.SECONDARY].concat(uh.map(t=>"".concat(t,"x"))).concat(wy.map(t=>"w-".concat(t))),Sy={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const xr="___FONT_AWESOME___",ko=16,dh="fa",fh="svg-inline--fa",wn="data-fa-i2svg",So="data-fa-pseudo-element",Ey="data-fa-pseudo-element-pending",Dl="data-prefix",Nl="data-icon",Nc="fontawesome-i2svg",Ty="async",Cy=["HTML","HEAD","STYLE","SCRIPT"],hh=(()=>{try{return!0}catch{return!1}})();function Hi(t){return new Proxy(t,{get(e,r){return r in e?e[r]:e[lt]}})}const ph=J({},oh);ph[lt]=J(J(J(J({},{"fa-duotone":"duotone"}),oh[lt]),Rc.kit),Rc["kit-duotone"]);const Ay=Hi(ph),Eo=J({},ly);Eo[lt]=J(J(J(J({},{duotone:"fad"}),Eo[lt]),Dc.kit),Dc["kit-duotone"]);const Fc=Hi(Eo),To=J({},bo);To[lt]=J(J({},To[lt]),hy.kit);const Fl=Hi(To),Co=J({},gy);Co[lt]=J(J({},Co[lt]),dy.kit);Hi(Co);const Oy=ey,vh="fa-layers-text",Py=ty,xy=J({},sy);Hi(xy);const Ly=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ra=ry,My=[...uy,...ky],xi=Zr.FontAwesomeConfig||{};function Iy(t){var e=Je.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function jy(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Je&&typeof Je.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[r,n]=e;const s=jy(Iy(r));s!=null&&(xi[n]=s)});const mh={styleDefault:"solid",familyDefault:lt,cssPrefix:dh,replacementClass:fh,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};xi.familyPrefix&&(xi.cssPrefix=xi.familyPrefix);const Zn=J(J({},mh),xi);Zn.autoReplaceSvg||(Zn.observeMutations=!1);const te={};Object.keys(mh).forEach(t=>{Object.defineProperty(te,t,{enumerable:!0,set:function(e){Zn[t]=e,Li.forEach(r=>r(te))},get:function(){return Zn[t]}})});Object.defineProperty(te,"familyPrefix",{enumerable:!0,set:function(t){Zn.cssPrefix=t,Li.forEach(e=>e(te))},get:function(){return Zn.cssPrefix}});Zr.FontAwesomeConfig=te;const Li=[];function Ry(t){return Li.push(t),()=>{Li.splice(Li.indexOf(t),1)}}const Fr=ko,sr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Dy(t){if(!t||!jr)return;const e=Je.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const r=Je.head.childNodes;let n=null;for(let s=r.length-1;s>-1;s--){const i=r[s],a=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(n=i)}return Je.head.insertBefore(e,n),t}const Ny="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ni(){let t=12,e="";for(;t-- >0;)e+=Ny[Math.random()*62|0];return e}function ui(t){const e=[];for(let r=(t||[]).length>>>0;r--;)e[r]=t[r];return e}function $l(t){return t.classList?ui(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function gh(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Fy(t){return Object.keys(t||{}).reduce((e,r)=>e+"".concat(r,'="').concat(gh(t[r]),'" '),"").trim()}function fa(t){return Object.keys(t||{}).reduce((e,r)=>e+"".concat(r,": ").concat(t[r].trim(),";"),"")}function Ul(t){return t.size!==sr.size||t.x!==sr.x||t.y!==sr.y||t.rotate!==sr.rotate||t.flipX||t.flipY}function $y(t){let{transform:e,containerWidth:r,iconWidth:n}=t;const s={transform:"translate(".concat(r/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(i," ").concat(a," ").concat(o)},u={transform:"translate(".concat(n/2*-1," -256)")};return{outer:s,inner:l,path:u}}function Uy(t){let{transform:e,width:r=ko,height:n=ko,startCentered:s=!1}=t,i="";return s&&ah?i+="translate(".concat(e.x/Fr-r/2,"em, ").concat(e.y/Fr-n/2,"em) "):s?i+="translate(calc(-50% + ".concat(e.x/Fr,"em), calc(-50% + ").concat(e.y/Fr,"em)) "):i+="translate(".concat(e.x/Fr,"em, ").concat(e.y/Fr,"em) "),i+="scale(".concat(e.size/Fr*(e.flipX?-1:1),", ").concat(e.size/Fr*(e.flipY?-1:1),") "),i+="rotate(".concat(e.rotate,"deg) "),i}var qy=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function yh(){const t=dh,e=fh,r=te.cssPrefix,n=te.replacementClass;let s=qy;if(r!==t||n!==e){const i=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),o=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(r,"-")).replace(a,"--".concat(r,"-")).replace(o,".".concat(n))}return s}let $c=!1;function Da(){te.autoAddCss&&!$c&&(Dy(yh()),$c=!0)}var zy={mixout(){return{dom:{css:yh,insertCss:Da}}},hooks(){return{beforeDOMElementCreation(){Da()},beforeI2svg(){Da()}}}};const Lr=Zr||{};Lr[xr]||(Lr[xr]={});Lr[xr].styles||(Lr[xr].styles={});Lr[xr].hooks||(Lr[xr].hooks={});Lr[xr].shims||(Lr[xr].shims=[]);var ar=Lr[xr];const _h=[],bh=function(){Je.removeEventListener("DOMContentLoaded",bh),qs=1,_h.map(t=>t())};let qs=!1;jr&&(qs=(Je.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Je.readyState),qs||Je.addEventListener("DOMContentLoaded",bh));function By(t){jr&&(qs?setTimeout(t,0):_h.push(t))}function Yi(t){const{tag:e,attributes:r={},children:n=[]}=t;return typeof t=="string"?gh(t):"<".concat(e," ").concat(Fy(r),">").concat(n.map(Yi).join(""),"</").concat(e,">")}function Uc(t,e,r){if(t&&t[e]&&t[e][r])return{prefix:e,iconName:r,icon:t[e][r]}}var Na=function(e,r,n,s){var i=Object.keys(e),a=i.length,o=r,l,u,d;for(n===void 0?(l=1,d=e[i[0]]):(l=0,d=n);l<a;l++)u=i[l],d=o(d,e[u],u,e);return d};function Vy(t){const e=[];let r=0;const n=t.length;for(;r<n;){const s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){const i=t.charCodeAt(r++);(i&64512)==56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e}function Ao(t){const e=Vy(t);return e.length===1?e[0].toString(16):null}function Jy(t,e){const r=t.length;let n=t.charCodeAt(e),s;return n>=55296&&n<=56319&&r>e+1&&(s=t.charCodeAt(e+1),s>=56320&&s<=57343)?(n-55296)*1024+s-56320+65536:n}function qc(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return!!n.icon?e[n.iconName]=n.icon:e[r]=n,e},{})}function Oo(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:n=!1}=r,s=qc(e);typeof ar.hooks.addPack=="function"&&!n?ar.hooks.addPack(t,qc(e)):ar.styles[t]=J(J({},ar.styles[t]||{}),s),t==="fas"&&Oo("fa",e)}const{styles:Fi,shims:Wy}=ar,wh=Object.keys(Fl),Gy=wh.reduce((t,e)=>(t[e]=Object.keys(Fl[e]),t),{});let ql=null,kh={},Sh={},Eh={},Th={},Ch={};function Hy(t){return~My.indexOf(t)}function Yy(t,e){const r=e.split("-"),n=r[0],s=r.slice(1).join("-");return n===t&&s!==""&&!Hy(s)?s:null}const Ah=()=>{const t=n=>Na(Fi,(s,i,a)=>(s[a]=Na(i,n,{}),s),{});kh=t((n,s,i)=>(s[3]&&(n[s[3]]=i),s[2]&&s[2].filter(o=>typeof o=="number").forEach(o=>{n[o.toString(16)]=i}),n)),Sh=t((n,s,i)=>(n[i]=i,s[2]&&s[2].filter(o=>typeof o=="string").forEach(o=>{n[o]=i}),n)),Ch=t((n,s,i)=>{const a=s[2];return n[i]=i,a.forEach(o=>{n[o]=i}),n});const e="far"in Fi||te.autoFetchSvg,r=Na(Wy,(n,s)=>{const i=s[0];let a=s[1];const o=s[2];return a==="far"&&!e&&(a="fas"),typeof i=="string"&&(n.names[i]={prefix:a,iconName:o}),typeof i=="number"&&(n.unicodes[i.toString(16)]={prefix:a,iconName:o}),n},{names:{},unicodes:{}});Eh=r.names,Th=r.unicodes,ql=ha(te.styleDefault,{family:te.familyDefault})};Ry(t=>{ql=ha(t.styleDefault,{family:te.familyDefault})});Ah();function zl(t,e){return(kh[t]||{})[e]}function Ky(t,e){return(Sh[t]||{})[e]}function hn(t,e){return(Ch[t]||{})[e]}function Oh(t){return Eh[t]||{prefix:null,iconName:null}}function Qy(t){const e=Th[t],r=zl("fas",t);return e||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function en(){return ql}const Ph=()=>({prefix:null,iconName:null,rest:[]});function Xy(t){let e=lt;const r=wh.reduce((n,s)=>(n[s]="".concat(te.cssPrefix,"-").concat(s),n),{});return ch.forEach(n=>{(t.includes(r[n])||t.some(s=>Gy[n].includes(s)))&&(e=n)}),e}function ha(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:r=lt}=e,n=Ay[r][t];if(r===da&&!t)return"fad";const s=Fc[r][t]||Fc[r][n],i=t in ar.styles?t:null;return s||i||null}function Zy(t){let e=[],r=null;return t.forEach(n=>{const s=Yy(te.cssPrefix,n);s?r=s:n&&e.push(n)}),{iconName:r,rest:e}}function zc(t){return t.sort().filter((e,r,n)=>n.indexOf(e)===r)}function pa(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:r=!1}=e;let n=null;const s=wo.concat(vy),i=zc(t.filter(f=>s.includes(f))),a=zc(t.filter(f=>!wo.includes(f))),o=i.filter(f=>(n=f,!lh.includes(f))),[l=null]=o,u=Xy(i),d=J(J({},Zy(a)),{},{prefix:ha(l,{family:u})});return J(J(J({},d),n_({values:t,family:u,styles:Fi,config:te,canonical:d,givenPrefix:n})),e_(r,n,d))}function e_(t,e,r){let{prefix:n,iconName:s}=r;if(t||!n||!s)return{prefix:n,iconName:s};const i=e==="fa"?Oh(s):{},a=hn(n,s);return s=i.iconName||a||s,n=i.prefix||n,n==="far"&&!Fi.far&&Fi.fas&&!te.autoFetchSvg&&(n="fas"),{prefix:n,iconName:s}}const t_=ch.filter(t=>t!==lt||t!==da),r_=Object.keys(bo).filter(t=>t!==lt).map(t=>Object.keys(bo[t])).flat();function n_(t){const{values:e,family:r,canonical:n,givenPrefix:s="",styles:i={},config:a={}}=t,o=r===da,l=e.includes("fa-duotone")||e.includes("fad"),u=a.familyDefault==="duotone",d=n.prefix==="fad"||n.prefix==="fa-duotone";if(!o&&(l||u||d)&&(n.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(n.prefix="fab"),!n.prefix&&t_.includes(r)&&(Object.keys(i).find(h=>r_.includes(h))||a.autoFetchSvg)){const h=oy.get(r).defaultShortPrefixId;n.prefix=h,n.iconName=hn(n.prefix,n.iconName)||n.iconName}return(n.prefix==="fa"||s==="fa")&&(n.prefix=en()||"fas"),n}class i_{constructor(){this.definitions={}}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const s=r.reduce(this._pullDefinitions,{});Object.keys(s).forEach(i=>{this.definitions[i]=J(J({},this.definitions[i]||{}),s[i]),Oo(i,s[i]);const a=Fl[lt][i];a&&Oo(a,s[i]),Ah()})}reset(){this.definitions={}}_pullDefinitions(e,r){const n=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(n).map(s=>{const{prefix:i,iconName:a,icon:o}=n[s],l=o[2];e[i]||(e[i]={}),l.length>0&&l.forEach(u=>{typeof u=="string"&&(e[i][u]=o)}),e[i][a]=o}),e}}let Bc=[],Vn={};const Wn={},s_=Object.keys(Wn);function a_(t,e){let{mixoutsTo:r}=e;return Bc=t,Vn={},Object.keys(Wn).forEach(n=>{s_.indexOf(n)===-1&&delete Wn[n]}),Bc.forEach(n=>{const s=n.mixout?n.mixout():{};if(Object.keys(s).forEach(i=>{typeof s[i]=="function"&&(r[i]=s[i]),typeof s[i]=="object"&&Object.keys(s[i]).forEach(a=>{r[i]||(r[i]={}),r[i][a]=s[i][a]})}),n.hooks){const i=n.hooks();Object.keys(i).forEach(a=>{Vn[a]||(Vn[a]=[]),Vn[a].push(i[a])})}n.provides&&n.provides(Wn)}),r}function Po(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s];return(Vn[t]||[]).forEach(a=>{e=a.apply(null,[e,...n])}),e}function kn(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];(Vn[t]||[]).forEach(i=>{i.apply(null,r)})}function tn(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Wn[t]?Wn[t].apply(null,e):void 0}function xo(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const r=t.prefix||en();if(e)return e=hn(r,e)||e,Uc(xh.definitions,r,e)||Uc(ar.styles,r,e)}const xh=new i_,o_=()=>{te.autoReplaceSvg=!1,te.observeMutations=!1,kn("noAuto")},l_={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return jr?(kn("beforeI2svg",t),tn("pseudoElements2svg",t),tn("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;te.autoReplaceSvg===!1&&(te.autoReplaceSvg=!0),te.observeMutations=!0,By(()=>{u_({autoReplaceSvgRoot:e}),kn("watch",t)})}},c_={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:hn(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],r=ha(t[0]);return{prefix:r,iconName:hn(r,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(te.cssPrefix,"-"))>-1||t.match(Oy))){const e=pa(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||en(),iconName:hn(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=en();return{prefix:e,iconName:hn(e,t)||t}}}},Pt={noAuto:o_,config:te,dom:l_,parse:c_,library:xh,findIconDefinition:xo,toHtml:Yi},u_=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Je}=t;(Object.keys(ar.styles).length>0||te.autoFetchSvg)&&jr&&te.autoReplaceSvg&&Pt.dom.i2svg({node:e})};function va(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(r=>Yi(r))}}),Object.defineProperty(t,"node",{get:function(){if(!jr)return;const r=Je.createElement("div");return r.innerHTML=t.html,r.children}}),t}function d_(t){let{children:e,main:r,mask:n,attributes:s,styles:i,transform:a}=t;if(Ul(a)&&r.found&&!n.found){const{width:o,height:l}=r,u={x:o/l/2,y:.5};s.style=fa(J(J({},i),{},{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function f_(t){let{prefix:e,iconName:r,children:n,attributes:s,symbol:i}=t;const a=i===!0?"".concat(e,"-").concat(te.cssPrefix,"-").concat(r):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:J(J({},s),{},{id:a}),children:n}]}]}function Bl(t){const{icons:{main:e,mask:r},prefix:n,iconName:s,transform:i,symbol:a,title:o,maskId:l,titleId:u,extra:d,watchable:f=!1}=t,{width:h,height:g}=r.found?r:e,y=fy.includes(n),_=[te.replacementClass,s?"".concat(te.cssPrefix,"-").concat(s):""].filter(E=>d.classes.indexOf(E)===-1).filter(E=>E!==""||!!E).concat(d.classes).join(" ");let w={children:[],attributes:J(J({},d.attributes),{},{"data-prefix":n,"data-icon":s,class:_,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h," ").concat(g)})};const O=y&&!~d.classes.indexOf("fa-fw")?{width:"".concat(h/g*16*.0625,"em")}:{};f&&(w.attributes[wn]=""),o&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(u||Ni())},children:[o]}),delete w.attributes.title);const C=J(J({},w),{},{prefix:n,iconName:s,main:e,mask:r,maskId:l,transform:i,symbol:a,styles:J(J({},O),d.styles)}),{children:A,attributes:b}=r.found&&e.found?tn("generateAbstractMask",C)||{children:[],attributes:{}}:tn("generateAbstractIcon",C)||{children:[],attributes:{}};return C.children=A,C.attributes=b,a?f_(C):d_(C)}function Vc(t){const{content:e,width:r,height:n,transform:s,title:i,extra:a,watchable:o=!1}=t,l=J(J(J({},a.attributes),i?{title:i}:{}),{},{class:a.classes.join(" ")});o&&(l[wn]="");const u=J({},a.styles);Ul(s)&&(u.transform=Uy({transform:s,startCentered:!0,width:r,height:n}),u["-webkit-transform"]=u.transform);const d=fa(u);d.length>0&&(l.style=d);const f=[];return f.push({tag:"span",attributes:l,children:[e]}),i&&f.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),f}function h_(t){const{content:e,title:r,extra:n}=t,s=J(J(J({},n.attributes),r?{title:r}:{}),{},{class:n.classes.join(" ")}),i=fa(n.styles);i.length>0&&(s.style=i);const a=[];return a.push({tag:"span",attributes:s,children:[e]}),r&&a.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),a}const{styles:Fa}=ar;function Lo(t){const e=t[0],r=t[1],[n]=t.slice(4);let s=null;return Array.isArray(n)?s={tag:"g",attributes:{class:"".concat(te.cssPrefix,"-").concat(Ra.GROUP)},children:[{tag:"path",attributes:{class:"".concat(te.cssPrefix,"-").concat(Ra.SECONDARY),fill:"currentColor",d:n[0]}},{tag:"path",attributes:{class:"".concat(te.cssPrefix,"-").concat(Ra.PRIMARY),fill:"currentColor",d:n[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:n}},{found:!0,width:e,height:r,icon:s}}const p_={found:!1,width:512,height:512};function v_(t,e){!hh&&!te.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Mo(t,e){let r=e;return e==="fa"&&te.styleDefault!==null&&(e=en()),new Promise((n,s)=>{if(r==="fa"){const i=Oh(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&Fa[e]&&Fa[e][t]){const i=Fa[e][t];return n(Lo(i))}v_(t,e),n(J(J({},p_),{},{icon:te.showMissingIcons&&t?tn("missingIconAbstract")||{}:{}}))})}const Jc=()=>{},Io=te.measurePerformance&&rs&&rs.mark&&rs.measure?rs:{mark:Jc,measure:Jc},Ei='FA "6.7.2"',m_=t=>(Io.mark("".concat(Ei," ").concat(t," begins")),()=>Lh(t)),Lh=t=>{Io.mark("".concat(Ei," ").concat(t," ends")),Io.measure("".concat(Ei," ").concat(t),"".concat(Ei," ").concat(t," begins"),"".concat(Ei," ").concat(t," ends"))};var Vl={begin:m_,end:Lh};const Ss=()=>{};function Wc(t){return typeof(t.getAttribute?t.getAttribute(wn):null)=="string"}function g_(t){const e=t.getAttribute?t.getAttribute(Dl):null,r=t.getAttribute?t.getAttribute(Nl):null;return e&&r}function y_(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(te.replacementClass)}function __(){return te.autoReplaceSvg===!0?Es.replace:Es[te.autoReplaceSvg]||Es.replace}function b_(t){return Je.createElementNS("http://www.w3.org/2000/svg",t)}function w_(t){return Je.createElement(t)}function Mh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:r=t.tag==="svg"?b_:w_}=e;if(typeof t=="string")return Je.createTextNode(t);const n=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(i){n.setAttribute(i,t.attributes[i])}),(t.children||[]).forEach(function(i){n.appendChild(Mh(i,{ceFn:r}))}),n}function k_(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Es={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(r=>{e.parentNode.insertBefore(Mh(r),e)}),e.getAttribute(wn)===null&&te.keepOriginalSource){let r=Je.createComment(k_(e));e.parentNode.replaceChild(r,e)}else e.remove()},nest:function(t){const e=t[0],r=t[1];if(~$l(e).indexOf(te.replacementClass))return Es.replace(t);const n=new RegExp("".concat(te.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){const i=r[0].attributes.class.split(" ").reduce((a,o)=>(o===te.replacementClass||o.match(n)?a.toSvg.push(o):a.toNode.push(o),a),{toNode:[],toSvg:[]});r[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",i.toNode.join(" "))}const s=r.map(i=>Yi(i)).join(`
`);e.setAttribute(wn,""),e.innerHTML=s}};function Gc(t){t()}function Ih(t,e){const r=typeof e=="function"?e:Ss;if(t.length===0)r();else{let n=Gc;te.mutateApproach===Ty&&(n=Zr.requestAnimationFrame||Gc),n(()=>{const s=__(),i=Vl.begin("mutate");t.map(s),i(),r()})}}let Jl=!1;function jh(){Jl=!0}function jo(){Jl=!1}let zs=null;function Hc(t){if(!jc||!te.observeMutations)return;const{treeCallback:e=Ss,nodeCallback:r=Ss,pseudoElementsCallback:n=Ss,observeMutationsRoot:s=Je}=t;zs=new jc(i=>{if(Jl)return;const a=en();ui(i).forEach(o=>{if(o.type==="childList"&&o.addedNodes.length>0&&!Wc(o.addedNodes[0])&&(te.searchPseudoElements&&n(o.target),e(o.target)),o.type==="attributes"&&o.target.parentNode&&te.searchPseudoElements&&n(o.target.parentNode),o.type==="attributes"&&Wc(o.target)&&~Ly.indexOf(o.attributeName))if(o.attributeName==="class"&&g_(o.target)){const{prefix:l,iconName:u}=pa($l(o.target));o.target.setAttribute(Dl,l||a),u&&o.target.setAttribute(Nl,u)}else y_(o.target)&&r(o.target)})}),jr&&zs.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function S_(){zs&&zs.disconnect()}function E_(t){const e=t.getAttribute("style");let r=[];return e&&(r=e.split(";").reduce((n,s)=>{const i=s.split(":"),a=i[0],o=i.slice(1);return a&&o.length>0&&(n[a]=o.join(":").trim()),n},{})),r}function T_(t){const e=t.getAttribute("data-prefix"),r=t.getAttribute("data-icon"),n=t.innerText!==void 0?t.innerText.trim():"";let s=pa($l(t));return s.prefix||(s.prefix=en()),e&&r&&(s.prefix=e,s.iconName=r),s.iconName&&s.prefix||(s.prefix&&n.length>0&&(s.iconName=Ky(s.prefix,t.innerText)||zl(s.prefix,Ao(t.innerText))),!s.iconName&&te.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function C_(t){const e=ui(t.attributes).reduce((s,i)=>(s.name!=="class"&&s.name!=="style"&&(s[i.name]=i.value),s),{}),r=t.getAttribute("title"),n=t.getAttribute("data-fa-title-id");return te.autoA11y&&(r?e["aria-labelledby"]="".concat(te.replacementClass,"-title-").concat(n||Ni()):(e["aria-hidden"]="true",e.focusable="false")),e}function A_(){return{iconName:null,title:null,titleId:null,prefix:null,transform:sr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Yc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:r,prefix:n,rest:s}=T_(t),i=C_(t),a=Po("parseNodeAttributes",{},t);let o=e.styleParser?E_(t):[];return J({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:n,transform:sr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:o,attributes:i}},a)}const{styles:O_}=ar;function Rh(t){const e=te.autoReplaceSvg==="nest"?Yc(t,{styleParser:!1}):Yc(t);return~e.extra.classes.indexOf(vh)?tn("generateLayersText",t,e):tn("generateSvgReplacementMutation",t,e)}function P_(){return[...cy,...wo]}function Kc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!jr)return Promise.resolve();const r=Je.documentElement.classList,n=d=>r.add("".concat(Nc,"-").concat(d)),s=d=>r.remove("".concat(Nc,"-").concat(d)),i=te.autoFetchSvg?P_():lh.concat(Object.keys(O_));i.includes("fa")||i.push("fa");const a=[".".concat(vh,":not([").concat(wn,"])")].concat(i.map(d=>".".concat(d,":not([").concat(wn,"])"))).join(", ");if(a.length===0)return Promise.resolve();let o=[];try{o=ui(t.querySelectorAll(a))}catch{}if(o.length>0)n("pending"),s("complete");else return Promise.resolve();const l=Vl.begin("onTree"),u=o.reduce((d,f)=>{try{const h=Rh(f);h&&d.push(h)}catch(h){hh||h.name==="MissingIcon"&&console.error(h)}return d},[]);return new Promise((d,f)=>{Promise.all(u).then(h=>{Ih(h,()=>{n("active"),n("complete"),s("pending"),typeof e=="function"&&e(),l(),d()})}).catch(h=>{l(),f(h)})})}function x_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Rh(t).then(r=>{r&&Ih([r],e)})}function L_(t){return function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=(e||{}).icon?e:xo(e||{});let{mask:s}=r;return s&&(s=(s||{}).icon?s:xo(s||{})),t(n,J(J({},r),{},{mask:s}))}}const M_=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:r=sr,symbol:n=!1,mask:s=null,maskId:i=null,title:a=null,titleId:o=null,classes:l=[],attributes:u={},styles:d={}}=e;if(!t)return;const{prefix:f,iconName:h,icon:g}=t;return va(J({type:"icon"},t),()=>(kn("beforeDOMElementCreation",{iconDefinition:t,params:e}),te.autoA11y&&(a?u["aria-labelledby"]="".concat(te.replacementClass,"-title-").concat(o||Ni()):(u["aria-hidden"]="true",u.focusable="false")),Bl({icons:{main:Lo(g),mask:s?Lo(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f,iconName:h,transform:J(J({},sr),r),symbol:n,title:a,maskId:i,titleId:o,extra:{attributes:u,styles:d,classes:l}})))};var I_={mixout(){return{icon:L_(M_)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=Kc,t.nodeCallback=x_,t}}},provides(t){t.i2svg=function(e){const{node:r=Je,callback:n=()=>{}}=e;return Kc(r,n)},t.generateSvgReplacementMutation=function(e,r){const{iconName:n,title:s,titleId:i,prefix:a,transform:o,symbol:l,mask:u,maskId:d,extra:f}=r;return new Promise((h,g)=>{Promise.all([Mo(n,a),u.iconName?Mo(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(y=>{let[_,w]=y;h([e,Bl({icons:{main:_,mask:w},prefix:a,iconName:n,transform:o,symbol:l,maskId:d,title:s,titleId:i,extra:f,watchable:!0})])}).catch(g)})},t.generateAbstractIcon=function(e){let{children:r,attributes:n,main:s,transform:i,styles:a}=e;const o=fa(a);o.length>0&&(n.style=o);let l;return Ul(i)&&(l=tn("generateAbstractTransformGrouping",{main:s,transform:i,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:n}}}},j_={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:r=[]}=e;return va({type:"layer"},()=>{kn("beforeDOMElementCreation",{assembler:t,params:e});let n=[];return t(s=>{Array.isArray(s)?s.map(i=>{n=n.concat(i.abstract)}):n=n.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(te.cssPrefix,"-layers"),...r].join(" ")},children:n}]})}}}},R_={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:r=null,classes:n=[],attributes:s={},styles:i={}}=e;return va({type:"counter",content:t},()=>(kn("beforeDOMElementCreation",{content:t,params:e}),h_({content:t.toString(),title:r,extra:{attributes:s,styles:i,classes:["".concat(te.cssPrefix,"-layers-counter"),...n]}})))}}}},D_={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:r=sr,title:n=null,classes:s=[],attributes:i={},styles:a={}}=e;return va({type:"text",content:t},()=>(kn("beforeDOMElementCreation",{content:t,params:e}),Vc({content:t,transform:J(J({},sr),r),title:n,extra:{attributes:i,styles:a,classes:["".concat(te.cssPrefix,"-layers-text"),...s]}})))}}},provides(t){t.generateLayersText=function(e,r){const{title:n,transform:s,extra:i}=r;let a=null,o=null;if(ah){const l=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();a=u.width/l,o=u.height/l}return te.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,Vc({content:e.innerHTML,width:a,height:o,transform:s,title:n,extra:i,watchable:!0})])}}};const N_=new RegExp('"',"ug"),Qc=[1105920,1112319],Xc=J(J(J(J({},{FontAwesome:{normal:"fas",400:"fas"}}),ay),Sy),my),Ro=Object.keys(Xc).reduce((t,e)=>(t[e.toLowerCase()]=Xc[e],t),{}),F_=Object.keys(Ro).reduce((t,e)=>{const r=Ro[e];return t[e]=r[900]||[...Object.entries(r)][0][1],t},{});function $_(t){const e=t.replace(N_,""),r=Jy(e,0),n=r>=Qc[0]&&r<=Qc[1],s=e.length===2?e[0]===e[1]:!1;return{value:Ao(s?e[0]:e),isSecondary:n||s}}function U_(t,e){const r=t.replace(/^['"]|['"]$/g,"").toLowerCase(),n=parseInt(e),s=isNaN(n)?"normal":n;return(Ro[r]||{})[s]||F_[r]}function Zc(t,e){const r="".concat(Ey).concat(e.replace(":","-"));return new Promise((n,s)=>{if(t.getAttribute(r)!==null)return n();const a=ui(t.children).filter(h=>h.getAttribute(So)===e)[0],o=Zr.getComputedStyle(t,e),l=o.getPropertyValue("font-family"),u=l.match(Py),d=o.getPropertyValue("font-weight"),f=o.getPropertyValue("content");if(a&&!u)return t.removeChild(a),n();if(u&&f!=="none"&&f!==""){const h=o.getPropertyValue("content");let g=U_(l,d);const{value:y,isSecondary:_}=$_(h),w=u[0].startsWith("FontAwesome");let O=zl(g,y),C=O;if(w){const A=Qy(y);A.iconName&&A.prefix&&(O=A.iconName,g=A.prefix)}if(O&&!_&&(!a||a.getAttribute(Dl)!==g||a.getAttribute(Nl)!==C)){t.setAttribute(r,C),a&&t.removeChild(a);const A=A_(),{extra:b}=A;b.attributes[So]=e,Mo(O,g).then(E=>{const T=Bl(J(J({},A),{},{icons:{main:E,mask:Ph()},prefix:g,iconName:C,extra:b,watchable:!0})),x=Je.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(x,t.firstChild):t.appendChild(x),x.outerHTML=T.map(R=>Yi(R)).join(`
`),t.removeAttribute(r),n()}).catch(s)}else n()}else n()})}function q_(t){return Promise.all([Zc(t,"::before"),Zc(t,"::after")])}function z_(t){return t.parentNode!==document.head&&!~Cy.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(So)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function eu(t){if(jr)return new Promise((e,r)=>{const n=ui(t.querySelectorAll("*")).filter(z_).map(q_),s=Vl.begin("searchPseudoElements");jh(),Promise.all(n).then(()=>{s(),jo(),e()}).catch(()=>{s(),jo(),r()})})}var B_={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=eu,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:r=Je}=e;te.searchPseudoElements&&eu(r)}}};let tu=!1;var V_={mixout(){return{dom:{unwatch(){jh(),tu=!0}}}},hooks(){return{bootstrap(){Hc(Po("mutationObserverCallbacks",{}))},noAuto(){S_()},watch(t){const{observeMutationsRoot:e}=t;tu?jo():Hc(Po("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const ru=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((r,n)=>{const s=n.toLowerCase().split("-"),i=s[0];let a=s.slice(1).join("-");if(i&&a==="h")return r.flipX=!0,r;if(i&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(i){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},e)};var J_={mixout(){return{parse:{transform:t=>ru(t)}}},hooks(){return{parseNodeAttributes(t,e){const r=e.getAttribute("data-fa-transform");return r&&(t.transform=ru(r)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:r,transform:n,containerWidth:s,iconWidth:i}=e;const a={transform:"translate(".concat(s/2," 256)")},o="translate(".concat(n.x*32,", ").concat(n.y*32,") "),l="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),u="rotate(".concat(n.rotate," 0 0)"),d={transform:"".concat(o," ").concat(l," ").concat(u)},f={transform:"translate(".concat(i/2*-1," -256)")},h={outer:a,inner:d,path:f};return{tag:"g",attributes:J({},h.outer),children:[{tag:"g",attributes:J({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:J(J({},r.icon.attributes),h.path)}]}]}}}};const $a={x:0,y:0,width:"100%",height:"100%"};function nu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function W_(t){return t.tag==="g"?t.children:[t]}var G_={hooks(){return{parseNodeAttributes(t,e){const r=e.getAttribute("data-fa-mask"),n=r?pa(r.split(" ").map(s=>s.trim())):Ph();return n.prefix||(n.prefix=en()),t.mask=n,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:r,attributes:n,main:s,mask:i,maskId:a,transform:o}=e;const{width:l,icon:u}=s,{width:d,icon:f}=i,h=$y({transform:o,containerWidth:d,iconWidth:l}),g={tag:"rect",attributes:J(J({},$a),{},{fill:"white"})},y=u.children?{children:u.children.map(nu)}:{},_={tag:"g",attributes:J({},h.inner),children:[nu(J({tag:u.tag,attributes:J(J({},u.attributes),h.path)},y))]},w={tag:"g",attributes:J({},h.outer),children:[_]},O="mask-".concat(a||Ni()),C="clip-".concat(a||Ni()),A={tag:"mask",attributes:J(J({},$a),{},{id:O,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[g,w]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:C},children:W_(f)},A]};return r.push(b,{tag:"rect",attributes:J({fill:"currentColor","clip-path":"url(#".concat(C,")"),mask:"url(#".concat(O,")")},$a)}),{children:r,attributes:n}}}},H_={provides(t){let e=!1;Zr.matchMedia&&(e=Zr.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const r=[],n={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:J(J({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=J(J({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:J(J({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||a.children.push({tag:"animate",attributes:J(J({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:J(J({},i),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:J(J({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:J(J({},i),{},{values:"1;0;0;0;0;1;"})}]}),e||r.push({tag:"path",attributes:J(J({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:J(J({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},Y_={hooks(){return{parseNodeAttributes(t,e){const r=e.getAttribute("data-fa-symbol"),n=r===null?!1:r===""?!0:r;return t.symbol=n,t}}}},K_=[zy,I_,j_,R_,D_,B_,V_,J_,G_,H_,Y_];a_(K_,{mixoutsTo:Pt});Pt.noAuto;Pt.config;const Q_=Pt.library;Pt.dom;const Do=Pt.parse;Pt.findIconDefinition;Pt.toHtml;const X_=Pt.icon;Pt.layer;Pt.text;Pt.counter;let Dh=!1;try{Dh=!0}catch{}function Z_(...t){!Dh&&console&&typeof console.error=="function"&&console.error(...t)}function iu(t){if(t&&typeof t=="object"&&t.prefix&&t.iconName&&t.icon)return t;if(Do.icon)return Do.icon(t);if(t===null)return null;if(t&&typeof t=="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function Ua(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?{[t]:e}:{}}var eb=dg("<svg><!></svg>");function tb(t,e){var _;We(e,!1);let r=re(e,"tag",8),n=re(e,"props",8),s=re(e,"children",8),i=re(e,"style",8,null),a=re(e,"ref",12,null);if(r()!=="svg")throw new Error('SvgElement requires a tag of "svg"');function o(w){return(w==null?void 0:w.reduce((O,C)=>O+(C.tag?l(C):C),""))||""}function l({tag:w,props:O,children:C}){const A=Object.keys(O).map(b=>`${b}="${O[b]}"`).join(" ");return`<${w} ${A}>${o(C)}</${w}>`}const u=o(s()),d=(_=n())!=null&&_.style?`${n().style}${i()||""}`:i(),f={...n(),style:d};Xe();var h=eb();let g;var y=P(h);Pr(y,()=>u,!0,!1),Ze(h,w=>a(w),()=>a()),_e(()=>g=Cg(h,g,{...f})),K(t,h),Ge()}function Ke(t,e){const r=xc(e,["children","$$slots","$$events","$$legacy"]),n=xc(r,["border","mask","maskId","fixedWidth","inverse","flip","icon","listItem","pull","pulse","rotation","size","spin","spinPulse","spinReverse","beat","fade","beatFade","bounce","shake","symbol","title","titleId","transform","swapOpacity","ref","style"]);We(e,!1),re(e,"border",8,!1);let s=re(e,"mask",8,null),i=re(e,"maskId",8,null);re(e,"fixedWidth",8,!1),re(e,"inverse",8,!1),re(e,"flip",8,!1);let a=re(e,"icon",8,null);re(e,"listItem",8,!1),re(e,"pull",8,null),re(e,"pulse",8,!1),re(e,"rotation",8,null),re(e,"size",8,null),re(e,"spin",8,!1),re(e,"spinPulse",8,!1),re(e,"spinReverse",8,!1),re(e,"beat",8,!1),re(e,"fade",8,!1),re(e,"beatFade",8,!1),re(e,"bounce",8,!1),re(e,"shake",8,!1);let o=re(e,"symbol",8,!1),l=re(e,"title",8,""),u=re(e,"titleId",8,null),d=re(e,"transform",8,null);re(e,"swapOpacity",8,!1);let f=re(e,"ref",12,null),h=re(e,"style",8,null);const g=iu(a()),y=Ua("classes",[...Gg(r),...(r.class||"").split(" ")]),_=Ua("transform",typeof d()=="string"?Do.transform(d()):d()),w=Ua("mask",iu(s())),O=X_(g,{...y,..._,...w,symbol:o(),title:l(),titleId:u(),maskId:i()});let C=H(null);if(!O)Z_("Could not find icon",g);else{const{abstract:T}=O;I(C,rh((x,R,V)=>({tag:x,props:R,children:V}),T[0],n))}Xe();var A=Ar(),b=et(A);{var E=T=>{tb(T,Fg(()=>p(C),{get style(){return h()},get ref(){return f()},set ref(x){f(x)},$$legacy:!0}))};ne(b,T=>{p(C)&&T(E)})}K(t,A),Ge()}var rb=Z('<span class="rotating-use-text svelte-xa9m8v"> </span>'),nb=Z('<div class="time-calculator-container svelte-xa9m8v"><div class="time-calculator-tabs svelte-xa9m8v"><button>Time saved so far</button> <button>Time saved per year</button> <div></div></div> <div class="time-calculator-content svelte-xa9m8v"><div class="slides-container svelte-xa9m8v"><div id="time-saved-per-year"><div class="time-calculator-slide-content svelte-xa9m8v"><div class="time-annual-value svelte-xa9m8v"> </div> <div class="time-alternative-use svelte-xa9m8v">One could use this time to <div class="rotating-use-text-wrapper svelte-xa9m8v"><!></div></div></div></div> <div id="time-saved-so-far"><div class="time-calculator-slide-content svelte-xa9m8v"><div class="time-counter svelte-xa9m8v"><table class="time-counter-table svelte-xa9m8v"><tbody><tr class="time-counter-values svelte-xa9m8v"><td class="svelte-xa9m8v"><span class="hours">0</span></td><td class="time-counter-separator svelte-xa9m8v">:</td><td class="svelte-xa9m8v"><span class="minutes">00</span></td><td class="time-counter-separator svelte-xa9m8v">:</td><td class="svelte-xa9m8v"><span class="seconds">00</span></td></tr><tr class="time-counter-labels svelte-xa9m8v"><td class="svelte-xa9m8v">hrs</td><td class="time-counter-separator svelte-xa9m8v"></td><td class="svelte-xa9m8v">mins</td><td class="time-counter-separator svelte-xa9m8v"></td><td class="svelte-xa9m8v">secs</td></tr></tbody></table></div> <div class="time-launch-date svelte-xa9m8v"> </div></div></div></div></div></div>');function ib(t,e){We(e,!1);let r=re(e,"daily",8,0),n=re(e,"weekly",8,0),s=re(e,"launchDate",24,()=>new Date("1900-01-01")),i=re(e,"alternativeUses",24,()=>[]),a=H(null),o=H(null),l=H(null),u=H(0),d=!1,f=H(null),h=H("time-saved-so-far");tt(()=>{console.log("TimeImpactCalculator mounted with launch date:",s()),y(),w()});function g(oe){I(h,oe)}function y(){const oe=r()||0,Ee=n()||0,Ie=oe+Ee/7,Ue=new Date,Ce=s()||new Date("1900-01-01");console.log("Using launch date:",Ce);const ue=(Ue.getTime()-Ce.getTime())/(1e3*60*60*24);let Te=Ie*ue;console.log("Minutes saved calculation:",{dailyMinutes:Ie,daysSinceLaunch:ue,minutesSaved:Te}),p(a)&&p(o)&&p(l)?_(Te):console.warn("Counter elements not found during initialization");const qe=Ie/(24*60*60*100);setInterval(()=>{Te+=qe,_(Te)},10)}function _(oe){if(!p(a)||!p(o)||!p(l))return;const Ee=Math.floor(oe/60),Ie=oe%60,Ue=Math.floor(Ie),Ce=(Ie-Ue)*60;Ve(a,p(a).textContent=Ee.toString()),Ve(o,p(o).textContent=Ue<10?`0${Ue}`:`${Ue}`),Ve(l,p(l).textContent=Ce.toFixed(3))}function w(){if(!i()||i().length<=1){console.warn("Not enough alternative uses to rotate");return}const oe=setInterval(()=>{d||(d=!0,setTimeout(()=>{I(u,(p(u)+1)%i().length),setTimeout(()=>{d=!1},500)},400))},3e3);return()=>{clearInterval(oe)}}function O(){const oe=r()||0,Ee=n()||0,Ue=(oe*365+Ee*52)/60,Ce=(Ue/8).toFixed(1);return`${Math.round(Ue)} hours or ${Ce} workdays`}function C(oe){try{if(!oe)return"January 1, 1900";const Ee={month:"long",day:"numeric",year:"numeric"};return oe.toLocaleDateString("en-US",Ee)}catch(Ee){return console.error("Error formatting date:",Ee),"January 1, 1900"}}Gi(()=>{p(a)&&p(o)&&p(l)&&p(a).textContent==="0"&&p(o).textContent==="00"&&(console.log("Reinitializing counter with bound elements"),y())}),Xe();var A=nb(),b=P(A),E=P(b);let T;var x=D(E,2);let R;var V=D(x,2);let U;var N=D(b,2),W=P(N),L=P(W);let q;var B=P(L),Y=P(B),Q=P(Y),X=D(Y,2),ve=D(P(X)),we=P(ve);Jf(we,()=>p(u),oe=>{var Ee=rb(),Ie=P(Ee);_e(()=>fe(Ie,i().length>0?i()[p(u)]:"hike 220 miles")),K(oe,Ee)}),Ze(ve,oe=>I(f,oe),()=>p(f));var $=D(L,2);let he;var ie=P($),c=P(ie),m=P(c),v=P(m),S=P(v),k=P(S),j=P(k);Ze(j,oe=>I(a,oe),()=>p(a));var M=D(k,2),F=P(M);Ze(F,oe=>I(o,oe),()=>p(o));var G=D(M,2),ae=P(G);Ze(ae,oe=>I(l,oe),()=>p(l));var ee=D(c,2),ke=P(ee);_e((oe,Ee,Ie,Ue,Ce,ue,Te)=>{T=pe(E,1,"time-tab svelte-xa9m8v",null,T,oe),R=pe(x,1,"time-tab svelte-xa9m8v",null,R,Ee),U=pe(V,1,"tab-slider svelte-xa9m8v",null,U,Ie),q=pe(L,1,"time-calculator-slide svelte-xa9m8v",null,q,Ue),fe(Q,Ce),he=pe($,1,"time-calculator-slide svelte-xa9m8v",null,he,ue),fe(ke,`since launch on ${Te??""}`)},[()=>({active:p(h)==="time-saved-so-far"}),()=>({active:p(h)==="time-saved-per-year"}),()=>({"slide-right":p(h)==="time-saved-per-year"}),()=>({active:p(h)==="time-saved-per-year"}),O,()=>({active:p(h)==="time-saved-so-far"}),()=>C(s())],ge),de("click",E,()=>g("time-saved-so-far")),de("click",x,()=>g("time-saved-per-year")),K(t,A),Ge()}var sb=Z('<span class="rotating-use-text svelte-141ul8v"> </span>'),ab=Z('<div class="money-calculator-container svelte-141ul8v"><div class="money-calculator-tabs svelte-141ul8v"><button>Money saved so far</button> <button>Money saved per year</button> <div></div></div> <div class="money-calculator-content svelte-141ul8v"><div class="slides-container svelte-141ul8v"><div id="money-saved-per-year"><div class="money-calculator-slide-content svelte-141ul8v"><div class="money-counter svelte-141ul8v"><table class="money-counter-table svelte-141ul8v"><tbody><tr class="money-counter-values svelte-141ul8v"><td class="svelte-141ul8v"><span class="dollar-sign svelte-141ul8v">$</span><span class="dollars svelte-141ul8v"> </span></td><td class="money-counter-separator svelte-141ul8v">.</td><td class="svelte-141ul8v"><span class="cents svelte-141ul8v"> </span></td></tr></tbody></table></div> <div class="money-alternative-use svelte-141ul8v">One could use this money to <div class="rotating-use-text-wrapper svelte-141ul8v"><!></div></div></div></div> <div id="money-saved-so-far"><div class="money-calculator-slide-content svelte-141ul8v"><div class="money-counter svelte-141ul8v"><table class="money-counter-table svelte-141ul8v"><tbody><tr class="money-counter-values svelte-141ul8v"><td class="svelte-141ul8v"><span class="dollar-sign svelte-141ul8v">$</span><span class="dollars svelte-141ul8v">0</span></td><td class="money-counter-separator svelte-141ul8v">.</td><td class="svelte-141ul8v"><span class="cents svelte-141ul8v">00</span></td></tr></tbody></table></div> <div class="money-launch-date svelte-141ul8v"> </div></div></div></div></div></div>');function ob(t,e){We(e,!1);let r=re(e,"daily",8,0),n=re(e,"weekly",8,0),s=re(e,"launchDate",24,()=>new Date("1900-01-01")),i=re(e,"alternativeUses",24,()=>[]),a=H(null),o=H(null),l=H(0),u=!1,d=H(null),f=H("money-saved-so-far");tt(()=>{g(),_()});function h(ue){I(f,ue)}function g(){const ue=r()||0,Te=n()||0,qe=ue+Te/7,st=new Date,xt=new Date(s()||new Date("1900-01-01")),dr=Math.max(0,(st.getTime()-xt.getTime())/(1e3*60*60*24));let ct=qe*dr;y(ct);const He=qe/(24*60*60*100);setInterval(()=>{ct+=He,y(ct)},10)}function y(ue){if(!p(a)||!p(o))return;const Te=Math.floor(ue),qe=ue-Te,st=Math.round(qe*1e5);Ve(a,p(a).textContent=Te.toLocaleString()),Ve(o,p(o).textContent=st.toString().padStart(5,"0"))}function _(){if(!i()||i().length<=1){console.warn("Not enough alternative uses to rotate");return}const ue=setInterval(()=>{u||(u=!0,setTimeout(()=>{I(l,(p(l)+1)%i().length),setTimeout(()=>{u=!1},500)},400))},3e3);return()=>{clearInterval(ue)}}function w(ue){try{if(!ue)return"January 1, 1900";const Te={month:"long",day:"numeric",year:"numeric"};return ue.toLocaleDateString("en-US",Te)}catch(Te){return console.error("Error formatting date:",Te),"January 1, 1900"}}function O(){const ue=r()||0,Te=n()||0;return ue*365+Te*52}Xe();var C=ab(),A=P(C),b=P(A);let E;var T=D(b,2);let x;var R=D(T,2);let V;var U=D(A,2),N=P(U),W=P(N);let L;var q=P(W),B=P(q),Y=P(B),Q=P(Y),X=P(Q),ve=P(X),we=D(P(ve)),$=P(we),he=D(ve,2),ie=P(he),c=P(ie),m=D(B,2),v=D(P(m)),S=P(v);Jf(S,()=>p(l),ue=>{var Te=sb(),qe=P(Te);_e(()=>fe(qe,i().length>0?i()[p(l)]:"a high-end laptop")),K(ue,Te)}),Ze(v,ue=>I(d,ue),()=>p(d));var k=D(W,2);let j;var M=P(k),F=P(M),G=P(F),ae=P(G),ee=P(ae),ke=P(ee),oe=D(P(ke));Ze(oe,ue=>I(a,ue),()=>p(a));var Ee=D(ke,2),Ie=P(Ee);Ze(Ie,ue=>I(o,ue),()=>p(o));var Ue=D(F,2),Ce=P(Ue);_e((ue,Te,qe,st,xt,dr,ct,He)=>{E=pe(b,1,"money-tab svelte-141ul8v",null,E,ue),x=pe(T,1,"money-tab svelte-141ul8v",null,x,Te),V=pe(R,1,"tab-slider svelte-141ul8v",null,V,qe),L=pe(W,1,"money-calculator-slide svelte-141ul8v",null,L,st),fe($,xt),fe(c,dr),j=pe(k,1,"money-calculator-slide svelte-141ul8v",null,j,ct),fe(Ce,`since launch on ${He??""}`)},[()=>({active:p(f)==="money-saved-so-far"}),()=>({active:p(f)==="money-saved-per-year"}),()=>({"slide-right":p(f)==="money-saved-per-year"}),()=>({active:p(f)==="money-saved-per-year"}),()=>Math.floor(O()).toLocaleString(),()=>(O()%1*100).toFixed(0).padStart(2,"0"),()=>({active:p(f)==="money-saved-so-far"}),()=>w(s())],ge),de("click",b,()=>h("money-saved-so-far")),de("click",T,()=>h("money-saved-per-year")),K(t,C),Ge()}var lb=Z('<div class="insight-impact-container svelte-e56hho"><div class="insight-impact-tabs svelte-e56hho"><button>Before</button> <button>After</button> <div></div></div> <div class="insight-impact-content svelte-e56hho"><div class="slides-container svelte-e56hho"><div><!></div> <div><!></div></div></div></div>');function cb(t,e){We(e,!1);let r=re(e,"beforeImpact",8,"Before impact description."),n=re(e,"afterImpact",8,"After impact description."),s=H("before"),i=H(),a=H(),o=H();function l(N){I(s,N)}function u(N){return N.split(`

`).map(W=>`<p>${W}</p>`).join("")}function d(){if(!p(i)||!p(a)||!p(o))return;Ve(i,p(i).style.opacity="1"),Ve(a,p(a).style.opacity="1");const N=p(i).scrollHeight,W=p(a).scrollHeight,L=Math.max(N,W);Ve(o,p(o).style.height=`${L}px`),Ve(i,p(i).style.opacity=p(s)==="before"?"1":"0.5"),Ve(a,p(a).style.opacity=p(s)==="after"?"1":"0.5")}tt(()=>(d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d))),Gi(d),Xe();var f=lb(),h=P(f),g=P(h);let y;var _=D(g,2);let w;var O=D(_,2);let C;var A=D(h,2),b=P(A),E=P(b);let T;var x=P(E);Pr(x,()=>u(n()),!1,!1),Ze(E,N=>I(a,N),()=>p(a));var R=D(E,2);let V;var U=P(R);Pr(U,()=>u(r()),!1,!1),Ze(R,N=>I(i,N),()=>p(i)),Ze(A,N=>I(o,N),()=>p(o)),_e((N,W,L,q,B)=>{y=pe(g,1,"insight-tab svelte-e56hho",null,y,N),w=pe(_,1,"insight-tab svelte-e56hho",null,w,W),C=pe(O,1,"tab-slider svelte-e56hho",null,C,L),T=pe(E,1,"insight-slide svelte-e56hho",null,T,q),V=pe(R,1,"insight-slide svelte-e56hho",null,V,B)},[()=>({active:p(s)==="before"}),()=>({active:p(s)==="after"}),()=>({"slide-right":p(s)==="after"}),()=>({active:p(s)==="after"}),()=>({active:p(s)==="before"})],ge),de("click",g,()=>l("before")),de("click",_,()=>l("after")),K(t,f),Ge()}var ub=Z('<div class="sanity-impact-container svelte-zx0349"><div class="sanity-impact-tabs svelte-zx0349"><button>Before</button> <button>After</button> <div></div></div> <div class="sanity-impact-content svelte-zx0349"><div class="slides-container svelte-zx0349"><div><!></div> <div><!></div></div></div></div>');function db(t,e){We(e,!1);let r=re(e,"beforeImpact",8,"Before impact description."),n=re(e,"afterImpact",8,"After impact description."),s=H("before"),i=H(),a=H(),o=H();function l(N){I(s,N)}function u(N){return N.split(`

`).map(W=>`<p>${W}</p>`).join("")}function d(){if(!p(i)||!p(a)||!p(o))return;Ve(i,p(i).style.opacity="1"),Ve(a,p(a).style.opacity="1");const N=p(i).scrollHeight,W=p(a).scrollHeight,L=Math.max(N,W);Ve(o,p(o).style.height=`${L}px`),Ve(i,p(i).style.opacity=p(s)==="before"?"1":"0.5"),Ve(a,p(a).style.opacity=p(s)==="after"?"1":"0.5")}tt(()=>(d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d))),Gi(d),Xe();var f=ub(),h=P(f),g=P(h);let y;var _=D(g,2);let w;var O=D(_,2);let C;var A=D(h,2),b=P(A),E=P(b);let T;var x=P(E);Pr(x,()=>u(n()),!1,!1),Ze(E,N=>I(a,N),()=>p(a));var R=D(E,2);let V;var U=P(R);Pr(U,()=>u(r()),!1,!1),Ze(R,N=>I(i,N),()=>p(i)),Ze(A,N=>I(o,N),()=>p(o)),_e((N,W,L,q,B)=>{y=pe(g,1,"sanity-tab svelte-zx0349",null,y,N),w=pe(_,1,"sanity-tab svelte-zx0349",null,w,W),C=pe(O,1,"tab-slider svelte-zx0349",null,C,L),T=pe(E,1,"sanity-slide svelte-zx0349",null,T,q),V=pe(R,1,"sanity-slide svelte-zx0349",null,V,B)},[()=>({active:p(s)==="before"}),()=>({active:p(s)==="after"}),()=>({"slide-right":p(s)==="after"}),()=>({active:p(s)==="after"}),()=>({active:p(s)==="before"})],ge),de("click",g,()=>l("before")),de("click",_,()=>l("after")),K(t,f),Ge()}var fb=Z('<div class="fun-impact-container svelte-y7ywm5"><div class="fun-impact-tabs svelte-y7ywm5"><button>Before</button> <button>After</button> <div></div></div> <div class="fun-impact-content svelte-y7ywm5"><div><p class="svelte-y7ywm5"> </p></div> <div><p class="svelte-y7ywm5"> </p></div></div></div>');function hb(t,e){let r=re(e,"beforeImpact",8,"Before impact description."),n=re(e,"afterImpact",8,"After impact description."),s=H("before");function i(x){I(s,x)}var a=fb(),o=P(a),l=P(o);let u;var d=D(l,2);let f;var h=D(d,2);let g;var y=D(o,2),_=P(y);let w;var O=P(_),C=P(O),A=D(_,2);let b;var E=P(A),T=P(E);_e((x,R,V,U,N)=>{u=pe(l,1,"fun-tab svelte-y7ywm5",null,u,x),f=pe(d,1,"fun-tab svelte-y7ywm5",null,f,R),g=pe(h,1,"tab-slider svelte-y7ywm5",null,g,V),w=pe(_,1,"fun-slide svelte-y7ywm5",null,w,U),fe(C,r()),b=pe(A,1,"fun-slide svelte-y7ywm5",null,b,N),fe(T,n())},[()=>({active:p(s)==="before"}),()=>({active:p(s)==="after"}),()=>({"slide-right":p(s)==="after"}),()=>({active:p(s)==="before"}),()=>({active:p(s)==="after"})],ge),de("click",l,()=>i("before")),de("click",d,()=>i("after")),K(t,a)}var pb=Z('<div class="calculator-wrapper svelte-bzvjp4"><!></div>'),vb=Z('<div class="calculator-wrapper svelte-bzvjp4"><!></div>'),mb=Z('<div class="calculator-wrapper svelte-bzvjp4"><!></div>'),gb=Z('<div class="calculator-wrapper svelte-bzvjp4"><!></div>'),yb=Z('<div class="calculator-wrapper svelte-bzvjp4"><!></div>');function _b(t,e){We(e,!1);let r=re(e,"project",8);function n(){return r().value==="time"&&r().timeSaved?"time":r().value==="money"&&r().moneySaved?"money":r().value==="insight"?"insight":r().value==="sanity"?"sanity":r().value==="fun"?"fun":null}const s=n();function i(){var f;return((f=r().timeSaved)==null?void 0:f.alternativeUses)||["hike 220 miles","watch 45 movies","read 18 novels","learn a new language","complete 6 online courses"]}function a(){var f;return((f=r().moneySaved)==null?void 0:f.alternativeUses)||["a high-end laptop","a weekend getaway","a year of streaming services","dinner at 12 nice restaurants","300 cups of coffee"]}Xe();var o=Ar(),l=et(o);{var u=f=>{var h=pb(),g=P(h);const y=ge(()=>r().timeSaved.daily||0),_=ge(()=>r().timeSaved.weekly||0),w=ge(()=>r().launchDate||new Date("1900-01-01")),O=ge(i);ib(g,{get daily(){return p(y)},get weekly(){return p(_)},get launchDate(){return p(w)},get alternativeUses(){return p(O)}}),K(f,h)},d=(f,h)=>{{var g=_=>{var w=vb(),O=P(w);const C=ge(()=>r().moneySaved.daily||0),A=ge(()=>r().moneySaved.weekly||0),b=ge(()=>r().launchDate||new Date("1900-01-01")),E=ge(a);ob(O,{get daily(){return p(C)},get weekly(){return p(A)},get launchDate(){return p(b)},get alternativeUses(){return p(E)}}),K(_,w)},y=(_,w)=>{{var O=A=>{var b=mb(),E=P(b);const T=ge(()=>r().beforeImpact||"Before impact description."),x=ge(()=>r().afterImpact||"After impact description.");cb(E,{get beforeImpact(){return p(T)},get afterImpact(){return p(x)}}),K(A,b)},C=(A,b)=>{{var E=x=>{var R=gb(),V=P(R);const U=ge(()=>r().beforeImpact||"Before impact description."),N=ge(()=>r().afterImpact||"After impact description.");db(V,{get beforeImpact(){return p(U)},get afterImpact(){return p(N)}}),K(x,R)},T=(x,R)=>{{var V=U=>{var N=yb(),W=P(N);const L=ge(()=>r().beforeImpact||"Before impact description."),q=ge(()=>r().afterImpact||"After impact description.");hb(W,{get beforeImpact(){return p(L)},get afterImpact(){return p(q)}}),K(U,N)};ne(x,U=>{s==="fun"&&U(V)},R)}};ne(A,x=>{s==="sanity"?x(E):x(T,!1)},b)}};ne(_,A=>{s==="insight"?A(O):A(C,!1)},w)}};ne(f,_=>{s==="money"&&r().moneySaved?_(g):_(y,!1)},h)}};ne(l,f=>{s==="time"&&r().timeSaved?f(u):f(d,!1)})}K(t,o),Ge()}const bb="modulepreload",wb=function(t){return"/"+t},su={},at=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=wb(l),l in su)return;su[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":bb,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},kb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>at(async()=>{const{default:n}=await Promise.resolve().then(()=>Ki);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Wl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Sb extends Wl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Eb extends Wl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Tb extends Wl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var No;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(No||(No={}));var Cb=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function l(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class Ab{constructor(e,{headers:r={},customFetch:n,region:s=No.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=kb(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Cb(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(o["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(o["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:u}).catch(y=>{throw new Sb(y)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Eb(d);if(!d.ok)throw new Tb(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield d.json():h==="application/octet-stream"?g=yield d.blob():h==="text/event-stream"?g=d:h==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Ob=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ei=Ob();const Pb=ei.fetch,Gl=ei.fetch.bind(ei),Nh=ei.Headers,xb=ei.Request,Lb=ei.Response,Ki=Object.freeze(Object.defineProperty({__proto__:null,Headers:Nh,Request:xb,Response:Lb,default:Gl,fetch:Pb},Symbol.toStringTag,{value:"Module"}));class Mb{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Gl:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let u=null,d=null,f=null,h=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const O=await i.text();O===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=O:d=JSON.parse(O))}const _=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");_&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const _=await i.text();try{u=JSON.parse(_),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,g="OK")}catch{i.status===404&&_===""?(h=204,g="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&this.shouldThrowOnError)throw u}return{error:u,data:d,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}}class Ib extends Mb{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,r,{foreignTable:n}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){const o=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class zn extends Ib{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=r.map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}}class jb{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new zn({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new zn({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new zn({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new zn({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new zn({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Rb="1.8.5",Db={"X-Client-Info":`postgrest-js/${Rb}`};class Hl{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Db),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new jb(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Hl(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,count:s}={}){let i;const a=new URL(`${this.url}/rpc/${e}`);let o;n?(i="HEAD",Object.entries(r).forEach(([u,d])=>{a.searchParams.append(u,`${d}`)})):(i="POST",o=r);const l=Object.assign({},this.headers);return s&&(l.Prefer=`count=${s}`),new zn({method:i,url:a,headers:l,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}}const Nb="2.11.2",Fb={"X-Client-Info":`realtime-js/${Nb}`},$b="1.0.0",Fh=1e4,Ub=1e3;var Gn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Gn||(Gn={}));var Ct;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ct||(Ct={}));var Ut;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ut||(Ut={}));var Fo;(function(t){t.websocket="websocket"})(Fo||(Fo={}));var fn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(fn||(fn={}));class qb{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+s));a=a+s;const l=n.decode(e.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class $h{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ze||(ze={}));const au=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=zb(a,t,e,s),i),{})},zb=(t,e,r,n)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?Uh(i,a):$o(a)},Uh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Wb(e,r)}switch(t){case ze.bool:return Bb(e);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return Vb(e);case ze.json:case ze.jsonb:return Jb(e);case ze.timestamp:return Gb(e);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return $o(e);default:return $o(e)}},$o=t=>t,Bb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Vb=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Jb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Wb=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Uh(e,o))}return t},Gb=t=>typeof t=="string"?t.replace(" ","T"):t,qh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class qa{constructor(e,r,n={},s=Fh){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ou;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ou||(ou={}));class Mi{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mi.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Mi.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Mi.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(i,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const f=i[u];if(f){const h=d.map(w=>w.presence_ref),g=f.map(w=>w.presence_ref),y=d.filter(w=>g.indexOf(w.presence_ref)<0),_=f.filter(w=>h.indexOf(w.presence_ref)<0);y.length>0&&(o[u]=y),_.length>0&&(l[u]=_)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const f=e[o].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);e[o].unshift(...h)}n(o,d,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=u,s(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(lu||(lu={}));var cu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(cu||(cu={}));var mr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(mr||(mr={}));class Yl{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new qa(this,Ut.join,this.params,this.timeout),this.rejoinTimer=new $h(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ct.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ut.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Mi(this),this.broadcastEndpointURL=qh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>e==null?void 0:e(mr.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(mr.CLOSED));const l={},u={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(mr.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let _=0;_<g;_++){const w=h[_],{filter:{event:O,schema:C,table:A,filter:b}}=w,E=d&&d[_];if(E&&E.event===O&&E.schema===C&&E.table===A&&E.filter===b)y.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),e==null||e(mr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(mr.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(mr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(mr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ct.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ut.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new qa(this,Ut.leave,{},e);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new qa(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=Ut;if(n&&[o,l,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,_,w;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(_=g.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(g=>g.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(g=>{var y,_,w,O,C,A;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const b=g.id,E=(y=g.filter)===null||y===void 0?void 0:y.event;return b&&((_=r.ids)===null||_===void 0?void 0:_.includes(b))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(C=(O=g==null?void 0:g.filter)===null||O===void 0?void 0:O.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return b==="*"||b===((A=r==null?void 0:r.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:_,table:w,commit_timestamp:O,type:C,errors:A}=y;h=Object.assign(Object.assign({},{schema:_,table:w,commit_timestamp:O,eventType:C,new:{},old:{},errors:A}),this._getPayloadRecords(y))}g.callback(h,n)})}_isClosed(){return this.state===Ct.closed}_isJoined(){return this.state===Ct.joined}_isJoining(){return this.state===Ct.joining}_isLeaving(){return this.state===Ct.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Yl.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ut.close,{},e)}_onError(e){this._on(Ut.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ct.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=au(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=au(e.columns,e.old_record)),r}}const Hb=()=>{},Yb=typeof WebSocket<"u",Kb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qb{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Fb,this.params={},this.timeout=Fh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Hb,this.conn=null,this.sendBuffer=[],this.serializer=new qb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>at(async()=>{const{default:l}=await Promise.resolve().then(()=>Ki);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${Fo.websocket}`,this.httpEndpoint=qh(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $h(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Yb){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Xb(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),at(async()=>{const{default:e}=await import("./browser-sMbuWZuq.js").then(r=>r.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$b}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Gn.connecting:return fn.Connecting;case Gn.open:return fn.Open;case Gn.closing:return fn.Closing;default:return fn.Closed}}isConnected(){return this.connectionState()===fn.Open}channel(e,r={config:{}}){const n=new Yl(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Ut.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ub,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ut.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Kb],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Xb{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Gn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Kl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function rt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Zb extends Kl{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Uo extends Kl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var e0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function l(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const zh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>at(async()=>{const{default:n}=await Promise.resolve().then(()=>Ki);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},t0=()=>e0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield at(()=>Promise.resolve().then(()=>Ki),void 0)).Response:Response}),qo=t=>{if(Array.isArray(t))return t.map(r=>qo(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=qo(n)}),e};var Ln=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function l(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const za=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),r0=(t,e,r)=>Ln(void 0,void 0,void 0,function*(){const n=yield t0();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new Zb(za(s),t.status||500))}).catch(s=>{e(new Uo(za(s),s))}):e(new Uo(za(t),t))}),n0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Qi(t,e,r,n,s,i){return Ln(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,n0(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>r0(l,o,n))})})}function Bs(t,e,r,n){return Ln(this,void 0,void 0,function*(){return Qi(t,"GET",e,r,n)})}function Vr(t,e,r,n,s){return Ln(this,void 0,void 0,function*(){return Qi(t,"POST",e,n,s,r)})}function i0(t,e,r,n,s){return Ln(this,void 0,void 0,function*(){return Qi(t,"PUT",e,n,s,r)})}function s0(t,e,r,n){return Ln(this,void 0,void 0,function*(){return Qi(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Bh(t,e,r,n,s){return Ln(this,void 0,void 0,function*(){return Qi(t,"DELETE",e,n,s,r)})}var mt=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function l(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const a0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},uu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class o0{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=zh(s)}uploadOrUpdate(e,r,n,s){return mt(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},uu),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(rt(i))return{data:null,error:i};throw i}})}upload(e,r,n){return mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return mt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:uu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(rt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return mt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Vr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Kl("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}})}update(e,r,n){return mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return mt(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(rt(s))return{data:null,error:s};throw s}})}copy(e,r,n){return mt(this,void 0,void 0,function*(){try{return{data:{path:(yield Vr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(rt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return mt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Vr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(rt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return mt(this,void 0,void 0,function*(){try{const s=yield Vr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(rt(s))return{data:null,error:s};throw s}})}download(e,r){return mt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Bs(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(rt(o))return{data:null,error:o};throw o}})}info(e){return mt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Bs(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:qo(n),error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}})}exists(e){return mt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield s0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(rt(n)&&n instanceof Uo){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return mt(this,void 0,void 0,function*(){try{return{data:yield Bh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}})}list(e,r,n){return mt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},a0),r),{prefix:e||""});return{data:yield Vr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(rt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const l0="2.7.1",c0={"X-Client-Info":`storage-js/${l0}`};var Rn=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function l(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class u0{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},c0),r),this.fetch=zh(n)}listBuckets(){return Rn(this,void 0,void 0,function*(){try{return{data:yield Bs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(rt(e))return{data:null,error:e};throw e}})}getBucket(e){return Rn(this,void 0,void 0,function*(){try{return{data:yield Bs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Rn(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Rn(this,void 0,void 0,function*(){try{return{data:yield i0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Rn(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Rn(this,void 0,void 0,function*(){try{return{data:yield Bh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}})}}class d0 extends u0{constructor(e,r={},n){super(e,r,n)}from(e){return new o0(this.url,this.headers,e,this.fetch)}}const f0="2.38.4";let Ti="";typeof Deno<"u"?Ti="deno":typeof document<"u"?Ti="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ti="react-native":Ti="node";const h0={"X-Client-Info":`supabase-js-${Ti}/${f0}`};var p0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function l(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const v0=t=>{let e;return t?e=t:typeof fetch>"u"?e=Gl:e=fetch,(...r)=>e(...r)},m0=()=>typeof Headers>"u"?Nh:Headers,g0=(t,e,r)=>{const n=v0(r),s=m0();return(i,a)=>p0(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:u}))})};function y0(t){return t.replace(/\/$/,"")}function _0(t,e){const{db:r,auth:n,realtime:s,global:i}=t,{db:a,auth:o,realtime:l,global:u}=e;return{db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i)}}const Vh="2.69.1",Bn=30*1e3,zo=3,Ba=zo*Bn,b0="http://localhost:9999",w0="supabase.auth.token",k0={"X-Client-Info":`gotrue-js/${Vh}`},Bo="X-Supabase-Api-Version",Jh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},S0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,E0=6e5;class Ql extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function me(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class T0 extends Ql{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function C0(t){return me(t)&&t.name==="AuthApiError"}class Wh extends Ql{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class sn extends Ql{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class $r extends sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function A0(t){return me(t)&&t.name==="AuthSessionMissingError"}class Va extends sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class is extends sn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ss extends sn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function O0(t){return me(t)&&t.name==="AuthImplicitGrantRedirectError"}class du extends sn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vo extends sn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ja(t){return me(t)&&t.name==="AuthRetryableFetchError"}class fu extends sn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ii extends sn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const hu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pu=` 	
\r=`.split(""),P0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<pu.length;e+=1)t[pu[e].charCodeAt(0)]=-2;for(let e=0;e<hu.length;e+=1)t[hu[e].charCodeAt(0)]=e;return t})();function Gh(t,e,r){const n=P0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function vu(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{M0(a,n,r)};for(let a=0;a<t.length;a+=1)Gh(t.charCodeAt(a),s,i);return e.join("")}function x0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function L0(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}x0(n,e)}}function M0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function I0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Gh(t.charCodeAt(s),r,n);return new Uint8Array(e)}function j0(t){const e=[];return L0(t,r=>e.push(r)),new Uint8Array(e)}function R0(t){return Math.round(Date.now()/1e3)+t}function D0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const er=()=>typeof window<"u"&&typeof document<"u",on={tested:!1,writable:!1},ji=()=>{if(!er())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(on.tested)return on.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),on.tested=!0,on.writable=!0}catch{on.tested=!0,on.writable=!1}return on.writable};function N0(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Hh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>at(async()=>{const{default:n}=await Promise.resolve().then(()=>Ki);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},F0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Yh=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},as=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},os=async(t,e)=>{await t.removeItem(e)};class ma{constructor(){this.promise=new ma.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ma.promiseConstructor=Promise;function Wa(t){const e=t.split(".");if(e.length!==3)throw new Ii("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!S0.test(e[n]))throw new Ii("JWT not in base64url format");return{header:JSON.parse(vu(e[0])),payload:JSON.parse(vu(e[1])),signature:I0(e[2]),raw:{header:e[0],payload:e[1]}}}async function $0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function U0(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function q0(t){return("0"+t.toString(16)).substr(-2)}function z0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,q0).join("")}async function B0(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function V0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await B0(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dn(t,e,r=!1){const n=z0();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Yh(t,`${e}-code-verifier`,s);const i=await V0(n);return[i,n===i?"plain":"s256"]}const J0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function W0(t){const e=t.headers.get(Bo);if(!e||!e.match(J0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function G0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function H0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Y0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const dn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),K0=[502,503,504];async function mu(t){var e;if(!F0(t))throw new Vo(dn(t),0);if(K0.includes(t.status))throw new Vo(dn(t),t.status);let r;try{r=await t.json()}catch(i){throw new Wh(dn(i),i)}let n;const s=W0(t);if(s&&s.getTime()>=Jh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new fu(dn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new $r}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new fu(dn(r),t.status,r.weak_password.reasons);throw new T0(dn(r),t.status||500,n)}const Q0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ae(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Bo]||(i[Bo]=Jh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await X0(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function X0(t,e,r,n,s,i){const a=Q0(e,n,s,i);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new Vo(dn(l),0)}if(o.ok||await mu(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await mu(l)}}function Ur(t){var e;let r=null;rw(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=R0(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function gu(t){const e=Ur(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Gr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Z0(t){return{data:t,error:null}}function ew(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=Y0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function tw(t){return t}function rw(t){return t.access_token&&t.refresh_token&&t.expires_in}var nw=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class iw{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Hh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Gr})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=nw(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ew,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Gr})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:tw});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=_}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(me(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Gr})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Gr})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Gr})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}}const sw={getItem:t=>ji()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ji()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ji()&&globalThis.localStorage.removeItem(t)}};function yu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function aw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Nn={debug:!!(globalThis&&ji()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ow extends Kh{}async function lw(t,e,r){Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ow(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Nn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}aw();const cw={url:b0,storageKey:w0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:k0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _u(t,e,r){return await r()}class $i{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$i.nextInstanceID,$i.nextInstanceID+=1,this.instanceID>0&&er()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},cw),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new iw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Hh(s.fetch),this.lock=s.lock||_u,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:er()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=lw:this.lock=_u,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ji()?this.storage=sw:(this.memoryStorage={},this.storage=yu(this.memoryStorage)):(this.memoryStorage={},this.storage=yu(this.memoryStorage)),er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=N0(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),er()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),O0(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return me(r)?{error:r}:{error:new Wh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ur}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Dn(this.storage,this.storageKey)),i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:y},xform:Ur})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ur})}else throw new is("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:o}=e;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:gu})}else if("phone"in e){const{phone:i,password:a,options:o}=e;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:gu})}else throw new is("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Va}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await as(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ur});if(await os(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Va}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(me(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,o=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ur}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Va}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Dn(this.storage,this.storageKey));const{error:f}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new is("You must provide either an email or phone number.")}catch(o){if(me(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ur});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Dn(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Z0})}catch(i){if(me(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new $r;const{error:s}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(me(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new is("You must provide either an email or phone number and a type")}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await as(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ba:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Gr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $r}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Gr})})}catch(r){if(me(r))return A0(r)&&(await this._removeSession(),await os(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new $r;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Dn(this.storage,this.storageKey));const{data:u,error:d}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Gr});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $r;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Wa(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(me(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new $r;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!er())throw new ss("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ss(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new du("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ss("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new du("No code detected.");const{data:C,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!i||!o||!a||!u)throw new ss("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const g=h-d;g*1e3<=Bn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:_,error:w}=await this._getUser(i);if(w)throw w;const O={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:e.type},error:null}}catch(n){if(me(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await as(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(C0(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await os(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=D0(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Dn(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(me(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,u,d;const{data:f,error:h}=i;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return er()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(me(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await U0(async s=>(s>0&&await $0(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ur})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Ja(i)&&Date.now()+a-n<Bn})}catch(n){if(this._debug(r,"error",n),me(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),er()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await as(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Ba;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ba}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Ja(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new $r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ma;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new $r;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),me(i)){const a={session:null,error:i};return Ja(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Yh(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await os(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&er()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Bn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Bn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Bn}ms, refresh threshold is ${zo} ticks`),s<=zo&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Kh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!er()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Dn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await Ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(me(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(me(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Wa(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n||(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+E0>Date.now()))return n;const{data:s,error:i}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Ii("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===e),!n)throw new Ii("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:g,error:y}=await this.getSession();if(y||!g.session)return{data:null,error:y};n=g.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=Wa(n);if(G0(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:a},error:null}}const u=H0(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,a,j0(`${o}.${l}`)))throw new Ii("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}}$i.nextInstanceID=0;class uw extends $i{constructor(e){super(e)}}var dw=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function l(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const fw={headers:h0},hw={schema:"public"},pw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vw={};class mw{constructor(e,r,n){var s,i,a,o,l,u,d,f;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const h=y0(e);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,y={db:hw,realtime:vw,auth:Object.assign(Object.assign({},pw),{storageKey:g}),global:fw},_=_0(n??{},y);this.storageKey=(i=(s=_.auth)===null||s===void 0?void 0:s.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=(a=_.global)===null||a===void 0?void 0:a.headers)!==null&&o!==void 0?o:{},this.auth=this._initSupabaseAuthClient((l=_.auth)!==null&&l!==void 0?l:{},this.headers,(u=_.global)===null||u===void 0?void 0:u.fetch),this.fetch=g0(r,this._getAccessToken.bind(this),(d=_.global)===null||d===void 0?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},_.realtime)),this.rest=new Hl(`${h}/rest/v1`,{headers:this.headers,schema:(f=_.db)===null||f===void 0?void 0:f.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Ab(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new d0(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return dw(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,debug:o},l,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uw({url:this.authUrl,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,debug:o,fetch:u})}_initRealtimeClient(e){return new Qb(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gw=(t,e,r)=>new mw(t,e,r),yw="https://hazfuihckyddmtfvruud.supabase.co",_w="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhhemZ1aWhja3lkZG10ZnZydXVkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2MzIxMDMsImV4cCI6MjA1OTIwODEwM30.YL338Bdt7aXzbWgmIjk5X7mNbPysnSREEYhrJoSYVXc",ce=gw(yw,_w);var Lt=(t=>(t.PROJECT="project",t))(Lt||{});const Bt=jl({likes:{},follows:{},userEmail:void 0,initialized:!1}),ga=()=>new Promise(t=>{let e=localStorage.getItem("device_id");e||(e=crypto.randomUUID(),localStorage.setItem("device_id",e)),t(e)}),Qh=async()=>{try{const t=await ga(),{data:e,error:r}=await ce.from("project_interactions").select("project_id, has_liked, has_followed, email").eq("device_id",t);if(r){console.error("Error fetching interactions:",r);return}const n={},s={};let i;e.forEach(a=>{const o=`project:${a.project_id}`;n[o]=a.has_liked||!1,s[o]=a.has_followed||!1,a.email&&(i=a.email)}),Bt.update(a=>({...a,likes:n,follows:s,userEmail:i,initialized:!0})),console.log("Initialized interaction state:",{likes:n,follows:s,userEmail:i})}catch(t){console.error("Failed to initialize interactions:",t)}},Vs=(t,e)=>`${t}:${e}`,Xh=t=>(bn(Bt).initialized||Qh(),Bt.subscribe(t)),Zh=async(t,e)=>{try{const r=Vs(t,e),n=await ga(),i=bn(Bt).likes[r]||!1;Bt.update(l=>{const u={...l.likes};return u[r]=!i,{...l,likes:u}}),console.log(`Toggling like for ${t}:${e} to ${!i}`);const{data:a,error:o}=await ce.from("project_interactions").select("*").eq("device_id",n).eq("project_id",e).maybeSingle();if(o)throw console.error("Error fetching interaction:",o),o;if(console.log("Existing interaction:",a),a){const{error:l}=await ce.from("project_interactions").update({has_liked:!i,updated_at:new Date().toISOString()}).eq("device_id",n).eq("project_id",e);if(l)throw console.error("Error updating interaction:",l),l;console.log("Interaction updated successfully")}else{const{error:l}=await ce.from("project_interactions").insert({device_id:n,project_id:e,has_liked:!i,has_followed:!1});if(l)throw console.error("Error inserting interaction:",l),l;console.log("New interaction created successfully")}if(i){const{error:l}=await ce.rpc("decrement_project_likes",{project_id:e}).single();if(l){console.log("RPC failed (expected), using fallback method:",l.message);const{data:u,error:d}=await ce.from("projects").select("likes").eq("id",e).single();if(d)throw console.error("Error fetching project:",d),d;console.log("Current project data:",u);const f=(u==null?void 0:u.likes)||0,h=Math.max(0,f-1);console.log(`Updating likes from ${f} to ${h}`);const{error:g}=await ce.from("projects").update({likes:h}).eq("id",e);if(g)throw console.error("Error updating project likes:",g),g;console.log("Project likes updated successfully")}}else{const{error:l}=await ce.rpc("increment_project_likes",{project_id:e}).single();if(l){console.log("RPC failed (expected), using fallback method:",l.message);const{data:u,error:d}=await ce.from("projects").select("likes").eq("id",e).single();if(d)throw console.error("Error fetching project:",d),d;console.log("Current project data:",u);const f=(u==null?void 0:u.likes)||0,h=f+1;console.log(`Updating likes from ${f} to ${h}`);const{error:g}=await ce.from("projects").update({likes:h}).eq("id",e);if(g)throw console.error("Error updating project likes:",g),g;console.log("Project likes updated successfully")}}return!i}catch(r){console.error("Failed to toggle like:",r);const n=Vs(t,e),i=bn(Bt).likes[n]||!1;return Bt.update(a=>{const o={...a.likes};return o[n]=i,{...a,likes:o}}),i}},bu=async(t,e,r)=>{try{const n=await ga(),s=Vs(t,e),i=bn(Bt),a=i.follows[s]||!1;if(!a&&!r&&!i.userEmail)return{success:!1,needsEmail:!0,newState:!1};if(Bt.update(o=>{const l={...o.follows};l[s]=!a;const u=r||o.userEmail;return{...o,follows:l,userEmail:u}}),a){const{error:o}=await ce.from("project_interactions").update({has_followed:!1,updated_at:new Date().toISOString()}).eq("device_id",n).eq("project_id",e);if(o)throw o;const{error:l}=await ce.rpc("decrement_project_follows",{project_id:e}).single();if(l){console.warn("RPC failed, using fallback method:",l);const{data:u,error:d}=await ce.from("projects").select("follows").eq("id",e).single();if(d)throw d;if(u&&u.follows>0){const f=u.follows-1,{error:h}=await ce.from("projects").update({follows:f}).eq("id",e);if(h)throw h}}}else{const o=r||i.userEmail,{data:l,error:u}=await ce.from("project_interactions").select("id").eq("device_id",n).eq("project_id",e).single();if(u&&u.code!=="PGRST116")throw u;if(l){const{error:f}=await ce.from("project_interactions").update({has_followed:!0,email:o,updated_at:new Date().toISOString()}).eq("device_id",n).eq("project_id",e);if(f)throw f}else{const{error:f}=await ce.from("project_interactions").insert({device_id:n,project_id:e,has_liked:!1,has_followed:!0,email:o});if(f)throw f}const{error:d}=await ce.rpc("increment_project_follows",{project_id:e}).single();if(d){console.warn("RPC failed, using fallback method:",d);const{data:f,error:h}=await ce.from("projects").select("follows").eq("id",e).single();if(h)throw h;const y=((f==null?void 0:f.follows)||0)+1,{error:_}=await ce.from("projects").update({follows:y}).eq("id",e);if(_)throw _}if(o){const{error:f}=await ce.from("project_interactions").update({email:o}).eq("device_id",n);f&&console.error("Error updating email for all device interactions:",f)}}return{success:!0,needsEmail:!1,newState:!a}}catch(n){console.error("Error toggling follow:",n);const s=Vs(t,e),a=bn(Bt).follows[s]||!1;return Bt.update(o=>{const l={...o.follows};return l[s]=a,{...o,follows:l}}),{success:!1,needsEmail:!1,newState:a}}};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const bw={prefix:"fas",iconName:"person",icon:[320,512,[129485,"male"],"f183","M112 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm40 304l0 128c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-223.1L59.4 304.5c-9.1 15.1-28.8 20-43.9 10.9s-20-28.8-10.9-43.9l58.3-97c17.4-28.9 48.6-46.6 82.3-46.6l29.7 0c33.7 0 64.9 17.7 82.3 46.6l58.3 97c9.1 15.1 4.2 34.8-10.9 43.9s-34.8 4.2-43.9-10.9L232 256.9 232 480c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-128-16 0z"]},ww={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},kw={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},Sw={prefix:"fas",iconName:"arrow-up-right-from-square",icon:[512,512,["external-link"],"f08e","M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l82.7 0L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3l0 82.7c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160c0-17.7-14.3-32-32-32L320 0zM80 32C35.8 32 0 67.8 0 112L0 432c0 44.2 35.8 80 80 80l320 0c44.2 0 80-35.8 80-80l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16L80 448c-8.8 0-16-7.2-16-16l0-320c0-8.8 7.2-16 16-16l112 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 32z"]},ep={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]},Ew={prefix:"fas",iconName:"phone",icon:[512,512,[128222,128379],"f095","M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"]},Tw={prefix:"fas",iconName:"comment",icon:[512,512,[128489,61669],"f075","M512 240c0 114.9-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6C73.6 471.1 44.7 480 16 480c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c0 0 0 0 0 0s0 0 0 0s0 0 0 0c0 0 0 0 0 0l.3-.3c.3-.3 .7-.7 1.3-1.4c1.1-1.2 2.8-3.1 4.9-5.7c4.1-5 9.6-12.4 15.2-21.6c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208z"]},Cw={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},Aw=Cw,tp={prefix:"fas",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32l0 19.2C119 66 64 130.6 64 208l0 18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S19.4 416 32 416l384 0c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3C401.3 319.2 384 273.9 384 226.8l0-18.8c0-77.4-55-142-128-156.8L256 32c0-17.7-14.3-32-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z"]},Ow={prefix:"fas",iconName:"tree-city",icon:[640,512,[],"e587","M288 48c0-26.5 21.5-48 48-48l96 0c26.5 0 48 21.5 48 48l0 144 40 0 0-72c0-13.3 10.7-24 24-24s24 10.7 24 24l0 72 24 0c26.5 0 48 21.5 48 48l0 224c0 26.5-21.5 48-48 48l-160 0-96 0c-26.5 0-48-21.5-48-48l0-416zm64 32l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm16 80c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM352 272l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm176-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM512 368l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zM224 160c0 6-1 11-2 16c20 14 34 38 34 64c0 45-36 80-80 80l-16 0 0 160c0 18-15 32-32 32c-18 0-32-14-32-32l0-160-16 0c-45 0-80-35-80-80c0-26 13-50 33-64c-1-5-1-10-1-16c0-53 42-96 96-96c53 0 96 43 96 96z"]},rp={prefix:"fas",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M352 224l-46.5 0c-45 0-81.5 36.5-81.5 81.5c0 22.3 10.3 34.3 19.2 40.5c6.8 4.7 12.8 12 12.8 20.3c0 9.8-8 17.8-17.8 17.8l-2.5 0c-2.4 0-4.8-.4-7.1-1.4C210.8 374.8 128 333.4 128 240c0-79.5 64.5-144 144-144l80 0 0-61.3C352 15.5 367.5 0 386.7 0c8.6 0 16.8 3.2 23.2 8.9L548.1 133.3c7.6 6.8 11.9 16.5 11.9 26.7s-4.3 19.9-11.9 26.7l-139 125.1c-5.9 5.3-13.5 8.2-21.4 8.2l-3.7 0c-17.7 0-32-14.3-32-32l0-64zM80 96c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-48c0-17.7 14.3-32 32-32s32 14.3 32 32l0 48c0 44.2-35.8 80-80 80L80 512c-44.2 0-80-35.8-80-80L0 112C0 67.8 35.8 32 80 32l48 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 96z"]},Pw={prefix:"fas",iconName:"house-chimney-window",icon:[576,512,[],"e00d","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c.2 35.5-28.5 64.3-64 64.3l-320.4 0c-35.3 0-64-28.7-64-64l0-160.4-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L416 100.7 416 64c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32l0 121 52.8 46.4c8 7 12 15 11 24zM248 192c-13.3 0-24 10.7-24 24l0 80c0 13.3 10.7 24 24 24l80 0c13.3 0 24-10.7 24-24l0-80c0-13.3-10.7-24-24-24l-80 0z"]},xw={prefix:"fas",iconName:"angle-left",icon:[320,512,[8249],"f104","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},Lw={prefix:"fas",iconName:"briefcase",icon:[512,512,[128188],"f0b1","M184 48l144 0c4.4 0 8 3.6 8 8l0 40L176 96l0-40c0-4.4 3.6-8 8-8zm-56 8l0 40L64 96C28.7 96 0 124.7 0 160l0 96 192 0 128 0 192 0 0-96c0-35.3-28.7-64-64-64l-64 0 0-40c0-30.9-25.1-56-56-56L184 0c-30.9 0-56 25.1-56 56zM512 288l-192 0 0 32c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32l0-32L0 288 0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-128z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const np={prefix:"far",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8l0-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5l0 3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20-.1-.1s0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5l0 3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2l0-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"]},Mw={prefix:"far",iconName:"comment",icon:[512,512,[128489,61669],"f075","M123.6 391.3c12.9-9.4 29.6-11.8 44.6-6.4c26.5 9.6 56.2 15.1 87.8 15.1c124.7 0 208-80.5 208-160s-83.3-160-208-160S48 160.5 48 240c0 32 12.4 62.8 35.7 89.2c8.6 9.7 12.8 22.5 11.8 35.5c-1.4 18.1-5.7 34.7-11.3 49.4c17-7.9 31.1-16.7 39.4-22.7zM21.2 431.9c1.8-2.7 3.5-5.4 5.1-8.1c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208s-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6c-15.1 6.6-32.3 12.6-50.1 16.1c-.8 .2-1.6 .3-2.4 .5c-4.4 .8-8.7 1.5-13.2 1.9c-.2 0-.5 .1-.7 .1c-5.1 .5-10.2 .8-15.3 .8c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c4.1-4.2 7.8-8.7 11.3-13.5c1.7-2.3 3.3-4.6 4.8-6.9l.3-.5z"]},Iw={prefix:"far",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M64 112c-8.8 0-16 7.2-16 16l0 22.1L220.5 291.7c20.7 17 50.4 17 71.1 0L464 150.1l0-22.1c0-8.8-7.2-16-16-16L64 112zM48 212.2L48 384c0 8.8 7.2 16 16 16l384 0c8.8 0 16-7.2 16-16l0-171.8L322 328.8c-38.4 31.5-93.7 31.5-132 0L48 212.2zM0 128C0 92.7 28.7 64 64 64l384 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 448c-35.3 0-64-28.7-64-64L0 128z"]},ip={prefix:"far",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32l0 19.2C119 66 64 130.6 64 208l0 25.4c0 45.4-15.5 89.5-43.8 124.9L5.3 377c-5.8 7.2-6.9 17.1-2.9 25.4S14.8 416 24 416l400 0c9.2 0 17.6-5.3 21.6-13.6s2.9-18.2-2.9-25.4l-14.9-18.6C399.5 322.9 384 278.8 384 233.4l0-25.4c0-77.4-55-142-128-156.8L256 32c0-17.7-14.3-32-32-32zm0 96c61.9 0 112 50.1 112 112l0 25.4c0 47.9 13.9 94.6 39.7 134.6L72.3 368C98.1 328 112 281.3 112 233.4l0-25.4c0-61.9 50.1-112 112-112zm64 352l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7s18.7-28.3 18.7-45.3z"]},jw={prefix:"far",iconName:"copy",icon:[448,512,[],"f0c5","M384 336l-192 0c-8.8 0-16-7.2-16-16l0-256c0-8.8 7.2-16 16-16l140.1 0L400 115.9 400 320c0 8.8-7.2 16-16 16zM192 384l192 0c35.3 0 64-28.7 64-64l0-204.1c0-12.7-5.1-24.9-14.1-33.9L366.1 14.1c-9-9-21.2-14.1-33.9-14.1L192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-32-48 0 0 32c0 8.8-7.2 16-16 16L64 464c-8.8 0-16-7.2-16-16l0-256c0-8.8 7.2-16 16-16l32 0 0-48-32 0z"]},sp={prefix:"far",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M400 255.4l0-15.4 0-32c0-8.8-7.2-16-16-16l-32 0-16 0-46.5 0c-50.9 0-93.9 33.5-108.3 79.6c-3.3-9.4-5.2-19.8-5.2-31.6c0-61.9 50.1-112 112-112l48 0 16 0 32 0c8.8 0 16-7.2 16-16l0-32 0-15.4L506 160 400 255.4zM336 240l16 0 0 48c0 17.7 14.3 32 32 32l3.7 0c7.9 0 15.5-2.9 21.4-8.2l139-125.1c7.6-6.8 11.9-16.5 11.9-26.7s-4.3-19.9-11.9-26.7L409.9 8.9C403.5 3.2 395.3 0 386.7 0C367.5 0 352 15.5 352 34.7L352 80l-16 0-32 0-16 0c-88.4 0-160 71.6-160 160c0 60.4 34.6 99.1 63.9 120.9c5.9 4.4 11.5 8.1 16.7 11.2c4.4 2.7 8.5 4.9 11.9 6.6c3.4 1.7 6.2 3 8.2 3.9c2.2 1 4.6 1.4 7.1 1.4l2.5 0c9.8 0 17.8-8 17.8-17.8c0-7.8-5.3-14.7-11.6-19.5c0 0 0 0 0 0c-.4-.3-.7-.5-1.1-.8c-1.7-1.1-3.4-2.5-5-4.1c-.8-.8-1.7-1.6-2.5-2.6s-1.6-1.9-2.4-2.9c-1.8-2.5-3.5-5.3-5-8.5c-2.6-6-4.3-13.3-4.3-22.4c0-36.1 29.3-65.5 65.5-65.5l14.5 0 32 0zM72 32C32.2 32 0 64.2 0 104L0 440c0 39.8 32.2 72 72 72l336 0c39.8 0 72-32.2 72-72l0-64c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 64c0 13.3-10.7 24-24 24L72 464c-13.3 0-24-10.7-24-24l0-336c0-13.3 10.7-24 24-24l64 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L72 32z"]};var Rw=Z('<span class="text svelte-hxgolk"> </span>'),Dw=Z('<span class="count svelte-hxgolk"> </span>'),Nw=Z('<button><span class="icon-container svelte-hxgolk"><!></span> <!> <!></button>');function Sn(t,e){We(e,!1);const r=H();let n=re(e,"type",8),s=re(e,"active",8,!1),i=re(e,"count",8,void 0),a=re(e,"showText",8,!0),o=re(e,"iconSize",8,void 0),l=re(e,"loading",8,!1);const u={like:{active:ep,inactive:np},share:{active:rp,inactive:sp},follow:{active:tp,inactive:ip}},d={like:{active:"Liked",inactive:"Like"},share:{active:"Shared",inactive:"Share"},follow:{active:"Following",inactive:"Follow"}};let f=H(s()),h=H(!1);_t(()=>(p(f),ki(s()),ki(n())),()=>{p(f)&&!s()&&n()==="like"&&(I(h,!0),setTimeout(()=>{I(h,!1)},500)),I(f,s())}),_t(()=>(ki(s()),ki(n())),()=>{I(r,s()?`btn-${n()==="follow"?"followed":`${n()}d`}`:"")}),Pn();var g=Nw(),y=P(g),_=P(y);{var w=T=>{var x=Ar(),R=et(x);{var V=N=>{const W=ge(()=>o()||"sm");Ke(N,{get icon(){return u.like.active},get size(){return p(W)}})},U=N=>{const W=ge(()=>o()||"sm");Ke(N,{get icon(){return u.like.inactive},get size(){return p(W)}})};ne(R,N=>{s()?N(V):N(U,!1)})}K(T,x)},O=(T,x)=>{{var R=U=>{var N=Ar(),W=et(N);{var L=B=>{const Y=ge(()=>o()||"sm");Ke(B,{get icon(){return u.follow.active},get size(){return p(Y)}})},q=B=>{const Y=ge(()=>o()||"sm");Ke(B,{get icon(){return u.follow.inactive},get size(){return p(Y)}})};ne(W,B=>{s()?B(L):B(q,!1)})}K(U,N)},V=(U,N)=>{{var W=L=>{var q=Ar(),B=et(q);{var Y=X=>{const ve=ge(()=>o()||"sm");Ke(X,{get icon(){return u.share.active},get size(){return p(ve)}})},Q=X=>{const ve=ge(()=>o()||"sm");Ke(X,{get icon(){return u.share.inactive},get size(){return p(ve)}})};ne(B,X=>{s()?X(Y):X(Q,!1)})}K(L,q)};ne(U,L=>{n()==="share"&&L(W)},N)}};ne(T,U=>{n()==="follow"?U(R):U(V,!1)},x)}};ne(_,T=>{n()==="like"?T(w):T(O,!1)})}var C=D(y,2);{var A=T=>{var x=Rw(),R=P(x);_e(()=>fe(R,d[n()][s()?"active":"inactive"])),K(T,x)};ne(C,T=>{a()!==!1&&T(A)})}var b=D(C,2);{var E=T=>{var x=Dw(),R=P(x);_e(()=>fe(R,i())),K(T,x)};ne(b,T=>{i()!==void 0&&T(E)})}_e(()=>{pe(g,1,`interaction-btn ${(s()?"active":"")??""} ${n()??""}-btn ${(p(h)?"unlike-animation":"")??""} ${(l()?"loading":"")??""}`,"svelte-hxgolk"),Ye(g,"aria-label",`${n()??""} ${(s()?"active":"inactive")??""}`),g.disabled=l()}),de("click",g,function(T){Mg.call(this,e,T)}),K(t,g),Ge()}var Fw=Z('<div class="loading-state svelte-zb2l74">Loading projects...</div>'),$w=Z('<div class="error-state svelte-zb2l74"> </div>'),Uw=Z('<div class="like-count svelte-zb2l74"> </div>'),qw=Z('<div class="slider-slide svelte-zb2l74"><div class="completed-project-impact svelte-zb2l74"><div class="impact-container svelte-zb2l74"><!></div></div></div>'),zw=Z('<p class="extra-content-title svelte-zb2l74"> </p>'),Bw=Z('<div class="slider-slide svelte-zb2l74"><div class="completed-project-extra svelte-zb2l74"><!> <!></div></div>'),Vw=Z('<button aria-label="Go to slide 2"></button>'),Jw=Z("<button></button>"),Ww=Z('<div class="slider-controls svelte-zb2l74"><div class="slider-links svelte-zb2l74"><div class="slider-back svelte-zb2l74"><a href="#back" class="slider-back-link svelte-zb2l74" aria-label="Go to previous slide"><span class="link-arrow svelte-zb2l74">&lt;</span><span class="link-text svelte-zb2l74">Back</span></a></div> <div class="slider-forward svelte-zb2l74"><a href="#next" class="slider-link svelte-zb2l74" aria-label="Go to next slide"><span class="link-text svelte-zb2l74"> </span><span class="link-arrow svelte-zb2l74"> </span></a></div></div> <div class="slider-nav svelte-zb2l74"><button aria-label="Go to slide 1"></button> <!> <!></div></div>'),Gw=Z('<span class="completed-project-tool svelte-zb2l74"> </span>'),Hw=Z('<div class="completed-project-card svelte-zb2l74"><div class="completed-project-header svelte-zb2l74"><div class="completed-project-header-left svelte-zb2l74"><div class="dual-pill-label svelte-zb2l74"><span class="beneficiary-side svelte-zb2l74"><!> </span> <span> </span></div> <div class="completed-project-title svelte-zb2l74"> </div></div> <div class="completed-project-icon svelte-zb2l74"><!> <!> </div></div> <div class="completed-project-content svelte-zb2l74"><div class="completed-project-left-column svelte-zb2l74"><div class="slider-outer-container svelte-zb2l74"><button class="slider-arrow-button slider-arrow-left outside-positioned svelte-zb2l74" aria-label="Previous slide"><!></button> <div class="completed-project-slider-wrapper svelte-zb2l74"><div class="completed-project-slider svelte-zb2l74"><div class="slider-container svelte-zb2l74"><div class="slider-track svelte-zb2l74"><div class="slider-slide svelte-zb2l74"><div class="completed-project-description svelte-zb2l74"><!></div></div> <!> <!></div> <!></div></div></div> <button class="slider-arrow-button slider-arrow-right outside-positioned svelte-zb2l74" aria-label="Next slide"><!></button></div></div> <div class="completed-project-image-column svelte-zb2l74"><img class="svelte-zb2l74"></div></div> <div class="completed-project-tools svelte-zb2l74"></div></div>'),Yw=Z('<div id="completed-projects" class="completed-projects svelte-zb2l74"><!></div>');function Kw(t,e){We(e,!1);const r=H();let n=H([]),s=H(!0),i=H(null),a=H({likes:{},follows:{},userEmail:void 0,initialized:!1});tt(()=>{const L=Xh(Y=>{I(a,Y)});async function q(){try{const{data:Y,error:Q}=await ce.from("projects").select("*").eq("status","completed").eq("show",!0).order("order",{ascending:!1});if(Q)throw Q;I(n,Y.map(X=>({...X,launchDate:X.launchDate?new Date(X.launchDate):null,impact:typeof X.impact=="string"?X.impact==="true":!!X.impact}))),p(n).forEach(X=>{Ve(o,p(o)[X.id]=0)}),I(s,!1)}catch(Y){console.error("Error loading projects:",Y),I(i,Y instanceof Error?Y.message:"Failed to load projects"),I(s,!1)}}q(),document.fonts.ready.then(()=>{console.log("Fonts loaded"),w()});const B=()=>{w()};return window.addEventListener("resize",B),()=>{window.removeEventListener("resize",B),L()}});let o=H({}),l=0,u=0,d=H({}),f=H({}),h=H({});function g(L){l=L.touches[0].clientX}function y(L){u=L.touches[0].clientX}function _(L,q){const Y=u-l;Math.abs(Y)>50&&(Y>0?T(L):E(L,q)),l=0,u=0}function w(){p(n).forEach(L=>{const q=p(d)[L.id],B=p(f)[L.id],Y=p(h)[L.id];if(q&&B&&Y){const Q=q.getBoundingClientRect(),X=Q.top+Q.height/2,ve=q.closest(".slider-outer-container");if(ve){const we=ve.getBoundingClientRect(),$=X-we.top;B.style.top=`${$}px`,B.style.transform="translateY(-50%)",Y.style.top=`${$}px`,Y.style.transform="translateY(-50%)"}}})}Gi(()=>{w()});function O(L){return L.split(`

`).map(q=>`<p>${q}</p>`).join("")}function C(L){return L.impact===!0}function A(L){let q=1;return C(L)&&q++,L.extraContent&&q++,q}function b(L,q){Ve(o,p(o)[L]=q)}function E(L,q){const B=A(q);p(o)[L]<B-1&&Ve(o,p(o)[L]++)}function T(L){p(o)[L]>0&&Ve(o,p(o)[L]--)}function x(L,q){return q===0?{main:(L.linkText||"See more").replace(/\s+>$/,""),arrow:">"}:{main:(L.extraContentLinkText||"Next").replace(/\s+>$/,""),arrow:">"}}function R(L){var Y;const q=p(n).find(Q=>Q.id===L);if(!q)return;const B=((Y=p(a))==null?void 0:Y.likes[`${Lt.PROJECT}:${L}`])||!1;q.likes!==void 0?q.likes=B?Math.max(0,q.likes-1):q.likes+1:B||(q.likes=1),I(n,[...p(n)]),Zh(Lt.PROJECT,L)}_t(()=>(p(n),p(a),Lt),()=>{I(r,p(n).reduce((L,q)=>{var B;return L[q.id]=((B=p(a))==null?void 0:B.likes[`${Lt.PROJECT}:${q.id}`])||!1,L},{}))}),Pn(),Xe();var V=Yw(),U=P(V);{var N=L=>{var q=Fw();K(L,q)},W=(L,q)=>{{var B=Q=>{var X=$w(),ve=P(X);_e(()=>fe(ve,`Error: ${p(i)??""}`)),K(Q,X)},Y=Q=>{var X=Ar(),ve=et(X);Fs(ve,1,()=>p(n),we=>we.id,(we,$)=>{var he=Hw(),ie=P(he),c=P(ie),m=P(c),v=P(m),S=P(v);{var k=Se=>{Ke(Se,{icon:["fas","person"],size:"sm"})},j=(Se,Pe)=>{{var ut=dt=>{Ke(dt,{icon:["fas","house-chimney-window"],size:"sm"})},vt=(dt,Nr)=>{{var Ft=Xt=>{Ke(Xt,{icon:["fas","briefcase"],size:"sm"})},an=(Xt,Aa)=>{{var Oa=vi=>{Ke(vi,{icon:["fas","tree-city"],size:"sm"})};ne(Xt,vi=>{p($).beneficiary==="community"&&vi(Oa)},Aa)}};ne(dt,Xt=>{p($).beneficiary==="work/business"?Xt(Ft):Xt(an,!1)},Nr)}};ne(Se,dt=>{p($).beneficiary==="household"?dt(ut):dt(vt,!1)},Pe)}};ne(S,Se=>{p($).beneficiary==="personal"?Se(k):Se(j,!1)})}var M=D(S),F=D(v,2),G=P(F),ae=D(m,2),ee=P(ae),ke=D(c,2),oe=P(ke);Sn(oe,{type:"like",get active(){return p(r)[p($).id]},count:void 0,showText:!1,iconSize:"lg",$$events:{click:()=>R(p($).id)}});var Ee=D(oe,2);{var Ie=Se=>{var Pe=Uw(),ut=P(Pe);_e(()=>fe(ut,`${p($).likes??""} ${(p($).likes===1?"like":"likes")??""}`)),K(Se,Pe)};ne(Ee,Se=>{p($).likes&&p($).likes>0&&Se(Ie)})}var Ue=D(Ee),Ce=D(ie,2),ue=P(Ce),Te=P(ue),qe=P(Te),st=P(qe);Ke(st,{icon:["fas","angle-left"]}),Ze(qe,(Se,Pe)=>Ve(f,p(f)[Pe.id]=Se),Se=>{var Pe;return(Pe=p(f))==null?void 0:Pe[Se.id]},()=>[p($)]);var xt=D(qe,2),dr=P(xt),ct=P(dr),He=P(ct),Dt=P(He),fr=P(Dt),Rr=P(fr);Pr(Rr,()=>O(p($).longDescription),!1,!1),Ze(fr,(Se,Pe)=>Ve(d,p(d)[Pe.id]=Se),Se=>{var Pe;return(Pe=p(d))==null?void 0:Pe[Se.id]},()=>[p($)]);var wt=D(Dt,2);{var kt=Se=>{var Pe=qw(),ut=P(Pe),vt=P(ut),dt=P(vt);_b(dt,{get project(){return p($)}}),_e(Nr=>_r(Pe,`min-width: ${Nr??""}%`),[()=>100/A(p($))],ge),K(Se,Pe)};ne(wt,Se=>{C(p($))&&Se(kt)})}var Nt=D(wt,2);{var hi=Se=>{var Pe=Bw(),ut=P(Pe),vt=P(ut);{var dt=Ft=>{var an=zw(),Xt=P(an);_e(()=>fe(Xt,p($).extraContentTitle)),K(Ft,an)};ne(vt,Ft=>{p($).extraContentTitle&&Ft(dt)})}var Nr=D(vt,2);Pr(Nr,()=>O(p($).extraContent),!1,!1),_e(Ft=>_r(Pe,`min-width: ${Ft??""}%`),[()=>100/A(p($))],ge),K(Se,Pe)};ne(Nt,Se=>{p($).extraContent&&Se(hi)})}var Dr=D(He,2);{var Ca=Se=>{var Pe=Ww(),ut=P(Pe),vt=P(ut),dt=P(vt),Nr=D(vt,2),Ft=P(Nr),an=P(Ft),Xt=P(an),Aa=D(an),Oa=P(Aa),vi=D(ut,2),Pa=P(vi),mc=D(Pa,2);{var Qv=St=>{var Zt=Vw();_e(()=>pe(Zt,1,`slider-dot ${(p(o)[p($).id]===1?"active":"")??""}`,"svelte-zb2l74")),de("click",Zt,()=>b(p($).id,1)),K(St,Zt)};ne(mc,St=>{C(p($))&&St(Qv)})}var Xv=D(mc,2);{var Zv=St=>{var Zt=Jw();_e((xa,em)=>{pe(Zt,1,`slider-dot ${xa??""}`,"svelte-zb2l74"),Ye(Zt,"aria-label",`Go to slide ${em??""}`)},[()=>p(o)[p($).id]===(C(p($))?2:1)?"active":"",()=>C(p($))?3:2],ge),de("click",Zt,()=>b(p($).id,C(p($))?2:1)),K(St,Zt)};ne(Xv,St=>{p($).extraContent&&St(Zv)})}_e((St,Zt,xa)=>{_r(vt,`display: ${(p(o)[p($).id]===0?"none":"block")??""}`),_r(Nr,`display: ${St??""}`),fe(Xt,Zt),fe(Oa,xa),pe(Pa,1,`slider-dot ${(p(o)[p($).id]===0?"active":"")??""}`,"svelte-zb2l74")},[()=>p(o)[p($).id]===A(p($))-1?"none":"block",()=>x(p($),p(o)[p($).id]).main,()=>x(p($),p(o)[p($).id]).arrow],ge),de("click",dt,Us(()=>T(p($).id))),de("keydown",dt,St=>St.key==="Enter"&&T(p($).id)),de("click",Ft,Us(()=>E(p($).id,p($)))),de("keydown",Ft,St=>St.key==="Enter"&&E(p($).id,p($))),de("click",Pa,()=>b(p($).id,0)),K(Se,Pe)};ne(Dr,Se=>{A(p($))>1&&Se(Ca)})}var Mn=D(xt,2),pi=P(Mn);Ke(pi,{icon:["fas","angle-right"]}),Ze(Mn,(Se,Pe)=>Ve(h,p(h)[Pe.id]=Se),Se=>{var Pe;return(Pe=p(h))==null?void 0:Pe[Se.id]},()=>[p($)]);var Yv=D(ue,2),vc=P(Yv),Kv=D(Ce,2);Fs(Kv,5,()=>p($).tools,Wf,(Se,Pe)=>{var ut=Gw(),vt=P(ut);_e(()=>fe(vt,p(Pe))),K(Se,ut)}),_e((Se,Pe,ut,vt,dt)=>{Ye(he,"data-project-id",p($).id),fe(M,` ${p($).beneficiary??""}`),pe(F,1,`value-side ${p($).value??""}`,"svelte-zb2l74"),fe(G,`↑ ${p($).value??""}`),fe(ee,p($).title),fe(Ue,` ${Se??""}`),qe.disabled=p(o)[p($).id]===0,_r(He,`width: ${Pe??""}%; 
                                transform: translateX(-${ut??""}%);`),_r(Dt,`min-width: ${vt??""}%`),Mn.disabled=dt,Ye(vc,"src",`images/${p($).image??""}`),Ye(vc,"alt",p($).title)},[()=>String(p($).id).padStart(2,"0"),()=>A(p($))*100,()=>p(o)[p($).id]*(100/A(p($))),()=>100/A(p($)),()=>p(o)[p($).id]===A(p($))-1],ge),de("click",qe,()=>T(p($).id)),de("touchstart",ct,g),de("touchmove",ct,y),de("touchend",ct,()=>_(p($).id,p($))),de("click",Mn,()=>E(p($).id,p($))),K(we,he)}),K(Q,X)};ne(L,Q=>{p(i)?Q(B):Q(Y,!1)},q)}};ne(U,L=>{p(s)?L(N):L(W,!1)})}K(t,V),Ge()}const ap={title:"Wendy Ham's Weekend Projects",description:"Experiments in creating bespoke 'software for one' using AI tools. A look into the rising accessibility of hyperpersonal software for supercharging life tasks.",image:"/images/og-image.png",type:"website",twitterCard:"summary_large_image",canonicalUrl:"https://xnham.com/"},Xl=jl(ap);function di(t){Xl.update(e=>({...e,...t}))}function Qw(){Xl.set(ap)}var Xw=Z('<section class="container"><!></section> <section class="container"><!></section>',1);function Zw(t,e){We(e,!1),tt(()=>{di({title:"Wendy Ham's Weekend Projects",description:"Experiments in creating bespoke 'software for one' using AI tools. A look into the rising accessibility of hyperpersonal software for supercharging life tasks.",canonicalUrl:"https://xnham.com/"})}),Xe();var r=Xw(),n=et(r),s=P(n);Wg(s,{});var i=D(n,2),a=P(i);Kw(a,{}),K(t,r),Ge()}var e1=Z('<div class="loading-state svelte-o9016u">Loading projects...</div>'),t1=Z('<div class="error-state svelte-o9016u"> </div>'),r1=Z('<div class="inline-notification svelte-o9016u" role="status"><div class="notification-content svelte-o9016u"><!> <span class="svelte-o9016u"> </span></div> <button class="dismiss-notification svelte-o9016u" aria-label="Dismiss notification">&times;</button></div>'),n1=Z('<div class="future-project-card svelte-o9016u"><div class="future-project-card-header svelte-o9016u"><div class="dual-pill-label svelte-o9016u"><span class="beneficiary-side svelte-o9016u"><!> </span> <span> </span></div></div> <h3 class="future-project-card-title svelte-o9016u"> </h3> <div class="future-project-card-details svelte-o9016u"><!></div> <div class="future-project-card-actions svelte-o9016u"><div class="future-project-buttons svelte-o9016u"><!> <!> <button class="future-project-comment-button svelte-o9016u" aria-label="Comment on this project"><!> <span class="svelte-o9016u">Comment</span></button></div> <div class="future-project-counters svelte-o9016u"> </div></div> <!></div>'),i1=Z('<div class="future-project-modal svelte-o9016u"><div class="future-project-modal-content svelte-o9016u"><button class="future-project-close-modal svelte-o9016u" aria-label="Close modal">&times;</button> <div class="future-project-modal-inner-content svelte-o9016u"><h3 class="future-project-modal-title svelte-o9016u">Get updates about your favorite projects</h3> <div class="future-project-form-and-button svelte-o9016u"><div class="future-project-form-group svelte-o9016u"><form class="svelte-o9016u"><input type="email" placeholder="Your email address" required class="follow-email-input svelte-o9016u"> <button type="submit" class="modal-action-btn svelte-o9016u"><!> <span class="button-icon-text svelte-o9016u"> </span></button></form></div> <p class="future-project-privacy-note svelte-o9016u">Low volume. Unsubscribe anytime.</p></div></div></div></div>'),s1=Z('<div class="future-projects svelte-o9016u" id="projectList"><!></div> <!>',1);function a1(t,e){We(e,!1);const r=H(),n=H();let s=H([]),i=H(!0),a=H(null),o=H({}),l=H(!1),u=null,d=H(""),f=H(!1),h=H({likes:{},follows:{},userEmail:void 0,initialized:!1});Gi(()=>{p(h).initialized&&console.log("Interaction state initialized:",{likes:p(h).likes,follows:p(h).follows,likedStatus:p(r),followStatus:p(n)})}),tt(()=>{async function L(){try{console.log("Starting to fetch projects from Supabase...");const{data:B,error:Y}=await ce.from("projects").select("*").eq("status","future").eq("show",!0).order("order",{ascending:!0});if(console.log("Supabase query result:",{data:B,fetchError:Y}),Y)throw Y;I(s,B||[]),console.log("Projects loaded:",p(s).length),console.log("Projects loaded:",p(s)),setTimeout(()=>{console.log("Current interaction state:",{initialized:p(h).initialized,likes:p(h).likes,follows:p(h).follows})},1e3),I(i,!1)}catch(B){console.error("Error loading projects:",B),I(a,B instanceof Error?B.message:"Failed to load projects"),I(i,!1)}}L();const q=Xh(B=>{console.log("Interaction state updated:",B),I(h,{...B,initialized:!0}),console.log("Derived like status:",p(r)),console.log("Derived follow status:",p(n))});return()=>{q()}});function g(L){const q=p(r)[L];Zh(Lt.PROJECT,L),I(s,p(s).map(B=>B.id===L?{...B,likes:B.likes+(q?-1:1)}:B))}function y(L){const q=p(s).find(B=>B.id===L);return q?q.title:"this project"}async function _(L){try{const q=p(n)[L],B=!q;I(s,p(s).map(Q=>Q.id===L?{...Q,follows:Q.follows+(q?-1:1)}:Q)),O(L,B?`You are now following ${y(L)}.`:`You have unfollowed ${y(L)}.`);const Y=await bu(Lt.PROJECT,L);Y.needsEmail?(C(L),I(l,!0),u=L,I(s,p(s).map(Q=>Q.id===L?{...Q,follows:Q.follows-1}:Q))):Y.success||(I(s,p(s).map(Q=>Q.id===L?{...Q,follows:Q.follows+(B?-1:1)}:Q)),O(L,"Sorry, we couldn't update your follow status. Please try again."))}catch(q){console.error("Failed to toggle follow:",q),O(L,"An error occurred. Please try again.")}}async function w(){if(u)try{if(I(f,!0),!p(d)||!p(d).includes("@"))return;if((await bu(Lt.PROJECT,u,p(d))).success){const q=y(u),B=u;I(s,p(s).map(Y=>Y.id===B?{...Y,follows:Y.follows+1}:Y)),I(l,!1),u=null,setTimeout(()=>{O(B,`You are now following ${q}.`)},100)}}catch(L){console.error("Failed to submit email:",L)}finally{I(f,!1)}}function O(L,q){var B;(B=p(o)[L])!=null&&B.timer&&clearTimeout(p(o)[L].timer),Ve(o,p(o)[L]={projectId:L,message:q,timer:setTimeout(()=>{C(L)},2500)}),I(o,{...p(o)})}function C(L){p(o)[L]&&(p(o)[L].timer&&clearTimeout(p(o)[L].timer),delete p(o)[L],I(o,{...p(o)}))}function A(L,q){return L===0&&q===0?"":L>0&&q===0?`${L} ${L===1?"like":"likes"}`:L===0&&q>0?`${q} ${q===1?"follower":"followers"}`:`${L} ${L===1?"like":"likes"} & ${q} ${q===1?"follower":"followers"}`}function b(L){console.log("Comment clicked for project:",L)}function E(L){L.focus()}_t(()=>(p(s),p(h),Lt),()=>{I(r,p(s).reduce((L,q)=>{var B;return L[q.id]=((B=p(h))==null?void 0:B.likes[`${Lt.PROJECT}:${q.id}`])||!1,L},{}))}),_t(()=>(p(s),p(h),Lt),()=>{I(n,p(s).reduce((L,q)=>{var B;return L[q.id]=((B=p(h))==null?void 0:B.follows[`${Lt.PROJECT}:${q.id}`])||!1,L},{}))}),Pn(),Xe();var T=s1(),x=et(T),R=P(x);{var V=L=>{var q=e1();K(L,q)},U=(L,q)=>{{var B=Q=>{var X=t1(),ve=P(X);_e(()=>fe(ve,`Error: ${p(a)??""}`)),K(Q,X)},Y=Q=>{var X=Ar(),ve=et(X);Fs(ve,1,()=>p(s),we=>we.id,(we,$)=>{var he=n1(),ie=P(he),c=P(ie),m=P(c),v=P(m);{var S=He=>{Ke(He,{icon:["fas","person"],size:"sm"})},k=(He,Dt)=>{{var fr=wt=>{Ke(wt,{icon:["fas","house-chimney-window"],size:"sm"})},Rr=(wt,kt)=>{{var Nt=Dr=>{Ke(Dr,{icon:["fas","briefcase"],size:"sm"})},hi=(Dr,Ca)=>{{var Mn=pi=>{Ke(pi,{icon:["fas","tree-city"],size:"sm"})};ne(Dr,pi=>{p($).beneficiary==="community"&&pi(Mn)},Ca)}};ne(wt,Dr=>{p($).beneficiary==="work/business"?Dr(Nt):Dr(hi,!1)},kt)}};ne(He,wt=>{p($).beneficiary==="household"?wt(fr):wt(Rr,!1)},Dt)}};ne(v,He=>{p($).beneficiary==="personal"?He(S):He(k,!1)})}var j=D(v),M=D(m,2),F=P(M),G=D(ie,2),ae=P(G),ee=D(G,2),ke=P(ee);Pr(ke,()=>p($).longDescription,!1,!1);var oe=D(ee,2),Ee=P(oe),Ie=P(Ee);const Ue=ge(()=>!p(h).initialized);Sn(Ie,{type:"like",get active(){return p(r)[p($).id]},count:void 0,iconSize:"sm",get loading(){return p(Ue)},$$events:{click:()=>g(p($).id)}});var Ce=D(Ie,2);const ue=ge(()=>!p(h).initialized);Sn(Ce,{type:"follow",get active(){return p(n)[p($).id]},count:void 0,iconSize:"sm",get loading(){return p(ue)},$$events:{click:()=>_(p($).id)}});var Te=D(Ce,2),qe=P(Te);Ke(qe,{icon:["far","comment"]});var st=D(Ee,2),xt=P(st),dr=D(oe,2);{var ct=He=>{var Dt=r1(),fr=P(Dt),Rr=P(fr);Ke(Rr,{icon:["fas","info-circle"]});var wt=D(Rr,2),kt=P(wt),Nt=D(fr,2);_e(()=>fe(kt,p(o)[p($).id].message)),de("click",Nt,()=>C(p($).id)),K(He,Dt)};ne(dr,He=>{p(o)[p($).id]&&He(ct)})}_e(He=>{fe(j,` ${p($).beneficiary??""}`),pe(M,1,`value-side ${p($).value??""}`,"svelte-o9016u"),fe(F,`↑ ${p($).value??""}`),fe(ae,p($).title),fe(xt,He)},[()=>A(p($).likes,p($).follows)],ge),de("click",Te,()=>b(p($).id)),K(we,he)}),K(Q,X)};ne(L,Q=>{p(a)?Q(B):Q(Y,!1)},q)}};ne(R,L=>{p(i)?L(V):L(U,!1)})}var N=D(x,2);{var W=L=>{var q=i1(),B=P(q),Y=P(B),Q=D(Y,2),X=D(P(Q),2),ve=P(X),we=P(ve),$=P(we);li(()=>ks($,()=>p(d),v=>I(d,v))),wg($,v=>E==null?void 0:E(v));var he=D($,2),ie=P(he);Ke(ie,{icon:["far","bell"]});var c=D(ie,2),m=P(c);_e(()=>{he.disabled=p(f)||!p(d),fe(m,p(f)?"Subscribing...":"Subscribe to updates")}),de("click",Y,()=>I(l,!1)),de("submit",we,Us(w)),K(L,q)};ne(N,L=>{p(l)&&L(W)})}K(t,T),Ge()}var o1=Z('<div class="container"><h2 class="small-bottom-margin">Tell Me What to Build <span class="purple">Next.</span></h2> <div class="future-project-intro svelte-1oapx03"><p class="svelte-1oapx03">Like the projects that resonate with you. Follow the ones you want access to.</p> <p class="svelte-1oapx03">If you have your own project idea, how about having a chat with <a href="/mr-benedict" class="svelte-1oapx03">Mr. Benedict</a>, my gentle robot? It will help you figure out how to best build it.</p></div> <!></div>');function l1(t,e){We(e,!1),tt(()=>{di({title:"Next | Wendy Ham's Weekend Projects",description:"Have a say in what I build next. Like the projects that resonate with you and follow the ones you want access to.",type:"website",canonicalUrl:"https://xnham.com/next"})}),Xe();var r=o1(),n=D(P(r),4);a1(n,{}),K(t,r),Ge()}const c1=(t,e,r)=>{const n=t[e];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((s,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})};async function u1(t){try{const{data:e,error:r}=await ce.from("essays").select(`
        id, title, description, date, published, excerpt, slug,
        like_count, share_count, view_count
      `).eq("slug",t).single();if(r)throw r;const n=await c1(Object.assign({"../content/essays/bye-bye-subscriptions.md":()=>at(()=>import("./bye-bye-subscriptions-BGYMqipg.js"),[]),"../content/essays/coding-background.md":()=>at(()=>import("./coding-background-BwfnBfqb.js"),[]),"../content/essays/dumb-software.md":()=>at(()=>import("./dumb-software-C9xw9PyW.js"),[]),"../content/essays/growth-kills.md":()=>at(()=>import("./growth-kills-Bu-QEktk.js"),[]),"../content/essays/software-for-one.md":()=>at(()=>import("./software-for-one-5v0LxpEI.js"),[]),"../content/essays/software-should-be-small.md":()=>at(()=>import("./software-should-be-small-BL4pVL0E.js"),[]),"../content/essays/the-last-mile.md":()=>at(()=>import("./the-last-mile-a1TjGW0T.js"),[]),"../content/essays/the-value-of-taste-in-AI-age.md":()=>at(()=>import("./the-value-of-taste-in-AI-age-D2gPZptA.js"),[]),"../content/essays/vibe-coding.md":()=>at(()=>import("./vibe-coding-BRRZd7oG.js"),[]),"../content/essays/vitamins-vs-painkillers.md":()=>at(()=>import("./vitamins-vs-painkillers-D4spSMXU.js"),[])}),`../content/essays/${t}.md`,4),s={id:e.id,title:e.title,description:e.description,date:e.date,slug:e.slug,published:e.published,excerpt:e.excerpt||void 0,like_count:e.like_count,share_count:e.share_count,view_count:e.view_count};return{content:n.default,metadata:s,error:null}}catch(e){return console.error(`Could not find essay ${t}`,e),{content:null,metadata:null,error:`Could not find essay ${t}`}}}async function d1(){try{const{data:t,error:e}=await ce.from("essays").select(`
        id, title, description, date, published, excerpt, slug,
        like_count, share_count, view_count
      `).eq("published",!0).order("date",{ascending:!1});if(e)throw e;return t.map(r=>({id:r.id,title:r.title,description:r.description,date:r.date,slug:r.slug,published:r.published,excerpt:r.excerpt||void 0,like_count:r.like_count,share_count:r.share_count,view_count:r.view_count}))}catch(t){return console.error("Error loading essays:",t),[]}}const f1=t=>t;function h1(t){const e=t-1;return e*e*e+1}function Zl(t,{delay:e=0,duration:r=400,easing:n=f1}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:n,css:i=>`opacity: ${i*s}`}}function p1(t,{delay:e=0,duration:r=400,easing:n=h1,start:s=0,opacity:i=0}={}){const a=getComputedStyle(t),o=+a.opacity,l=a.transform==="none"?"":a.transform,u=1-s,d=o*(1-i);return{delay:e,duration:r,easing:n,css:(f,h)=>`
			transform: ${l} scale(${1-u*h});
			opacity: ${o-d*h}
		`}}const nt=[];for(let t=0;t<256;++t)nt.push((t+256).toString(16).slice(1));function v1(t,e=0){return(nt[t[e+0]]+nt[t[e+1]]+nt[t[e+2]]+nt[t[e+3]]+"-"+nt[t[e+4]]+nt[t[e+5]]+"-"+nt[t[e+6]]+nt[t[e+7]]+"-"+nt[t[e+8]]+nt[t[e+9]]+"-"+nt[t[e+10]]+nt[t[e+11]]+nt[t[e+12]]+nt[t[e+13]]+nt[t[e+14]]+nt[t[e+15]]).toLowerCase()}let Ga;const m1=new Uint8Array(16);function g1(){if(!Ga){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ga=crypto.getRandomValues.bind(crypto)}return Ga(m1)}const y1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wu={randomUUID:y1};function _1(t,e,r){var s;if(wu.randomUUID&&!t)return wu.randomUUID();t=t||{};const n=t.random??((s=t.rng)==null?void 0:s.call(t))??g1();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,v1(n)}var Jo=(t=>(t.ESSAY="essay",t))(Jo||{});const yn=jl({likes:{},shares:{},views:{}}),ku="device_id";async function ya(){let t=localStorage.getItem(ku);return t||(t=_1(),localStorage.setItem(ku,t)),t}async function b1(){const t=await ya();await _a(t)}async function _a(t){try{const{data:e,error:r}=await ce.from("essay_interactions").select("essay_id, has_liked, share_count, has_viewed").eq("device_id",t);if(r)throw r;const n={likes:{},shares:{},views:{}};e&&e.forEach(s=>{const i=`essay:${s.essay_id}`;n.likes[i]=s.has_liked,n.shares[i]=s.share_count||0,n.views[i]=s.has_viewed}),yn.set(n)}catch(e){console.error("Failed to refresh interaction state:",e)}}function op(t){return yn.subscribe(t)}async function lp(t){const e=await ya(),r=`essay:${t}`,s=!!bn(yn).likes[r];yn.update(i=>({...i,likes:{...i.likes,[r]:!s}}));try{const{data:i,error:a}=await ce.from("essay_interactions").select("id, has_liked").eq("device_id",e).eq("essay_id",t).single();if(a&&a.code!=="PGRST116")throw a;const o=!s;if(i){const{error:d}=await ce.from("essay_interactions").update({has_liked:o,updated_at:new Date().toISOString()}).eq("id",i.id);if(d)throw d}else{const{error:d}=await ce.from("essay_interactions").insert({device_id:e,essay_id:t,has_liked:o,share_count:0,has_viewed:!0});if(d)throw d}const l=o?1:-1,{error:u}=await ce.rpc("increment_essay_like_count",{essay_id:t,increment_by:l}).single();if(u){const{data:d,error:f}=await ce.from("essays").select("like_count").eq("id",t).single();if(f)throw f;const h=Math.max(0,(d.like_count||0)+l),{error:g}=await ce.from("essays").update({like_count:h}).eq("id",t);if(g)throw g}await _a(e)}catch(i){throw console.error("Error toggling like:",i),yn.update(a=>({...a,likes:{...a.likes,[r]:s}})),i}}async function cp(t){const e=await ya(),r=`essay:${t}`;yn.update(n=>{const s=n.shares[r]||0;return{...n,shares:{...n.shares,[r]:s+1}}});try{const{data:n,error:s}=await ce.from("essay_interactions").select("id, share_count").eq("device_id",e).eq("essay_id",t).single();if(s&&s.code!=="PGRST116")throw s;if(n){const a=(n.share_count||0)+1,{error:o}=await ce.from("essay_interactions").update({share_count:a,updated_at:new Date().toISOString()}).eq("id",n.id);if(o)throw o}else{const{error:a}=await ce.from("essay_interactions").insert({device_id:e,essay_id:t,has_liked:!1,share_count:1,has_viewed:!0});if(a)throw a}const{error:i}=await ce.rpc("increment_essay_share_count",{essay_id:t,increment_by:1}).single();if(i){const{data:a,error:o}=await ce.from("essays").select("share_count").eq("id",t).single();if(o)throw o;const l=(a.share_count||0)+1,{error:u}=await ce.from("essays").update({share_count:l}).eq("id",t);if(u)throw u}await _a(e)}catch(n){throw console.error("Error recording share:",n),n}}async function w1(t){const e=await ya(),r=`essay:${t}`;yn.update(n=>({...n,views:{...n.views,[r]:!0}}));try{const{data:n,error:s}=await ce.from("essay_interactions").select("id").eq("device_id",e).eq("essay_id",t).single();if(s&&s.code!=="PGRST116")throw s;if(n){const{error:a}=await ce.from("essay_interactions").update({has_viewed:!0,updated_at:new Date().toISOString()}).eq("id",n.id);if(a)throw a}else{const{error:a}=await ce.from("essay_interactions").insert({device_id:e,essay_id:t,has_liked:!1,share_count:0,has_viewed:!0});if(a)throw a}const{error:i}=await ce.rpc("increment_essay_view_count",{essay_id:t,increment_by:1}).single();if(i){const{data:a,error:o}=await ce.from("essays").select("view_count").eq("id",t).single();if(o)throw o;const l=(a.view_count||0)+1,{error:u}=await ce.from("essays").update({view_count:l}).eq("id",t);if(u)throw u}await _a(e)}catch(n){console.error("Error recording view:",n)}}var k1=Z('<div class="copy-feedback svelte-wk6fl"> </div>'),S1=Z('<div class="essay-card svelte-wk6fl"><a class="essay-card-link svelte-wk6fl"><div class="essay-content svelte-wk6fl"><p class="essay-date svelte-wk6fl"> </p> <h3 class="essay-title svelte-wk6fl"> </h3> <p class="essay-description svelte-wk6fl"><!></p> <span class="read-more svelte-wk6fl"><span class="read-more-text svelte-wk6fl">Read more</span> &gt</span></div></a> <div class="essay-interaction-container svelte-wk6fl"><div class="essay-buttons svelte-wk6fl"><!> <div class="share-button-container svelte-wk6fl"><!> <!></div></div> <div class="essay-counters svelte-wk6fl"><!></div></div></div>'),E1=Z('<div class="essays svelte-wk6fl"></div>');function T1(t,e){We(e,!1);const r=H();let n=H([]),s=H({likes:{},shares:{},views:{}}),i=H(""),a=H(""),o;tt(()=>{d1().then(C=>{I(n,C)});const w=op(C=>{I(s,C)}),O=C=>{C.key==="Escape"&&(I(i,""),I(a,""))};return window.addEventListener("keydown",O),()=>{w(),window.removeEventListener("keydown",O),o&&clearTimeout(o)}});async function l(w){var O;try{const C=p(n).find(T=>T.id===w);if(!C)return;const A=`${Jo.ESSAY}:${w}`,E=((O=p(s))==null?void 0:O.likes[A])||!1?-1:1;C.like_count=Math.max(0,(C.like_count||0)+E),await lp(w),d(w).catch(T=>{console.error("Error refreshing essay:",T),C&&(C.like_count=Math.max(0,(C.like_count||0)-E))})}catch(C){console.error("Error toggling like:",C)}}async function u(w){try{if(!w.id)return;const O=`${window.location.origin}/writing/${w.slug}`;await navigator.clipboard.writeText(O),w.share_count=(w.share_count||0)+1,I(i,"URL copied to clipboard!"),I(a,w.id),o&&clearTimeout(o),o=setTimeout(()=>{I(i,""),I(a,"")},3e3),await cp(w.id),d(w.id).catch(C=>{console.error("Error refreshing essay:",C),w&&(w.share_count=Math.max(0,(w.share_count||0)-1))})}catch(O){console.error("Error sharing essay:",O),I(i,"Failed to copy URL"),I(a,w.id),o=setTimeout(()=>{I(i,""),I(a,"")},3e3)}}async function d(w){try{const{data:O,error:C}=await ce.from("essays").select("id, like_count, share_count, view_count").eq("id",w).single();if(C)throw C;O&&I(n,p(n).map(A=>A.id===w?{...A,like_count:O.like_count,share_count:O.share_count,view_count:O.view_count}:A))}catch(O){console.error("Failed to refresh essay:",O)}}function f(w){const[O,C,A]=w.split("-"),b=["January","February","March","April","May","June","July","August","September","October","November","December"],E=parseInt(C,10)-1,T=b[E],x=A.startsWith("0")?A.substring(1):A;return`${T} ${x}, ${O}`}function h(w){return w.like_count||0}function g(w){return w.share_count||0}function y(w){const O=h(w),C=g(w);return O===0&&C===0?"":O>0&&C===0?`${O} ${O===1?"like":"likes"}`:O===0&&C>0?`${C} ${C===1?"share":"shares"}`:`${O} ${O===1?"like":"likes"} & ${C} ${C===1?"share":"shares"}`}_t(()=>(p(n),p(s)),()=>{I(r,p(n).reduce((w,O)=>{var A;const C=`${Jo.ESSAY}:${O.id}`;return w[O.id]=((A=p(s))==null?void 0:A.likes[C])||!1,w},{}))}),Pn(),Xe();var _=E1();Fs(_,5,()=>p(n),Wf,(w,O)=>{var C=S1(),A=P(C),b=P(A),E=P(b),T=P(E),x=D(E,2),R=P(x),V=D(x,2),U=P(V);{var N=ie=>{var c=Pi();_e(()=>fe(c,p(O).excerpt)),K(ie,c)},W=ie=>{var c=Pi();_e(()=>fe(c,p(O).description)),K(ie,c)};ne(U,ie=>{p(O).excerpt?ie(N):ie(W,!1)})}var L=D(A,2),q=P(L),B=P(q);Sn(B,{type:"like",get active(){return p(r)[p(O).id]},count:void 0,$$events:{click:()=>l(p(O).id)}});var Y=D(B,2),Q=P(Y);Sn(Q,{type:"share",active:!1,count:void 0,$$events:{click:ie=>u(p(O))}});var X=D(Q,2);{var ve=ie=>{var c=k1(),m=P(c);_e(()=>fe(m,p(i))),$s(3,c,()=>Zl,()=>({duration:150})),K(ie,c)};ne(X,ie=>{p(i)&&p(a)===p(O).id&&ie(ve)})}var we=D(q,2),$=P(we);{var he=ie=>{var c=Pi();_e(m=>fe(c,m),[()=>y(p(O))],ge),K(ie,c)};ne($,ie=>{p(O).id&&ie(he)})}_e(ie=>{Ye(A,"href",`/writing/${p(O).slug??""}`),fe(T,ie),fe(R,p(O).title)},[()=>f(p(O).date)],ge),K(w,C)}),K(t,_),Ge()}var C1=ug(`<script type="application/ld+json">
      {JSON.stringify(articleJsonLd)}
    <\/script><!---->`,1),A1=Z('<div class="loading svelte-11zp4mk">Loading essay...</div>'),O1=Z('<div class="error svelte-11zp4mk"> </div>'),P1=Z('<div class="copy-feedback svelte-11zp4mk"> </div>'),x1=Z('<div class="essay-container svelte-11zp4mk"><div class="essay-header-row svelte-11zp4mk"><p class="essay-date svelte-11zp4mk"> </p> <div class="essay-buttons svelte-11zp4mk"><!> <!> <!></div></div> <h2 class="essay-title svelte-11zp4mk"> </h2> <p class="essay-description svelte-11zp4mk"> </p> <div class="content svelte-11zp4mk"><!></div></div>'),L1=Z('<div class="back-button svelte-11zp4mk">&lt; <a href="/writing" class="svelte-11zp4mk"><span class="link-text svelte-11zp4mk">Back</span></a></div> <a href="/writing"><span class="arrow svelte-11zp4mk">&lt;</span> <span class="floating-link-text svelte-11zp4mk">Back</span></a> <article class="svelte-11zp4mk"><!></article> <div class="essay-stats svelte-11zp4mk"><span class="essay-stat"> </span> <span class="essay-stat"> </span> <span class="essay-stat"> </span></div>',1);function M1(t,e){We(e,!1);const r=H(),n=H(),s=H(),i=H();let a=re(e,"slug",8),o=H(null),l=H(null),u=H(null),d=H(!0),f=H(!1),h=H(!1),g=!1,y=H({likes:{},shares:{},views:{}}),_=H(0),w=H(0),O=H(0),C=H(!1),A=H(""),b;tt(()=>{E(),window.addEventListener("scroll",V);const M=op(F=>{I(y,F)});return()=>{window.removeEventListener("scroll",V),M(),b&&clearTimeout(b)}});async function E(){var M;try{I(d,!0);const F=await u1(a());F.error?I(u,F.error):(I(l,F.metadata),I(o,F.content),(M=p(l))!=null&&M.id&&(await w1(p(l).id),await T()),p(l)&&di({title:`${p(l).title} | Wendy Ham's Weekend Projects`,description:p(s),image:"/images/og-image.png",type:"article"}))}catch(F){I(u,"Failed to load essay"),console.error("Error loading essay:",F)}finally{I(d,!1)}}async function T(){var M;if((M=p(l))!=null&&M.id)try{const{data:F,error:G}=await ce.from("essays").select("like_count, share_count, view_count").eq("id",p(l).id).single();if(G)throw G;F&&I(l,{...p(l),like_count:F.like_count,share_count:F.share_count,view_count:F.view_count})}catch(F){console.error("Failed to refresh essay counts:",F)}}async function x(){var M,F;if((M=p(l))!=null&&M.id)try{const ae=!p(n)?1:-1;I(_,Math.max(0,p(_)+ae)),I(C,!0),await lp(p(l).id),T().catch(ee=>console.error("Error refreshing metadata:",ee))}catch(G){console.error("Failed to toggle like:",G),I(_,((F=p(l))==null?void 0:F.like_count)||0),I(C,!1)}}async function R(){var M,F;if((M=p(l))!=null&&M.id)try{await navigator.clipboard.writeText(window.location.href),I(A,"URL copied to clipboard!"),b&&clearTimeout(b),b=setTimeout(()=>{I(A,"")},3e3),I(w,p(w)+1),I(C,!0),await cp(p(l).id),T().catch(G=>console.error("Error refreshing metadata:",G))}catch(G){console.error("Failed to share essay:",G),I(A,"Failed to copy URL"),b=setTimeout(()=>{I(A,"")},3e3),I(w,((F=p(l))==null?void 0:F.share_count)||0),I(C,!1)}}function V(){g||(g=!0,requestAnimationFrame(()=>{const M=window.scrollY;document.documentElement.scrollHeight,I(f,M>300),p(f)&&!p(h)?I(h,!0):!p(f)&&p(h)&&I(h,!1),g=!1}))}function U(M){M.preventDefault(),window.history.pushState({},"","/writing"),window.dispatchEvent(new CustomEvent("spanavigate"))}function N(M){const[F,G,ae]=M.split("-"),ee=["January","February","March","April","May","June","July","August","September","October","November","December"],ke=parseInt(G,10)-1,oe=ee[ke],Ee=ae.startsWith("0")?ae.substring(1):ae;return`${oe} ${Ee}, ${F}`}function W(){var M;return p(C)?p(_):((M=p(l))==null?void 0:M.like_count)||0}function L(){var M;return p(C)?p(w):((M=p(l))==null?void 0:M.share_count)||0}function q(){var M;return p(C)?p(O):((M=p(l))==null?void 0:M.view_count)||0}_t(()=>p(l),()=>{var M;I(r,(M=p(l))!=null&&M.id?`essay:${p(l).id}`:"")}),_t(()=>(p(r),p(y)),()=>{I(n,p(r)?!!p(y).likes[p(r)]:!1)}),_t(()=>p(l),()=>{p(l)&&(I(_,p(l).like_count||0),I(w,p(l).share_count||0),I(O,p(l).view_count||0),I(C,!1))}),_t(()=>p(l),()=>{var M,F,G,ae;I(s,(M=p(l))!=null&&M.description&&((F=p(l))!=null&&F.excerpt)?`${p(l).description} ${p(l).excerpt}`:((G=p(l))==null?void 0:G.description)||((ae=p(l))==null?void 0:ae.excerpt)||"")}),_t(()=>(p(l),p(s)),()=>{I(i,p(l)?{"@context":"https://schema.org","@type":"Article",headline:p(l).title,description:p(s),datePublished:p(l).date,author:{"@id":"#wendyham"},publisher:{"@id":"#wendyham"},mainEntityOfPage:{"@type":"WebPage","@id":typeof window<"u"?window.location.href:""}}:null)}),Pn(),Xe();var B=L1();Vf(M=>{var F=Ar(),G=et(F);{var ae=ee=>{var ke=C1();D(et(ke)),K(ee,ke)};ne(G,ee=>{p(i)&&ee(ae)})}K(M,F)});var Y=et(B),Q=D(P(Y)),X=D(Y,2),ve=D(X,2),we=P(ve);{var $=M=>{var F=A1();K(M,F)},he=(M,F)=>{{var G=ee=>{var ke=O1(),oe=P(ke);_e(()=>fe(oe,p(u))),K(ee,ke)},ae=(ee,ke)=>{{var oe=Ee=>{var Ie=x1(),Ue=P(Ie),Ce=P(Ue),ue=P(Ce),Te=D(Ce,2),qe=P(Te);Sn(qe,{type:"like",get active(){return p(n)},count:void 0,$$events:{click:x}});var st=D(qe,2);Sn(st,{type:"share",active:!1,count:void 0,$$events:{click:R}});var xt=D(st,2);{var dr=kt=>{var Nt=P1(),hi=P(Nt);_e(()=>fe(hi,p(A))),$s(3,Nt,()=>Zl,()=>({duration:150})),K(kt,Nt)};ne(xt,kt=>{p(A)&&kt(dr)})}var ct=D(Ue,2),He=P(ct),Dt=D(ct,2),fr=P(Dt),Rr=D(Dt,2),wt=P(Rr);bg(wt,()=>p(o),(kt,Nt)=>{Nt(kt,{})}),_e(kt=>{fe(ue,kt),fe(He,p(l).title),fe(fr,p(l).description)},[()=>N(p(l).date)],ge),K(Ee,Ie)};ne(ee,Ee=>{p(o)&&p(l)&&Ee(oe)},ke)}};ne(M,ee=>{p(u)?ee(G):ee(ae,!1)},F)}};ne(we,M=>{p(d)?M($):M(he,!1)})}var ie=D(ve,2),c=P(ie),m=P(c),v=D(c,2),S=P(v),k=D(v,2),j=P(k);_e((M,F,G,ae,ee,ke)=>{pe(X,1,`floating-back-button ${(p(h)?"visible":"hidden")??""} ${(p(f)?"":"instant-hide")??""}`,"svelte-11zp4mk"),Ye(X,"aria-hidden",!p(h)),fe(m,`${M??""} ${F??""}`),fe(S,`${G??""} ${ae??""}`),fe(j,`${ee??""} ${ke??""}`)},[W,()=>W()===1?"like":"likes",L,()=>L()===1?"share":"shares",q,()=>q()===1?"view":"views"],ge),de("click",Q,U),de("click",X,U),K(t,B),Ge()}var I1=Z('<h2 class="small-bottom-margin">Thoughts about <span class="purple">Software.</span></h2> <div class="future-project-intro svelte-ttl5t7"><p>How do our natural behaviors and cognitive patterns uncover opportunities to rethink software design and create tools that <span class="small-font svelte-ttl5t7">quietly</span> complement our lives?</p></div> <!>',1),j1=Z('<main class="container"><!></main>');function R1(t,e){We(e,!1);let r=H(null);function n(){const f=window.location.pathname.match(/\/writing\/(.+)/);return f?f[1]:null}function s(){I(r,n()),p(r)||di({title:"Writing | Wendy Ham's Weekend Projects",description:"Thoughts about creating software that quietly complements our lives.",type:"website",canonicalUrl:"https://xnham.com/writing"})}tt(()=>(s(),window.addEventListener("popstate",s),window.addEventListener("urlchange",s),window.addEventListener("spanavigate",s),()=>{window.removeEventListener("popstate",s),window.removeEventListener("urlchange",s),window.removeEventListener("spanavigate",s)}));function i(d){const h=d.target.closest("a");if(h){const g=h.getAttribute("href");g&&g.startsWith("/writing/")&&(d.preventDefault(),history.pushState({},"",g),s())}}Xe();var a=j1();de("click",fo,i);var o=P(a);{var l=d=>{M1(d,{get slug(){return p(r)}})},u=d=>{var f=I1(),h=D(et(f),4);T1(h,{}),K(d,f)};ne(o,d=>{p(r)?d(l):d(u,!1)})}K(t,a),Ge()}var D1=Z(`<div class="container"><h2 class="svelte-p0121w">Hi, I'm <span class="purple">Wendy Ham.</span></h2> <div class="about-layout svelte-p0121w"><div class="about-row svelte-p0121w"><div class="about-timeline svelte-p0121w"><p class="svelte-p0121w"><span class="year svelte-p0121w">2024</span> <span class="arrow svelte-p0121w">→</span></p></div> <div class="about-content svelte-p0121w"><p class="svelte-p0121w">Having accumulated a long list of business and personal
          problems, I started using AI tools to build various pieces of '<a href="/writing/software-for-one" class="essay-card-link">software for one</a>' to solve them. <span id="hide" class="svelte-p0121w">Surprised by the meaningful impact they delivered, particularly
            given their simplicity, I felt encouraged to build more hyper-custom
            solutions and uncover the implications of this new style of software
            development.</span></p></div></div> <div class="about-row svelte-p0121w"><div class="about-timeline svelte-p0121w"><p class="svelte-p0121w"><span class="year svelte-p0121w">2015</span> <span class="arrow svelte-p0121w">→</span></p></div> <div class="about-content svelte-p0121w"><p class="svelte-p0121w">I cofounded a SaaS company called <a href="https://www.ocamsclub.com" target="_blank" rel="noopener">Ocams</a>. It was among the early systems for automating video recording and
          delivery for tennis players.</p> <p class="svelte-p0121w">In my interactions with clients, I kept noticing that technology often
          faltered not because of technical shortcomings but because there
          was no interface capable of delivering it smoothly to users with
          complex and diverse behaviors, creating a '<a href="/writing/the-last-mile" class="essay-card-link">last mile</a>' problem. This observation made me feel excited about AI's
          potential to help us build software that adapts to humans, not the
          other way around.</p></div></div> <div class="about-row svelte-p0121w"><div class="about-timeline svelte-p0121w"><p class="svelte-p0121w"><span class="arrow svelte-p0121w">←</span> <span class="year svelte-p0121w">2015</span></p></div> <div class="about-content svelte-p0121w"><p class="svelte-p0121w">Before Ocams, I spent many years in academia, to a large extent due to visa restrictions.</p> <p class="svelte-p0121w">I started out studying molecular biology as an undergraduate at MIT.
          Later, I managed a neurobiology laboratory and helped develop
          case-based medical training simulations at Harvard Medical School. I
          then pursued a PhD at Wharton, where I built computational models to
          study how different choices and attributes help people learn better
          and make more accurate predictions. While at Wharton, I was also introduced to complexity science through a summer program at the Santa Fe Institute.</p> <span id="hide" class="svelte-p0121w"><p class="svelte-p0121w">In grad school, I spent a summer month at the Santa Fe Institute,
          where I was introduced to complexity science. I loved its premise:
          that universal principles can govern systems as different as ant
          colonies, economies, and weather systems. It gave me a new way to look
          past rigid disciplinary boundaries and synthesize insights across
          them.</p></span> <p class="svelte-p0121w">Around 2015, I received my green card, which allowed me to pursue projects outside academia. After years of theoretical work, I was eager to
          create something that delivered value directly to people.
          Tennis happened to be my obsession at the time, and I observed a need
          in the tennis community that prompted me to start Ocams.</p></div></div> <div class="about-row svelte-p0121w"><div class="about-timeline svelte-p0121w"><p class="svelte-p0121w"><span class="arrow svelte-p0121w">←</span> <span class="year svelte-p0121w">all that</span></p></div> <div class="about-content svelte-p0121w"><p class="svelte-p0121w">I grew up in Jakarta, Indonesia.</p></div></div></div></div>`);function N1(t,e){We(e,!1),tt(()=>{di({title:"About | Wendy Ham's Weekend Projects",description:"From academia to tennis and software.",type:"profile",canonicalUrl:"https://xnham.com/about"})}),Xe();var r=D1();K(t,r),Ge()}async function F1(t){try{const e={...t,created_at:new Date().toISOString()},{data:r,error:n}=await ce.from("contact_submissions").insert(e);if(n)throw n;const s=new FormData;s.append("name",t.name),s.append("email",t.email),s.append("message",t.message),s.append("_subject","New Contact Form Submission"),s.append("_replyto",t.email),s.append("_captcha","false");const i=await fetch("https://formsubmit.co/296313ad9901bdf7df20d9e5275fdf95",{method:"POST",body:s,headers:{Accept:"application/json"}});if(!i.ok)throw console.error("FormSubmit API error:",await i.text()),new Error("Failed to send email notification");return{success:!0,data:r}}catch(e){return console.error("Error submitting contact form:",e),{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}}var $1=Z('<div class="success-message svelte-j0gs0f"><p>Thank you for your getting in touch. Talk to you soon!</p></div>'),U1=Z('<div class="validation-message svelte-j0gs0f">Please enter a valid email address</div>'),q1=Z('<div class="form-group svelte-j0gs0f"><label for="name" class="svelte-j0gs0f">Name</label> <input type="text" id="name" required class="svelte-j0gs0f"></div> <div class="form-group svelte-j0gs0f"><label for="email" class="svelte-j0gs0f">Email</label> <input type="email" id="email" required> <!></div> <div class="form-group svelte-j0gs0f"><label for="message" class="svelte-j0gs0f">Message</label> <textarea id="message" rows="5" required class="svelte-j0gs0f"></textarea></div> <input type="hidden" name="_subject" value="New Contact Form Submission" class="svelte-j0gs0f"> <button type="submit"><!> <span class="button-icon-text svelte-j0gs0f">Send Message</span></button>',1),z1=Z(`<div class="container"><h2 class="small-bottom-margin">Tell Me about <span class="purple">You.</span></h2> <div class="contact-intro svelte-j0gs0f"><p class="svelte-j0gs0f">Please reach out if you have a collaboration idea, a tool I can
            help you build, or if you just feel like we have a common interest.
            I will respond within 24 hours.</p> <p class="svelte-j0gs0f">Feel like chatting with my robot before sending me a message? Call Sunny <a href="/sunny">here</a>.</p></div> <form class="contact-form svelte-j0gs0f"><!></form></div>`);function B1(t,e){We(e,!1);const r=H(),n=H();let s=H(""),i=H(""),a=H(""),o=H(!1);function l(_){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(_).toLowerCase())}async function u(){if(p(n))try{(await F1({name:p(s),email:p(i),message:p(a)})).success&&(I(o,!0),setTimeout(()=>{I(s,""),I(i,""),I(a,""),I(o,!1)},3e3))}catch(_){console.error("Form submission error:",_)}finally{}}tt(()=>{di({title:"Contact | Wendy Ham's Weekend Projects",description:"Get in touch to discuss collaboration ideas, personal software solutions, or shared interests.",type:"website",canonicalUrl:"https://xnham.com/contact"})}),_t(()=>p(i),()=>{I(r,p(i).trim()===""||l(p(i)))}),_t(()=>(p(s),p(i),p(a)),()=>{I(n,p(s).trim()!==""&&p(i).trim()!==""&&p(a).trim()!==""&&l(p(i)))}),Pn(),Xe();var d=z1(),f=D(P(d),4),h=P(f);{var g=_=>{var w=$1();K(_,w)},y=_=>{var w=q1(),O=et(w),C=D(P(O),2),A=D(O,2),b=D(P(A),2),E=D(b,2);{var T=W=>{var L=U1();K(W,L)};ne(E,W=>{p(i)&&!p(r)&&W(T)})}var x=D(A,2),R=D(P(x),2),V=D(x,2),U=D(V,2),N=P(U);Ke(N,{icon:["far","envelope"]}),_e(()=>{pe(b,1,Hf(p(i)&&!p(r)?"invalid":""),"svelte-j0gs0f"),pe(U,1,`submit-button ${(p(n)?"":"disabled")??""}`,"svelte-j0gs0f"),U.disabled=!p(n)}),ks(C,()=>p(s),W=>I(s,W)),ks(b,()=>p(i),W=>I(i,W)),ks(R,()=>p(a),W=>I(a,W)),K(_,w)};ne(h,_=>{p(o)?_(g):_(y,!1)})}de("submit",f,Us(u)),K(t,d),Ge()}function V1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function J1(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Fn={};function Su(t,e){if(t==null)return{};var r,n,s=function(a,o){if(a==null)return{};var l,u,d={},f=Object.keys(a);for(u=0;u<f.length;u++)l=f[u],o.indexOf(l)>=0||(d[l]=a[l]);return d}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function Kt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function je(t){return je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(t)}function up(t){var e=function(r,n){if(je(r)!=="object"||r===null)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,n);if(je(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return je(e)==="symbol"?e:String(e)}function Eu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,up(n.key),n)}}function Qt(t,e,r){return e&&Eu(t.prototype,e),r&&Eu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ui(t,e){return Ui=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ui(t,e)}function ba(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ui(t,e)}function wa(t,e){if(e&&(je(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pr(t)}function Yt(t){return Yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yt(t)}function br(t,e,r){return(e=up(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tu(t,e,r,n,s,i,a){try{var o=t[i](a),l=o.value}catch(u){return void r(u)}o.done?e(l):Promise.resolve(l).then(n,s)}function le(t){return function(){var e=this,r=arguments;return new Promise(function(n,s){var i=t.apply(e,r);function a(l){Tu(i,n,s,a,o,"next",l)}function o(l){Tu(i,n,s,a,o,"throw",l)}a(void 0)})}}function Cu(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lr(t,e){return function(r){if(Array.isArray(r))return r}(t)||function(r,n){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var i,a,o,l,u=[],d=!0,f=!1;try{if(o=(s=s.call(r)).next,n===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(i=o.call(s)).done)&&(u.push(i.value),u.length!==n);d=!0);}catch(h){f=!0,a=h}finally{try{if(!d&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}(t,e)||function(r,n){if(r){if(typeof r=="string")return Cu(r,n);var s=Object.prototype.toString.call(r).slice(8,-1);return s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set"?Array.from(r):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Cu(r,n):void 0}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var dp,kr={},W1={get exports(){return kr},set exports(t){kr=t}},Hn=typeof Reflect=="object"?Reflect:null,Au=Hn&&typeof Hn.apply=="function"?Hn.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};dp=Hn&&typeof Hn.ownKeys=="function"?Hn.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var Ou=Number.isNaN||function(t){return t!=t};function Ne(){Ne.init.call(this)}W1.exports=Ne,kr.once=function(t,e){return new Promise(function(r,n){function s(a){t.removeListener(e,i),n(a)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),r([].slice.call(arguments))}ju(t,e,i,{once:!0}),e!=="error"&&function(a,o,l){typeof a.on=="function"&&ju(a,"error",o,l)}(t,s,{once:!0})})},Ne.EventEmitter=Ne,Ne.prototype._events=void 0,Ne.prototype._eventsCount=0,Ne.prototype._maxListeners=void 0;var Pu=10;function Ts(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function fp(t){return t._maxListeners===void 0?Ne.defaultMaxListeners:t._maxListeners}function xu(t,e,r,n){var s,i,a,o;if(Ts(r),(i=t._events)===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),a=i[e]),a===void 0)a=i[e]=r,++t._eventsCount;else if(typeof a=="function"?a=i[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(s=fp(t))>0&&a.length>s&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=a.length,o=l,console&&console.warn&&console.warn(o)}return t}function G1(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Lu(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},s=G1.bind(n);return s.listener=r,n.wrapFn=s,s}function Mu(t,e,r){var n=t._events;if(n===void 0)return[];var s=n[e];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?function(i){for(var a=new Array(i.length),o=0;o<a.length;++o)a[o]=i[o].listener||i[o];return a}(s):hp(s,s.length)}function Iu(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function hp(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function ju(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else{if(typeof t.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,function s(i){n.once&&t.removeEventListener(e,s),r(i)})}}Object.defineProperty(Ne,"defaultMaxListeners",{enumerable:!0,get:function(){return Pu},set:function(t){if(typeof t!="number"||t<0||Ou(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Pu=t}}),Ne.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ne.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Ou(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},Ne.prototype.getMaxListeners=function(){return fp(this)},Ne.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var o=s[t];if(o===void 0)return!1;if(typeof o=="function")Au(o,this,e);else{var l=o.length,u=hp(o,l);for(r=0;r<l;++r)Au(u[r],this,e)}return!0},Ne.prototype.addListener=function(t,e){return xu(this,t,e,!1)},Ne.prototype.on=Ne.prototype.addListener,Ne.prototype.prependListener=function(t,e){return xu(this,t,e,!0)},Ne.prototype.once=function(t,e){return Ts(e),this.on(t,Lu(this,t,e)),this},Ne.prototype.prependOnceListener=function(t,e){return Ts(e),this.prependListener(t,Lu(this,t,e)),this},Ne.prototype.removeListener=function(t,e){var r,n,s,i,a;if(Ts(e),(n=this._events)===void 0)return this;if((r=n[t])===void 0)return this;if(r===e||r.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(s=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){a=r[i].listener,s=i;break}if(s<0)return this;s===0?r.shift():function(o,l){for(;l+1<o.length;l++)o[l]=o[l+1];o.pop()}(r,s),r.length===1&&(n[t]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",t,a||e)}return this},Ne.prototype.off=Ne.prototype.removeListener,Ne.prototype.removeAllListeners=function(t){var e,r,n;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var s,i=Object.keys(r);for(n=0;n<i.length;++n)(s=i[n])!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=r[t])=="function")this.removeListener(t,e);else if(e!==void 0)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},Ne.prototype.listeners=function(t){return Mu(this,t,!0)},Ne.prototype.rawListeners=function(t){return Mu(this,t,!1)},Ne.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Iu.call(t,e)},Ne.prototype.listenerCount=Iu,Ne.prototype.eventNames=function(){return this._eventsCount>0?dp(this._events):[]};var Ru=Object.prototype.hasOwnProperty;function Du(t,e,r){for(r of t.keys())if(gt(r,e))return r}function gt(t,e){var r,n,s;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&gt(t[n],e[n]););return n===-1}if(r===Set){if(t.size!==e.size)return!1;for(n of t)if((s=n)&&typeof s=="object"&&!(s=Du(e,s))||!e.has(s))return!1;return!0}if(r===Map){if(t.size!==e.size)return!1;for(n of t)if((s=n[0])&&typeof s=="object"&&!(s=Du(e,s))||!gt(n[1],e.get(s)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(r===DataView){if((n=t.byteLength)===e.byteLength)for(;n--&&t.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(t)){if((n=t.byteLength)===e.byteLength)for(;n--&&t[n]===e[n];);return n===-1}if(!r||typeof t=="object"){for(r in n=0,t)if(Ru.call(t,r)&&++n&&!Ru.call(e,r)||!(r in e)||!gt(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!=t&&e!=e}const H1={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},pp={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Qe={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},ft={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},qr={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class z{static getFirstMatch(e,r){const n=r.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,r){const n=r.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,r,n){if(e.test(r))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5))return r[0]===1&&r[1]<6?"Cupcake":r[0]===1&&r[1]>=6?"Donut":r[0]===2&&r[1]<2?"Eclair":r[0]===2&&r[1]===2?"Froyo":r[0]===2&&r[1]>2?"Gingerbread":r[0]===3?"Honeycomb":r[0]===4&&r[1]<1?"Ice Cream Sandwich":r[0]===4&&r[1]<4?"Jelly Bean":r[0]===4&&r[1]>=4?"KitKat":r[0]===5?"Lollipop":r[0]===6?"Marshmallow":r[0]===7?"Nougat":r[0]===8?"Oreo":r[0]===9?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,n=!1){const s=z.getVersionPrecision(e),i=z.getVersionPrecision(r);let a=Math.max(s,i),o=0;const l=z.map([e,r],u=>{const d=a-z.getVersionPrecision(u),f=u+new Array(d+1).join(".0");return z.map(f.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(n&&(o=a-Math.min(s,i)),a-=1;a>=o;){if(l[0][a]>l[1][a])return 1;if(l[0][a]===l[1][a]){if(a===o)return 0;a-=1}else if(l[0][a]<l[1][a])return-1}}static map(e,r){const n=[];let s;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(s=0;s<e.length;s+=1)n.push(r(e[s]));return n}static find(e,r){let n,s;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(n=0,s=e.length;n<s;n+=1){const i=e[n];if(r(i,n))return i}}static assign(e,...r){const n=e;let s,i;if(Object.assign)return Object.assign(e,...r);for(s=0,i=r.length;s<i;s+=1){const a=r[s];typeof a=="object"&&a!==null&&Object.keys(a).forEach(o=>{n[o]=a[o]})}return e}static getBrowserAlias(e){return H1[e]}static getBrowserTypeByAlias(e){return pp[e]||""}}const Fe=/version\/(\d+(\.?_?\d+)+)/i,Y1=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=z.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||z.getFirstMatch(Fe,t);return r&&(e.version=r),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=z.getFirstMatch(Fe,t)||z.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=z.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||z.getFirstMatch(Fe,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=z.getFirstMatch(Fe,t)||z.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=z.getFirstMatch(Fe,t)||z.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=z.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||z.getFirstMatch(Fe,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=z.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||z.getFirstMatch(Fe,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=z.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||z.getFirstMatch(Fe,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=z.getFirstMatch(Fe,t)||z.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=z.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||z.getFirstMatch(Fe,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=z.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||z.getFirstMatch(Fe,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=z.getFirstMatch(Fe,t)||z.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=z.getFirstMatch(Fe,t)||z.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=z.getFirstMatch(Fe,t)||z.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=z.getFirstMatch(Fe,t)||z.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=z.getFirstMatch(Fe,t)||z.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=z.getFirstMatch(Fe,t)||z.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=z.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||z.getFirstMatch(Fe,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=z.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||z.getFirstMatch(Fe,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=z.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=z.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=z.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=z.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=z.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=z.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=z.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=z.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=z.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=z.getFirstMatch(Fe,t)||z.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=z.getFirstMatch(Fe,t)||z.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=z.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=z.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||z.getFirstMatch(Fe,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=z.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||z.getFirstMatch(Fe,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=z.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=z.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=z.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=z.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||z.getFirstMatch(Fe,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=z.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=z.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=z.getFirstMatch(Fe,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=z.getFirstMatch(Fe,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=z.getFirstMatch(Fe,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=t.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:z.getFirstMatch(e,t),version:z.getSecondMatch(e,t)}}}];var K1=[{test:[/Roku\/DVP/],describe(t){const e=z.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:ft.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=z.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:ft.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=z.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=z.getWindowsVersionName(e);return{name:ft.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:ft.iOS},r=z.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=z.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=z.getMacOSVersionName(e),n={name:ft.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=z.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:ft.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=z.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=z.getAndroidVersionName(e),n={name:ft.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=z.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:ft.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=z.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||z.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||z.getFirstMatch(/\bbb(\d+)/i,t);return{name:ft.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=z.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:ft.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=z.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:ft.Tizen,version:e}}},{test:[/linux/i],describe:()=>({name:ft.Linux})},{test:[/CrOS/],describe:()=>({name:ft.ChromeOS})},{test:[/PlayStation 4/],describe(t){const e=z.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:ft.PlayStation4,version:e}}}],Q1=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(t){const e=z.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:Qe.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Qe.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Qe.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Qe.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Qe.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Qe.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Qe.tablet})},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=z.getFirstMatch(/(ipod|iphone)/i,t);return{type:Qe.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Qe.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Qe.mobile})},{test:t=>t.getBrowserName(!0)==="blackberry",describe:()=>({type:Qe.mobile,vendor:"BlackBerry"})},{test:t=>t.getBrowserName(!0)==="bada",describe:()=>({type:Qe.mobile})},{test:t=>t.getBrowserName()==="windows phone",describe:()=>({type:Qe.mobile,vendor:"Microsoft"})},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe:()=>({type:Qe.tablet})},{test:t=>t.getOSName(!0)==="android",describe:()=>({type:Qe.mobile})},{test:t=>t.getOSName(!0)==="macos",describe:()=>({type:Qe.desktop,vendor:"Apple"})},{test:t=>t.getOSName(!0)==="windows",describe:()=>({type:Qe.desktop})},{test:t=>t.getOSName(!0)==="linux",describe:()=>({type:Qe.desktop})},{test:t=>t.getOSName(!0)==="playstation 4",describe:()=>({type:Qe.tv})},{test:t=>t.getOSName(!0)==="roku",describe:()=>({type:Qe.tv})}],X1=[{test:t=>t.getBrowserName(!0)==="microsoft edge",describe(t){if(/\sedg\//i.test(t))return{name:qr.Blink};const e=z.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:qr.EdgeHTML,version:e}}},{test:[/trident/i],describe(t){const e={name:qr.Trident},r=z.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:t=>t.test(/presto/i),describe(t){const e={name:qr.Presto},r=z.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:qr.Gecko},r=z.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:qr.Blink})},{test:[/(apple)?webkit/i],describe(t){const e={name:qr.WebKit},r=z.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];class Nu{constructor(e,r=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=z.find(Y1,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=z.find(K1,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=z.find(Q1,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=z.find(X1,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return z.assign({},this.parsedResult)}satisfies(e){const r={};let n=0;const s={};let i=0;if(Object.keys(e).forEach(a=>{const o=e[a];typeof o=="string"?(s[a]=o,i+=1):typeof o=="object"&&(r[a]=o,n+=1)}),n>0){const a=Object.keys(r),o=z.find(a,u=>this.isOS(u));if(o){const u=this.satisfies(r[o]);if(u!==void 0)return u}const l=z.find(a,u=>this.isPlatform(u));if(l){const u=this.satisfies(r[l]);if(u!==void 0)return u}}if(i>0){const a=Object.keys(s),o=z.find(a,l=>this.isBrowser(l,!0));if(o!==void 0)return this.compareVersion(s[o])}}isBrowser(e,r=!1){const n=this.getBrowserName().toLowerCase();let s=e.toLowerCase();const i=z.getBrowserTypeByAlias(s);return r&&i&&(s=i.toLowerCase()),s===n}compareVersion(e){let r=[0],n=e,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(s=!0,n=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(s=!0,n=e.substr(1)),r.indexOf(z.compareVersions(i,n,s))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Z1{static getParser(e,r=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new Nu(e,r)}static parse(e){return new Nu(e).getResult()}static get BROWSER_MAP(){return pp}static get ENGINE_MAP(){return qr}static get OS_MAP(){return ft}static get PLATFORMS_MAP(){return Qe}}function ka(){return Date.now()+Math.random().toString()}function yi(){throw new Error("Method must be implemented in subclass")}function vp(t,e){return e!=null&&e.proxyUrl?e.proxyUrl+(e.proxyUrl.slice(-1)==="/"?"":"/")+t.substring(8):t}function Js(t){return t!=null&&t.callObjectBundleUrlOverride?t.callObjectBundleUrlOverride:vp("https://c.daily.co/call-machine/versioned/".concat("0.75.2","/static/call-machine-object-bundle.js"),t)}function Ws(t){try{new URL(t)}catch{return!1}return!0}const mp=Object.prototype.toString;function ec(t){switch(mp.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return En(t,Error)}}function fi(t,e){return mp.call(t)===`[object ${e}]`}function gp(t){return fi(t,"ErrorEvent")}function Fu(t){return fi(t,"DOMError")}function Sr(t){return fi(t,"String")}function tc(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function Wo(t){return t===null||tc(t)||typeof t!="object"&&typeof t!="function"}function ti(t){return fi(t,"Object")}function Sa(t){return typeof Event<"u"&&En(t,Event)}function Ea(t){return!!(t&&t.then&&typeof t.then=="function")}function En(t,e){try{return t instanceof e}catch{return!1}}function yp(t){return!(typeof t!="object"||t===null||!t.__isVue&&!t._isVue)}function Yn(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function $u(t,e){if(!Array.isArray(t))return"";const r=[];for(let n=0;n<t.length;n++){const s=t[n];try{yp(s)?r.push("[VueViewModel]"):r.push(String(s))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function ek(t,e,r=!1){return!!Sr(t)&&(fi(e,"RegExp")?e.test(t):!!Sr(e)&&(r?t===e:t.includes(e)))}function ls(t,e=[],r=!1){return e.some(n=>ek(t,n,r))}function tk(t,e,r=250,n,s,i,a){if(!(i.exception&&i.exception.values&&a&&En(a.originalException,Error)))return;const o=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var l,u;o&&(i.exception.values=(l=Go(t,e,s,a.originalException,n,i.exception.values,o,0),u=r,l.map(d=>(d.value&&(d.value=Yn(d.value,u)),d))))}function Go(t,e,r,n,s,i,a,o){if(i.length>=r+1)return i;let l=[...i];if(En(n[s],Error)){Uu(a,o);const u=t(e,n[s]),d=l.length;qu(u,s,d,o),l=Go(t,e,r,n[s],s,[u,...l],u,d)}return Array.isArray(n.errors)&&n.errors.forEach((u,d)=>{if(En(u,Error)){Uu(a,o);const f=t(e,u),h=l.length;qu(f,`errors[${d}]`,h,o),l=Go(t,e,r,u,s,[f,...l],f,h)}}),l}function Uu(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function qu(t,e,r,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:n}}function zu(t){return t===void 0?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}const _n="8.33.1",Le=globalThis;function Gs(t,e,r){const n=Le,s=n.__SENTRY__=n.__SENTRY__||{},i=s[_n]=s[_n]||{};return i[t]||(i[t]=e())}const rc=Le;function _p(t,e={}){if(!t)return"<unknown>";try{let r=t;const n=5,s=[];let i=0,a=0;const o=" > ",l=o.length;let u;const d=Array.isArray(e)?e:e.keyAttrs,f=!Array.isArray(e)&&e.maxStringLength||80;for(;r&&i++<n&&(u=rk(r,d),!(u==="html"||i>1&&a+s.length*l+u.length>=f));)s.push(u),a+=u.length,r=r.parentNode;return s.reverse().join(o)}catch{return"<unknown>"}}function rk(t,e){const r=t,n=[];if(!r||!r.tagName)return"";if(rc.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const s=e&&e.length?e.filter(a=>r.getAttribute(a)).map(a=>[a,r.getAttribute(a)]):null;if(s&&s.length)s.forEach(a=>{n.push(`[${a[0]}="${a[1]}"]`)});else{r.id&&n.push(`#${r.id}`);const a=r.className;if(a&&Sr(a)){const o=a.split(/\s+/);for(const l of o)n.push(`.${l}`)}}const i=["aria-label","type","name","title","alt"];for(const a of i){const o=r.getAttribute(a);o&&n.push(`[${a}="${o}"]`)}return n.join("")}const Xi=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ho=["debug","info","warn","error","log","assert","trace"],Hs={};function nc(t){if(!("console"in Le))return t();const e=Le.console,r={},n=Object.keys(Hs);n.forEach(s=>{const i=Hs[s];r[s]=e[s],e[s]=i});try{return t()}finally{n.forEach(s=>{e[s]=r[s]})}}const ye=Gs("logger",function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return Xi?Ho.forEach(r=>{e[r]=(...n)=>{t&&nc(()=>{Le.console[r](`Sentry Logger [${r}]:`,...n)})}}):Ho.forEach(r=>{e[r]=()=>{}}),e}),nk=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ys(t,e=!1){const{host:r,path:n,pass:s,port:i,projectId:a,protocol:o,publicKey:l}=t;return`${o}://${l}${e&&s?`:${s}`:""}@${r}${i?`:${i}`:""}/${n&&`${n}/`}${a}`}function Bu(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function ik(t){const e=typeof t=="string"?function(r){const n=nk.exec(r);if(!n)return void nc(()=>{console.error(`Invalid Sentry Dsn: ${r}`)});const[s,i,a="",o="",l="",u=""]=n.slice(1);let d="",f=u;const h=f.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),f=h.pop()),f){const g=f.match(/^\d+/);g&&(f=g[0])}return Bu({host:o,pass:a,path:d,projectId:f,port:l,protocol:s,publicKey:i})}(t):Bu(t);if(e&&function(r){if(!Xi)return!0;const{port:n,projectId:s,protocol:i}=r;return!(["protocol","publicKey","host","projectId"].find(a=>!r[a]&&(ye.error(`Invalid Sentry Dsn: ${a} missing`),!0))||(s.match(/^\d+$/)?function(a){return a==="http"||a==="https"}(i)?n&&isNaN(parseInt(n,10))&&(ye.error(`Invalid Sentry Dsn: Invalid port ${n}`),1):(ye.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(ye.error(`Invalid Sentry Dsn: Invalid projectId ${s}`),1)))}(e))return e}class tr extends Error{constructor(e,r="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}}function Ot(t,e,r){if(!(e in t))return;const n=t[e],s=r(n);typeof s=="function"&&bp(s,n),t[e]=s}function Tn(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{Xi&&ye.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function bp(t,e){try{const r=e.prototype||{};t.prototype=e.prototype=r,Tn(t,"__sentry_original__",e)}catch{}}function ic(t){return t.__sentry_original__}function wp(t){if(ec(t))return{message:t.message,name:t.name,stack:t.stack,...Ju(t)};if(Sa(t)){const e={type:t.type,target:Vu(t.target),currentTarget:Vu(t.currentTarget),...Ju(t)};return typeof CustomEvent<"u"&&En(t,CustomEvent)&&(e.detail=t.detail),e}return t}function Vu(t){try{return e=t,typeof Element<"u"&&En(e,Element)?_p(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}var e}function Ju(t){if(typeof t=="object"&&t!==null){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}return{}}function Vt(t){return Yo(t,new Map)}function Yo(t,e){if(function(r){if(!ti(r))return!1;try{const n=Object.getPrototypeOf(r).constructor.name;return!n||n==="Object"}catch{return!0}}(t)){const r=e.get(t);if(r!==void 0)return r;const n={};e.set(t,n);for(const s of Object.getOwnPropertyNames(t))t[s]!==void 0&&(n[s]=Yo(t[s],e));return n}if(Array.isArray(t)){const r=e.get(t);if(r!==void 0)return r;const n=[];return e.set(t,n),t.forEach(s=>{n.push(Yo(s,e))}),n}return t}const pn="?",Wu=/\(error: (.*)\)/,Gu=/captureMessage|captureException/;function cs(t){return t[t.length-1]||{}}const Hu="<anonymous>";function rn(t){try{return t&&typeof t=="function"&&t.name||Hu}catch{return Hu}}function Yu(t){const e=t.exception;if(e){const r=[];try{return e.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}const Cs={},Ku={};function vn(t,e){Cs[t]=Cs[t]||[],Cs[t].push(e)}function mn(t,e){Ku[t]||(e(),Ku[t]=!0)}function Jt(t,e){const r=t&&Cs[t];if(r)for(const n of r)try{n(e)}catch(s){Xi&&ye.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${rn(n)}
Error:`,s)}}function sk(){"console"in Le&&Ho.forEach(function(t){t in Le.console&&Ot(Le.console,t,function(e){return Hs[t]=e,function(...r){Jt("console",{args:r,level:t});const n=Hs[t];n&&n.apply(Le.console,r)}})})}const Ha=Le;function Ko(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function ak(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in Ha))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(Ko(Ha.fetch))return!0;let t=!1;const e=Ha.document;if(e&&typeof e.createElement=="function")try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=Ko(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){Xi&&ye.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function Zi(){return Date.now()/1e3}const Qr=function(){const{performance:t}=Le;if(!t||!t.now)return Zi;const e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/1e3}();function ok(t,e){const r="fetch";vn(r,t),mn(r,()=>function(n,s=!1){s&&!ak()||Ot(Le,"fetch",function(i){return function(...a){const{method:o,url:l}=function(f){if(f.length===0)return{method:"GET",url:""};if(f.length===2){const[g,y]=f;return{url:Qu(g),method:Qo(y,"method")?String(y.method).toUpperCase():"GET"}}const h=f[0];return{url:Qu(h),method:Qo(h,"method")?String(h.method).toUpperCase():"GET"}}(a),u={args:a,fetchData:{method:o,url:l},startTimestamp:1e3*Qr()};Jt("fetch",{...u});const d=new Error().stack;return i.apply(Le,a).then(async f=>(Jt("fetch",{...u,endTimestamp:1e3*Qr(),response:f}),f),f=>{throw Jt("fetch",{...u,endTimestamp:1e3*Qr(),error:f}),ec(f)&&f.stack===void 0&&(f.stack=d,Tn(f,"framesToPop",1)),f})}})}(void 0,e))}function Qo(t,e){return!!t&&typeof t=="object"&&!!t[e]}function Qu(t){return typeof t=="string"?t:t?Qo(t,"url")?t.url:t.toString?t.toString():"":""}(()=>{const{performance:t}=Le;!t||!t.now||(t.now(),t.timing&&t.timing.navigationStart)})();let us=null;function lk(){us=Le.onerror,Le.onerror=function(t,e,r,n,s){return Jt("error",{column:n,error:s,line:r,msg:t,url:e}),!(!us||us.__SENTRY_LOADER__)&&us.apply(this,arguments)},Le.onerror.__SENTRY_INSTRUMENTED__=!0}let ds=null;function ck(){ds=Le.onunhandledrejection,Le.onunhandledrejection=function(t){return Jt("unhandledrejection",t),!(ds&&!ds.__SENTRY_LOADER__)||ds.apply(this,arguments)},Le.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Wt(){const t=Le,e=t.crypto||t.msCrypto;let r=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=()=>{const n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(15&r())>>n/4).toString(16))}function kp(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function Jr(t){const{message:e,event_id:r}=t;if(e)return e;const n=kp(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function Xo(t,e,r){const n=t.exception=t.exception||{},s=n.values=n.values||[],i=s[0]=s[0]||{};i.value||(i.value=e||""),i.type||(i.type="Error")}function qi(t,e){const r=kp(t);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...e},e&&"data"in e){const s={...n&&n.data,...e.data};r.mechanism.data=s}}function Xu(t){if(t&&t.__sentry_captured__)return!0;try{Tn(t,"__sentry_captured__",!0)}catch{}return!1}function Wr(t,e=100,r=1/0){try{return Zo("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function Sp(t,e=3,r=102400){const n=Wr(t,e);return s=n,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(s))>r?Sp(t,e-1,r):n;var s}function Zo(t,e,r=1/0,n=1/0,s=function(){const i=typeof WeakSet=="function",a=i?new WeakSet:[];return[function(o){if(i)return!!a.has(o)||(a.add(o),!1);for(let l=0;l<a.length;l++)if(a[l]===o)return!0;return a.push(o),!1},function(o){if(i)a.delete(o);else for(let l=0;l<a.length;l++)if(a[l]===o){a.splice(l,1);break}}]}()){const[i,a]=s;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const o=function(g,y){try{if(g==="domain"&&y&&typeof y=="object"&&y._events)return"[Domain]";if(g==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&y===global)return"[Global]";if(typeof window<"u"&&y===window)return"[Window]";if(typeof document<"u"&&y===document)return"[Document]";if(yp(y))return"[VueViewModel]";if(ti(_=y)&&"nativeEvent"in _&&"preventDefault"in _&&"stopPropagation"in _)return"[SyntheticEvent]";if(typeof y=="number"&&!Number.isFinite(y))return`[${y}]`;if(typeof y=="function")return`[Function: ${rn(y)}]`;if(typeof y=="symbol")return`[${String(y)}]`;if(typeof y=="bigint")return`[BigInt: ${String(y)}]`;const w=function(O){const C=Object.getPrototypeOf(O);return C?C.constructor.name:"null prototype"}(y);return/^HTML(\w*)Element$/.test(w)?`[HTMLElement: ${w}]`:`[object ${w}]`}catch(w){return`**non-serializable** (${w})`}var _}(t,e);if(!o.startsWith("[object "))return o;if(e.__sentry_skip_normalization__)return e;const l=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(l===0)return o.replace("object ","");if(i(e))return"[Circular ~]";const u=e;if(u&&typeof u.toJSON=="function")try{return Zo("",u.toJSON(),l-1,n,s)}catch{}const d=Array.isArray(e)?[]:{};let f=0;const h=wp(e);for(const g in h){if(!Object.prototype.hasOwnProperty.call(h,g))continue;if(f>=n){d[g]="[MaxProperties ~]";break}const y=h[g];d[g]=Zo(g,y,l-1,n,s),f++}return a(e),d}var gr;function Cn(t){return new Mt(e=>{e(t)})}function Ks(t){return new Mt((e,r)=>{r(t)})}(function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"})(gr||(gr={}));class Mt{constructor(e){Mt.prototype.__init.call(this),Mt.prototype.__init2.call(this),Mt.prototype.__init3.call(this),Mt.prototype.__init4.call(this),this._state=gr.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new Mt((n,s)=>{this._handlers.push([!1,i=>{if(e)try{n(e(i))}catch(a){s(a)}else n(i)},i=>{if(r)try{n(r(i))}catch(a){s(a)}else s(i)}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new Mt((r,n)=>{let s,i;return this.then(a=>{i=!1,s=a,e&&e()},a=>{i=!0,s=a,e&&e()}).then(()=>{i?n(s):r(s)})})}__init(){this._resolve=e=>{this._setResult(gr.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(gr.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{this._state===gr.PENDING&&(Ea(r)?r.then(this._resolve,this._reject):(this._state=e,this._value=r,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===gr.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===gr.RESOLVED&&r[1](this._value),this._state===gr.REJECTED&&r[2](this._value),r[0]=!0)})}}}function uk(t){const e=[];function r(n){return e.splice(e.indexOf(n),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(n){if(!(t===void 0||e.length<t))return Ks(new tr("Not adding Promise because buffer limit was reached."));const s=n();return e.indexOf(s)===-1&&e.push(s),s.then(()=>r(s)).then(null,()=>r(s).then(null,()=>{})),s},drain:function(n){return new Mt((s,i)=>{let a=e.length;if(!a)return s(!0);const o=setTimeout(()=>{n&&n>0&&s(!1)},n);e.forEach(l=>{Cn(l).then(()=>{--a||(clearTimeout(o),s(!0))},i)})})}}}function Ya(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}const dk=["fatal","error","warning","log","info","debug"];function fk(t){return t==="warn"?"warning":dk.includes(t)?t:"log"}const hk=/^sentry-/;function pk(t){const e=function(n){if(!(!n||!Sr(n)&&!Array.isArray(n)))return Array.isArray(n)?n.reduce((s,i)=>{const a=Zu(i);return Object.entries(a).forEach(([o,l])=>{s[o]=l}),s},{}):Zu(n)}(t);if(!e)return;const r=Object.entries(e).reduce((n,[s,i])=>(s.match(hk)&&(n[s.slice(7)]=i),n),{});return Object.keys(r).length>0?r:void 0}function Zu(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(r&&n&&(e[r]=n),e),{})}function zi(t,e=[]){return[t,e]}function vk(t,e){const[r,n]=t;return[r,[...n,e]]}function ed(t,e){const r=t[1];for(const n of r)if(e(n,n[0].type))return!0;return!1}function el(t){return Le.__SENTRY__&&Le.__SENTRY__.encodePolyfill?Le.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function mk(t){const[e,r]=t;let n=JSON.stringify(e);function s(i){typeof n=="string"?n=typeof i=="string"?n+i:[el(n),i]:n.push(typeof i=="string"?el(i):i)}for(const i of r){const[a,o]=i;if(s(`
${JSON.stringify(a)}
`),typeof o=="string"||o instanceof Uint8Array)s(o);else{let l;try{l=JSON.stringify(o)}catch{l=JSON.stringify(Wr(o))}s(l)}}return typeof n=="string"?n:function(i){const a=i.reduce((u,d)=>u+d.length,0),o=new Uint8Array(a);let l=0;for(const u of i)o.set(u,l),l+=u.length;return o}(n)}function gk(t){const e=typeof t.data=="string"?el(t.data):t.data;return[Vt({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}const yk={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function td(t){return yk[t]}function Ep(t){if(!t||!t.sdk)return;const{name:e,version:r}=t.sdk;return{name:e,version:r}}function _k(t,{statusCode:e,headers:r},n=Date.now()){const s={...t},i=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(i)for(const o of i.trim().split(",")){const[l,u,,,d]=o.split(":",5),f=parseInt(l,10),h=1e3*(isNaN(f)?60:f);if(u)for(const g of u.split(";"))g==="metric_bucket"&&d&&!d.split(";").includes("custom")||(s[g]=n+h);else s.all=n+h}else a?s.all=n+function(o,l=Date.now()){const u=parseInt(`${o}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${o}`);return isNaN(d)?6e4:d-l}(a,n):e===429&&(s.all=n+6e4);return s}function rd(){return{traceId:Wt(),spanId:Wt().substring(16)}}const fs=Le,Be=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Ta(){return sc(Le),Le}function sc(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||_n,e[_n]=e[_n]||{}}function tl(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Qr(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Wt()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}const rl="_sentrySpan";function nd(t,e){e?Tn(t,rl,e):delete t[rl]}function id(t){return t[rl]}class ac{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=rd()}clone(){const e=new ac;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,nd(e,id(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&tl(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const r=typeof e=="function"?e(this):e,[n,s]=r instanceof nn?[r.getScopeData(),r.getRequestSession()]:ti(r)?[e,e.requestSession]:[],{tags:i,extra:a,user:o,contexts:l,level:u,fingerprint:d=[],propagationContext:f}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...a},this._contexts={...this._contexts,...l},o&&Object.keys(o).length&&(this._user=o),u&&(this._level=u),d.length&&(this._fingerprint=d),f&&(this._propagationContext=f),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,nd(this,void 0),this._attachments=[],this._propagationContext=rd(),this._notifyScopeListeners(),this}addBreadcrumb(e,r){const n=typeof r=="number"?r:100;if(n<=0)return this;const s={timestamp:Zi(),...e},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:id(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,r){const n=r&&r.event_id?r.event_id:Wt();if(!this._client)return ye.warn("No client configured on scope - will not capture exception!"),n;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...r,event_id:n},this),n}captureMessage(e,r,n){const s=n&&n.event_id?n.event_id:Wt();if(!this._client)return ye.warn("No client configured on scope - will not capture message!"),s;const i=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:i,...n,event_id:s},this),s}captureEvent(e,r){const n=r&&r.event_id?r.event_id:Wt();return this._client?(this._client.captureEvent(e,{...r,event_id:n},this),n):(ye.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const nn=ac;class bk{constructor(e,r){let n,s;n=e||new nn,s=r||new nn,this._stack=[{scope:n}],this._isolationScope=s}withScope(e){const r=this._pushScope();let n;try{n=e(r)}catch(s){throw this._popScope(),s}return Ea(n)?n.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function ri(){const t=sc(Ta());return t.stack=t.stack||new bk(Gs("defaultCurrentScope",()=>new nn),Gs("defaultIsolationScope",()=>new nn))}function wk(t){return ri().withScope(t)}function kk(t,e){const r=ri();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function sd(t){return ri().withScope(()=>t(ri().getIsolationScope()))}function oc(t){const e=sc(t);return e.acs?e.acs:{withIsolationScope:sd,withScope:wk,withSetScope:kk,withSetIsolationScope:(r,n)=>sd(n),getCurrentScope:()=>ri().getScope(),getIsolationScope:()=>ri().getIsolationScope()}}function lc(){return oc(Ta()).getCurrentScope()}function Tp(){return oc(Ta()).getIsolationScope()}function yt(){return lc().getClient()}function Sk(t){const e=t._sentryMetrics;if(!e)return;const r={};for(const[,[n,s]]of e)(r[n]||(r[n]=[])).push(Vt(s));return r}function Ek(t){const{spanId:e,traceId:r}=t.spanContext(),{parent_span_id:n}=Qs(t);return Vt({parent_span_id:n,span_id:e,trace_id:r})}function ad(t){return typeof t=="number"?od(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?od(t.getTime()):Qr()}function od(t){return t>9999999999?t/1e3:t}function Qs(t){if(function(e){return typeof e.getSpanJSON=="function"}(t))return t.getSpanJSON();try{const{spanId:e,traceId:r}=t.spanContext();if(function(n){const s=n;return!!(s.attributes&&s.startTime&&s.name&&s.endTime&&s.status)}(t)){const{attributes:n,startTime:s,name:i,endTime:a,parentSpanId:o,status:l}=t;return Vt({span_id:e,trace_id:r,data:n,description:i,parent_span_id:o,start_timestamp:ad(s),timestamp:ad(a)||void 0,status:Tk(l),op:n["sentry.op"],origin:n["sentry.origin"],_metrics_summary:Sk(t)})}return{span_id:e,trace_id:r}}catch{return{}}}function Tk(t){if(t&&t.code!==0)return t.code===1?"ok":t.message||"unknown_error"}function Cp(t){return t._sentryRootSpan||t}const Ap="production";function Op(t,e){const r=e.getOptions(),{publicKey:n}=e.getDsn()||{},s=Vt({environment:r.environment||Ap,release:r.release,public_key:n,trace_id:t});return e.emit("createDsc",s),s}function Ck(t){const e=yt();if(!e)return{};const r=Op(Qs(t).trace_id||"",e),n=Cp(t),s=n._frozenDsc;if(s)return s;const i=n.spanContext().traceState,a=i&&i.get("sentry.dsc"),o=a&&pk(a);if(o)return o;const l=Qs(n),u=l.data||{},d=u["sentry.sample_rate"];d!=null&&(r.sample_rate=`${d}`);const f=u["sentry.source"],h=l.description;return f!=="url"&&h&&(r.transaction=h),function(g){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const y=yt(),_=y&&y.getOptions();return!!_&&(_.enableTracing||"tracesSampleRate"in _||"tracesSampler"in _)}()&&(r.sampled=String(function(g){const{traceFlags:y}=g.spanContext();return y===1}(n))),e.emit("createDsc",r,n),r}function Ak(t,e,r,n){const s=Ep(r),i=t.type&&t.type!=="replay_event"?t.type:"event";(function(o,l){l&&(o.sdk=o.sdk||{},o.sdk.name=o.sdk.name||l.name,o.sdk.version=o.sdk.version||l.version,o.sdk.integrations=[...o.sdk.integrations||[],...l.integrations||[]],o.sdk.packages=[...o.sdk.packages||[],...l.packages||[]])})(t,r&&r.sdk);const a=function(o,l,u,d){const f=o.sdkProcessingMetadata&&o.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:o.event_id,sent_at:new Date().toISOString(),...l&&{sdk:l},...!!u&&d&&{dsn:Ys(d)},...f&&{trace:Vt({...f})}}}(t,s,n,e);return delete t.sdkProcessingMetadata,zi(a,[[{type:i},t]])}function nl(t,e,r,n=0){return new Mt((s,i)=>{const a=t[n];if(e===null||typeof a!="function")s(e);else{const o=a({...e},r);Be&&a.id&&o===null&&ye.log(`Event processor "${a.id}" dropped event`),Ea(o)?o.then(l=>nl(t,l,r,n+1).then(s)).then(null,i):nl(t,o,r,n+1).then(s).then(null,i)}})}function Ok(t,e){const{fingerprint:r,span:n,breadcrumbs:s,sdkProcessingMetadata:i}=e;(function(a,o){const{extra:l,tags:u,user:d,contexts:f,level:h,transactionName:g}=o,y=Vt(l);y&&Object.keys(y).length&&(a.extra={...y,...a.extra});const _=Vt(u);_&&Object.keys(_).length&&(a.tags={..._,...a.tags});const w=Vt(d);w&&Object.keys(w).length&&(a.user={...w,...a.user});const O=Vt(f);O&&Object.keys(O).length&&(a.contexts={...O,...a.contexts}),h&&(a.level=h),g&&a.type!=="transaction"&&(a.transaction=g)})(t,e),n&&function(a,o){a.contexts={trace:Ek(o),...a.contexts},a.sdkProcessingMetadata={dynamicSamplingContext:Ck(o),...a.sdkProcessingMetadata};const l=Cp(o),u=Qs(l).description;u&&!a.transaction&&a.type==="transaction"&&(a.transaction=u)}(t,n),function(a,o){a.fingerprint=a.fingerprint?function(l){return Array.isArray(l)?l:[l]}(a.fingerprint):[],o&&(a.fingerprint=a.fingerprint.concat(o)),a.fingerprint&&!a.fingerprint.length&&delete a.fingerprint}(t,r),function(a,o){const l=[...a.breadcrumbs||[],...o];a.breadcrumbs=l.length?l:void 0}(t,s),function(a,o){a.sdkProcessingMetadata={...a.sdkProcessingMetadata,...o}}(t,i)}function ld(t,e){const{extra:r,tags:n,user:s,contexts:i,level:a,sdkProcessingMetadata:o,breadcrumbs:l,fingerprint:u,eventProcessors:d,attachments:f,propagationContext:h,transactionName:g,span:y}=e;_i(t,"extra",r),_i(t,"tags",n),_i(t,"user",s),_i(t,"contexts",i),_i(t,"sdkProcessingMetadata",o),a&&(t.level=a),g&&(t.transactionName=g),y&&(t.span=y),l.length&&(t.breadcrumbs=[...t.breadcrumbs,...l]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),d.length&&(t.eventProcessors=[...t.eventProcessors,...d]),f.length&&(t.attachments=[...t.attachments,...f]),t.propagationContext={...t.propagationContext,...h}}function _i(t,e,r){if(r&&Object.keys(r).length){t[e]={...t[e]};for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[e][n]=r[n])}}function Pk(t,e,r,n,s,i){const{normalizeDepth:a=3,normalizeMaxBreadth:o=1e3}=t,l={...e,event_id:e.event_id||r.event_id||Wt(),timestamp:e.timestamp||Zi()},u=r.integrations||t.integrations.map(y=>y.name);(function(y,_){const{environment:w,release:O,dist:C,maxValueLength:A=250}=_;"environment"in y||(y.environment="environment"in _?w:Ap),y.release===void 0&&O!==void 0&&(y.release=O),y.dist===void 0&&C!==void 0&&(y.dist=C),y.message&&(y.message=Yn(y.message,A));const b=y.exception&&y.exception.values&&y.exception.values[0];b&&b.value&&(b.value=Yn(b.value,A));const E=y.request;E&&E.url&&(E.url=Yn(E.url,A))})(l,t),function(y,_){_.length>0&&(y.sdk=y.sdk||{},y.sdk.integrations=[...y.sdk.integrations||[],..._])}(l,u),s&&s.emit("applyFrameMetadata",e),e.type===void 0&&function(y,_){const w=Le._sentryDebugIds;if(!w)return;let O;const C=cd.get(_);C?O=C:(O=new Map,cd.set(_,O));const A=Object.entries(w).reduce((b,[E,T])=>{let x;const R=O.get(E);R?x=R:(x=_(E),O.set(E,x));for(let V=x.length-1;V>=0;V--){const U=x[V];if(U.filename){b[U.filename]=T;break}}return b},{});try{y.exception.values.forEach(b=>{b.stacktrace.frames.forEach(E=>{E.filename&&(E.debug_id=A[E.filename])})})}catch{}}(l,t.stackParser);const d=function(y,_){if(!_)return y;const w=y?y.clone():new nn;return w.update(_),w}(n,r.captureContext);r.mechanism&&qi(l,r.mechanism);const f=s?s.getEventProcessors():[],h=Gs("globalScope",()=>new nn).getScopeData();i&&ld(h,i.getScopeData()),d&&ld(h,d.getScopeData());const g=[...r.attachments||[],...h.attachments];return g.length&&(r.attachments=g),Ok(l,h),nl([...f,...h.eventProcessors],l,r).then(y=>(y&&function(_){const w={};try{_.exception.values.forEach(C=>{C.stacktrace.frames.forEach(A=>{A.debug_id&&(A.abs_path?w[A.abs_path]=A.debug_id:A.filename&&(w[A.filename]=A.debug_id),delete A.debug_id)})})}catch{}if(Object.keys(w).length===0)return;_.debug_meta=_.debug_meta||{},_.debug_meta.images=_.debug_meta.images||[];const O=_.debug_meta.images;Object.entries(w).forEach(([C,A])=>{O.push({type:"sourcemap",code_file:C,debug_id:A})})}(y),typeof a=="number"&&a>0?function(_,w,O){if(!_)return null;const C={..._,..._.breadcrumbs&&{breadcrumbs:_.breadcrumbs.map(A=>({...A,...A.data&&{data:Wr(A.data,w,O)}}))},..._.user&&{user:Wr(_.user,w,O)},..._.contexts&&{contexts:Wr(_.contexts,w,O)},..._.extra&&{extra:Wr(_.extra,w,O)}};return _.contexts&&_.contexts.trace&&C.contexts&&(C.contexts.trace=_.contexts.trace,_.contexts.trace.data&&(C.contexts.trace.data=Wr(_.contexts.trace.data,w,O))),_.spans&&(C.spans=_.spans.map(A=>({...A,...A.data&&{data:Wr(A.data,w,O)}}))),C}(y,a,o):y))}const cd=new WeakMap;function ud(t,e){return lc().captureEvent(t,e)}function xk(t,e){return r={sentry_key:t.publicKey,sentry_version:"7",...e&&{sentry_client:`${e.name}/${e.version}`}},Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&");var r}const dd=[];function fd(t,e){for(const r of e)r&&r.afterAllSetup&&r.afterAllSetup(t)}function hd(t,e,r){if(r[e.name])Be&&ye.log(`Integration skipped because it was already installed: ${e.name}`);else{if(r[e.name]=e,dd.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),dd.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(s,i)=>n(s,i,t))}if(typeof e.processEvent=="function"){const n=e.processEvent.bind(e),s=Object.assign((i,a)=>n(i,a,t),{id:e.name});t.addEventProcessor(s)}Be&&ye.log(`Integration installed: ${e.name}`)}}const pd="Not capturing exception because it's already been captured.";class Lk{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=ik(e.dsn):Be&&ye.warn("No DSN provided, client will not send events."),this._dsn){const i=(r=this._dsn,n=e.tunnel,s=e._metadata?e._metadata.sdk:void 0,n||`${function(a){return`${function(o){const l=o.protocol?`${o.protocol}:`:"",u=o.port?`:${o.port}`:"";return`${l}//${o.host}${u}${o.path?`/${o.path}`:""}/api/`}(a)}${a.projectId}/envelope/`}(r)}?${xk(r,s)}`);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}var r,n,s}captureException(e,r,n){const s=Wt();if(Xu(e))return Be&&ye.log(pd),s;const i={event_id:s,...r};return this._process(this.eventFromException(e,i).then(a=>this._captureEvent(a,i,n))),i.event_id}captureMessage(e,r,n,s){const i={event_id:Wt(),...n},a=tc(e)?e:String(e),o=Wo(e)?this.eventFromMessage(a,r,i):this.eventFromException(e,i);return this._process(o.then(l=>this._captureEvent(l,i,s))),i.event_id}captureEvent(e,r,n){const s=Wt();if(r&&r.originalException&&Xu(r.originalException))return Be&&ye.log(pd),s;const i={event_id:s,...r},a=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,i,a||n)),i.event_id}captureSession(e){typeof e.release!="string"?Be&&ye.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),tl(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>r.flush(e).then(s=>n&&s))):Cn(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const r=this._integrations[e.name];hd(this,e,this._integrations),r||fd(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let n=Ak(e,this._dsn,this._options._metadata,this._options.tunnel);for(const i of r.attachments||[])n=vk(n,gk(i));const s=this.sendEnvelope(n);s&&s.then(i=>this.emit("afterSendEvent",e,i),null)}sendSession(e){const r=function(n,s,i,a){const o=Ep(i);return zi({sent_at:new Date().toISOString(),...o&&{sdk:o},...!!a&&s&&{dsn:Ys(s)}},["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){const s=typeof n=="number"?n:1,i=`${e}:${r}`;Be&&ye.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(e,r){const n=this._hooks[e]=this._hooks[e]||[];return n.push(r),()=>{const s=n.indexOf(r);s>-1&&n.splice(s,1)}}emit(e,...r){const n=this._hooks[e];n&&n.forEach(s=>s(...r))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,r=>(Be&&ye.error("Error while sending event:",r),r)):(Be&&ye.error("Transport disabled"),Cn({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(r,n){const s={};return n.forEach(i=>{i&&hd(r,i,s)}),s}(this,e),fd(this,e)}_updateSessionFromEvent(e,r){let n=!1,s=!1;const i=r.exception&&r.exception.values;if(i){s=!0;for(const o of i){const l=o.mechanism;if(l&&l.handled===!1){n=!0;break}}}const a=e.status==="ok";(a&&e.errors===0||a&&n)&&(tl(e,{...n&&{status:"crashed"},errors:e.errors||Number(s||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Mt(r=>{let n=0;const s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),r(!0)):(n+=1,e&&n>=e&&(clearInterval(s),r(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,n,s=Tp()){const i=this.getOptions(),a=Object.keys(this._integrations);return!r.integrations&&a.length>0&&(r.integrations=a),this.emit("preprocessEvent",e,r),e.type||s.setLastEventId(e.event_id||r.event_id),Pk(i,e,r,n,this,s).then(o=>{if(o===null)return o;const l={...s.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(o.contexts&&o.contexts.trace)&&l){const{traceId:u,spanId:d,parentSpanId:f,dsc:h}=l;o.contexts={trace:Vt({trace_id:u,span_id:d,parent_span_id:f}),...o.contexts};const g=h||Op(u,this);o.sdkProcessingMetadata={dynamicSamplingContext:g,...o.sdkProcessingMetadata}}return o})}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(s=>s.event_id,s=>{if(Be){const i=s;i.logLevel==="log"?ye.log(i.message):ye.warn(i)}})}_processEvent(e,r,n){const s=this.getOptions(),{sampleRate:i}=s,a=md(e),o=vd(e),l=e.type||"error",u=`before send for type \`${l}\``,d=i===void 0?void 0:function(g){if(typeof g=="boolean")return Number(g);const y=typeof g=="string"?parseFloat(g):g;if(!(typeof y!="number"||isNaN(y)||y<0||y>1))return y;Be&&ye.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(g)} of type ${JSON.stringify(typeof g)}.`)}(i);if(o&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",e),Ks(new tr(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const f=l==="replay_event"?"replay":l,h=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,r,n,h).then(g=>{if(g===null)throw this.recordDroppedEvent("event_processor",f,e),new tr("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return g;const y=function(_,w,O,C){const{beforeSend:A,beforeSendTransaction:b,beforeSendSpan:E}=w;if(vd(O)&&A)return A(O,C);if(md(O)){if(O.spans&&E){const T=[];for(const x of O.spans){const R=E(x);R?T.push(R):_.recordDroppedEvent("before_send","span")}O.spans=T}if(b){if(O.spans){const T=O.spans.length;O.sdkProcessingMetadata={...O.sdkProcessingMetadata,spanCountBeforeProcessing:T}}return b(O,C)}}return O}(this,s,g,r);return function(_,w){const O=`${w} must return \`null\` or a valid event.`;if(Ea(_))return _.then(C=>{if(!ti(C)&&C!==null)throw new tr(O);return C},C=>{throw new tr(`${w} rejected with ${C}`)});if(!ti(_)&&_!==null)throw new tr(O);return _}(y,u)}).then(g=>{if(g===null){if(this.recordDroppedEvent("before_send",f,e),a){const w=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",w)}throw new tr(`${u} returned \`null\`, will not send event.`,"log")}const y=n&&n.getSession();if(!a&&y&&this._updateSessionFromEvent(y,g),a){const w=(g.sdkProcessingMetadata&&g.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(g.spans?g.spans.length:0);w>0&&this.recordDroppedEvent("before_send","span",w)}const _=g.transaction_info;if(a&&_&&g.transaction!==e.transaction){const w="custom";g.transaction_info={..._,source:w}}return this.sendEvent(g,r),g}).then(null,g=>{throw g instanceof tr?g:(this.captureException(g,{data:{__sentry__:!0},originalException:g}),new tr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${g}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,n])=>{const[s,i]=r.split(":");return{reason:s,category:i,quantity:n}})}_flushOutcomes(){Be&&ye.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0)return void(Be&&ye.log("No outcomes to send"));if(!this._dsn)return void(Be&&ye.log("No dsn provided, will not send outcomes"));Be&&ye.log("Sending outcomes:",e);const r=(n=e,zi((s=this._options.tunnel&&Ys(this._dsn))?{dsn:s}:{},[[{type:"client_report"},{timestamp:i||Zi(),discarded_events:n}]]));var n,s,i;this.sendEnvelope(r)}}function vd(t){return t.type===void 0}function md(t){return t.type==="transaction"}function Mk(t,e,r=uk(t.bufferSize||64)){let n={};return{send:function(s){const i=[];if(ed(s,(l,u)=>{const d=td(u);if(function(f,h,g=Date.now()){return function(y,_){return y[_]||y.all||0}(f,h)>g}(n,d)){const f=gd(l,u);t.recordDroppedEvent("ratelimit_backoff",d,f)}else i.push(l)}),i.length===0)return Cn({});const a=zi(s[0],i),o=l=>{ed(a,(u,d)=>{const f=gd(u,d);t.recordDroppedEvent(l,td(d),f)})};return r.add(()=>e({body:mk(a)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&Be&&ye.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),n=_k(n,l),l),l=>{throw o("network_error"),l})).then(l=>l,l=>{if(l instanceof tr)return Be&&ye.error("Skipped sending event because buffer is full."),o("queue_overflow"),Cn({});throw l})},flush:s=>r.drain(s)}}function gd(t,e){if(e==="event"||e==="transaction")return Array.isArray(t)?t[1]:void 0}const Ik=100;function ln(t,e){const r=yt(),n=Tp();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=Ik}=r.getOptions();if(i<=0)return;const a={timestamp:Zi(),...t},o=s?nc(()=>s(a,e)):a;o!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",o,e),n.addBreadcrumb(o,i))}let yd;const _d=new WeakMap,jk=()=>({name:"FunctionToString",setupOnce(){yd=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=ic(this),r=_d.has(yt())&&e!==void 0?e:this;return yd.apply(r,t)}}catch{}},setup(t){_d.set(t,!0)}}),Rk=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],Dk=(t={})=>({name:"InboundFilters",processEvent(e,r,n){const s=n.getOptions(),i=function(a={},o={}){return{allowUrls:[...a.allowUrls||[],...o.allowUrls||[]],denyUrls:[...a.denyUrls||[],...o.denyUrls||[]],ignoreErrors:[...a.ignoreErrors||[],...o.ignoreErrors||[],...a.disableErrorDefaults?[]:Rk],ignoreTransactions:[...a.ignoreTransactions||[],...o.ignoreTransactions||[]],ignoreInternal:a.ignoreInternal===void 0||a.ignoreInternal}}(t,s);return function(a,o){return o.ignoreInternal&&function(l){try{return l.exception.values[0].type==="SentryError"}catch{}return!1}(a)?(Be&&ye.warn(`Event dropped due to being internal Sentry Error.
Event: ${Jr(a)}`),!0):function(l,u){return l.type||!u||!u.length?!1:function(d){const f=[];d.message&&f.push(d.message);let h;try{h=d.exception.values[d.exception.values.length-1]}catch{}return h&&h.value&&(f.push(h.value),h.type&&f.push(`${h.type}: ${h.value}`)),f}(l).some(d=>ls(d,u))}(a,o.ignoreErrors)?(Be&&ye.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Jr(a)}`),!0):function(l){return l.type||!l.exception||!l.exception.values||l.exception.values.length===0?!1:!l.message&&!l.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(a)?(Be&&ye.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Jr(a)}`),!0):function(l,u){if(l.type!=="transaction"||!u||!u.length)return!1;const d=l.transaction;return!!d&&ls(d,u)}(a,o.ignoreTransactions)?(Be&&ye.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Jr(a)}`),!0):function(l,u){if(!u||!u.length)return!1;const d=hs(l);return!!d&&ls(d,u)}(a,o.denyUrls)?(Be&&ye.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Jr(a)}.
Url: ${hs(a)}`),!0):function(l,u){if(!u||!u.length)return!0;const d=hs(l);return!d||ls(d,u)}(a,o.allowUrls)?!1:(Be&&ye.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Jr(a)}.
Url: ${hs(a)}`),!0)}(e,i)?null:e}});function hs(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?function(r=[]){for(let n=r.length-1;n>=0;n--){const s=r[n];if(s&&s.filename!=="<anonymous>"&&s.filename!=="[native code]")return s.filename||null}return null}(e):null}catch{return Be&&ye.error(`Cannot extract url for event ${Jr(t)}`),null}}const Nk=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if(function(r,n){return n?!!(function(s,i){const a=s.message,o=i.message;return!(!a&&!o||a&&!o||!a&&o||a!==o||!wd(s,i)||!bd(s,i))}(r,n)||function(s,i){const a=kd(i),o=kd(s);return!(!a||!o||a.type!==o.type||a.value!==o.value||!wd(s,i)||!bd(s,i))}(r,n)):!1}(e,t))return Be&&ye.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}};function bd(t,e){let r=Yu(t),n=Yu(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let s=0;s<n.length;s++){const i=n[s],a=r[s];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function)return!1}return!0}function wd(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return r.join("")===n.join("")}catch{return!1}}function kd(t){return t.exception&&t.exception.values&&t.exception.values[0]}const it=Le;let il=0;function Sd(){return il>0}function ni(t,e={},r){if(typeof t!="function")return t;try{const s=t.__sentry_wrapped__;if(s)return typeof s=="function"?s:t;if(ic(t))return t}catch{return t}const n=function(){const s=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);const i=s.map(a=>ni(a,e));return t.apply(this,i)}catch(i){throw il++,setTimeout(()=>{il--}),function(...a){const o=oc(Ta());if(a.length===2){const[l,u]=a;return l?o.withSetScope(l,u):o.withScope(u)}o.withScope(a[0])}(a=>{var o;a.addEventProcessor(l=>(e.mechanism&&(Xo(l,void 0),qi(l,e.mechanism)),l.extra={...l.extra,arguments:s},l)),o=i,lc().captureException(o,void 0)}),i}};try{for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}catch{}bp(n,t),Tn(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>t.name})}catch{}return n}const cc=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function uc(t,e){const r=dc(t,e),n={type:e&&e.name,value:Uk(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function Fk(t,e,r,n){const s=yt(),i=s&&s.getOptions().normalizeDepth,a=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const f=u[d];if(f instanceof Error)return f}}(e),o={__serialized__:Sp(e,i)};if(a)return{exception:{values:[uc(t,a)]},extra:o};const l={exception:{values:[{type:Sa(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:qk(e,{isUnhandledRejection:n})}]},extra:o};if(r){const u=dc(t,r);u.length&&(l.exception.values[0].stacktrace={frames:u})}return l}function Ka(t,e){return{exception:{values:[uc(t,e)]}}}function dc(t,e){const r=e.stacktrace||e.stack||"",n=function(i){return i&&$k.test(i.message)?1:0}(e),s=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(e);try{return t(r,n,s)}catch{}return[]}const $k=/Minified React error #\d+;/i;function Uk(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function sl(t,e,r,n,s){let i;if(gp(e)&&e.error)return Ka(t,e.error);if(Fu(e)||fi(e,"DOMException")){const a=e;if("stack"in e)i=Ka(t,e);else{const o=a.name||(Fu(a)?"DOMError":"DOMException"),l=a.message?`${o}: ${a.message}`:o;i=al(t,l,r,n),Xo(i,l)}return"code"in a&&(i.tags={...i.tags,"DOMException.code":`${a.code}`}),i}return ec(e)?Ka(t,e):ti(e)||Sa(e)?(i=Fk(t,e,r,s),qi(i,{synthetic:!0}),i):(i=al(t,e,r,n),Xo(i,`${e}`),qi(i,{synthetic:!0}),i)}function al(t,e,r,n){const s={};if(n&&r){const i=dc(t,r);i.length&&(s.exception={values:[{value:e,stacktrace:{frames:i}}]})}if(tc(e)){const{__sentry_template_string__:i,__sentry_template_values__:a}=e;return s.logentry={message:i,params:a},s}return s.message=e,s}function qk(t,{isUnhandledRejection:e}){const r=function(s,i=40){const a=Object.keys(wp(s));a.sort();const o=a[0];if(!o)return"[object has no keys]";if(o.length>=i)return Yn(o,i);for(let l=a.length;l>0;l--){const u=a.slice(0,l).join(", ");if(!(u.length>i))return l===a.length?u:Yn(u,i)}return""}(t),n=e?"promise rejection":"exception";return gp(t)?`Event \`ErrorEvent\` captured as ${n} with message \`${t.message}\``:Sa(t)?`Event \`${function(s){try{const i=Object.getPrototypeOf(s);return i?i.constructor.name:void 0}catch{}}(t)}\` (type=${t.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}class zk extends Lk{constructor(e){const r={parentSpanIsAlwaysRootSpan:!0,...e};(function(n,s,i=[s],a="npm"){const o=n._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${s}`,packages:i.map(l=>({name:`${a}:@sentry/${l}`,version:_n})),version:_n}),n._metadata=o})(r,"browser",["browser"],it.SENTRY_SDK_SOURCE||"npm"),super(r),r.sendClientReports&&it.document&&it.document.addEventListener("visibilitychange",()=>{it.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return function(n,s,i,a){const o=sl(n,s,i&&i.syntheticException||void 0,a);return qi(o),o.level="error",i&&i.event_id&&(o.event_id=i.event_id),Cn(o)}(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return function(s,i,a="info",o,l){const u=al(s,i,o&&o.syntheticException||void 0,l);return u.level=a,o&&o.event_id&&(u.event_id=o.event_id),Cn(u)}(this._options.stackParser,e,r,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(cc&&ye.warn("SDK not enabled, will not capture user feedback."));const r=function(n,{metadata:s,tunnel:i,dsn:a}){const o={event_id:n.event_id,sent_at:new Date().toISOString(),...s&&s.sdk&&{sdk:{name:s.sdk.name,version:s.sdk.version}},...!!i&&!!a&&{dsn:Ys(a)}};return zi(o,[function(u){return[{type:"user_report"},u]}(n)])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}}const Bk=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ot=Le;let Ed,Qa,Xa,ps;function Vk(){if(!ot.document)return;const t=Jt.bind(null,"dom"),e=Td(t,!0);ot.document.addEventListener("click",e,!1),ot.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{const n=ot[r]&&ot[r].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Ot(n,"addEventListener",function(s){return function(i,a,o){if(i==="click"||i=="keypress")try{const l=this,u=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},d=u[i]=u[i]||{refCount:0};if(!d.handler){const f=Td(t);d.handler=f,s.call(this,i,f,o)}d.refCount++}catch{}return s.call(this,i,a,o)}}),Ot(n,"removeEventListener",function(s){return function(i,a,o){if(i==="click"||i=="keypress")try{const l=this,u=l.__sentry_instrumentation_handlers__||{},d=u[i];d&&(d.refCount--,d.refCount<=0&&(s.call(this,i,d.handler,o),d.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return s.call(this,i,a,o)}}))})}function Td(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;const n=function(i){try{return i.target}catch{return null}}(r);if(function(i,a){return i==="keypress"&&(!a||!a.tagName||a.tagName!=="INPUT"&&a.tagName!=="TEXTAREA"&&!a.isContentEditable)}(r.type,n))return;Tn(r,"_sentryCaptured",!0),n&&!n._sentryId&&Tn(n,"_sentryId",Wt());const s=r.type==="keypress"?"input":r.type;(function(i){if(i.type!==Qa)return!1;try{if(!i.target||i.target._sentryId!==Xa)return!1}catch{}return!0})(r)||(t({event:r,name:s,global:e}),Qa=r.type,Xa=n?n._sentryId:void 0),clearTimeout(Ed),Ed=ot.setTimeout(()=>{Xa=void 0,Qa=void 0},1e3)}}function Jk(){if(!function(){const r=fs.chrome,n=r&&r.app&&r.app.runtime,s="history"in fs&&!!fs.history.pushState&&!!fs.history.replaceState;return!n&&s}())return;const t=ot.onpopstate;function e(r){return function(...n){const s=n.length>2?n[2]:void 0;if(s){const i=ps,a=String(s);ps=a,Jt("history",{from:i,to:a})}return r.apply(this,n)}}ot.onpopstate=function(...r){const n=ot.location.href,s=ps;if(ps=n,Jt("history",{from:s,to:n}),t)try{return t.apply(this,r)}catch{}},Ot(ot.history,"pushState",e),Ot(ot.history,"replaceState",e)}const As={};function Cd(t){As[t]=void 0}const Ci="__sentry_xhr_v3__";function Wk(){if(!ot.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,n){const s=1e3*Qr(),i=Sr(n[0])?n[0].toUpperCase():void 0,a=function(l){if(Sr(l))return l;try{return l.toString()}catch{}}(n[1]);if(!i||!a)return e.apply(r,n);r[Ci]={method:i,url:a,request_headers:{}},i==="POST"&&a.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const o=()=>{const l=r[Ci];if(l&&r.readyState===4){try{l.status_code=r.status}catch{}Jt("xhr",{endTimestamp:1e3*Qr(),startTimestamp:s,xhr:r})}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply:(l,u,d)=>(o(),l.apply(u,d))}):r.addEventListener("readystatechange",o),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(l,u,d){const[f,h]=d,g=u[Ci];return g&&Sr(f)&&Sr(h)&&(g.request_headers[f.toLowerCase()]=h),l.apply(u,d)}}),e.apply(r,n)}}),t.send=new Proxy(t.send,{apply(e,r,n){const s=r[Ci];return s?(n[0]!==void 0&&(s.body=n[0]),Jt("xhr",{startTimestamp:1e3*Qr(),xhr:r}),e.apply(r,n)):e.apply(r,n)}})}function Gk(t,e=function(r){const n=As[r];if(n)return n;let s=ot[r];if(Ko(s))return As[r]=s.bind(ot);const i=ot.document;if(i&&typeof i.createElement=="function")try{const a=i.createElement("iframe");a.hidden=!0,i.head.appendChild(a);const o=a.contentWindow;o&&o[r]&&(s=o[r]),i.head.removeChild(a)}catch(a){Bk&&ye.warn(`Could not create sandbox iframe for ${r} check, bailing to window.${r}: `,a)}return s&&(As[r]=s.bind(ot))}("fetch")){let r=0,n=0;return Mk(t,function(s){const i=s.body.length;r+=i,n++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&n<15,...t.fetchOptions};if(!e)return Cd("fetch"),Ks("No fetch implementation available");try{return e(t.url,a).then(o=>(r-=i,n--,{statusCode:o.status,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")}}))}catch(o){return Cd("fetch"),r-=i,n--,Ks(o)}})}function Za(t,e,r,n){const s={filename:t,function:e==="<anonymous>"?pn:e,in_app:!0};return r!==void 0&&(s.lineno=r),n!==void 0&&(s.colno=n),s}const Hk=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Yk=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Kk=/\((\S*)(?::(\d+))(?::(\d+))\)/,Qk=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Xk=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Zk=function(...t){const e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,s=0)=>{const i=[],a=r.split(`
`);for(let o=n;o<a.length;o++){const l=a[o];if(l.length>1024)continue;const u=Wu.test(l)?l.replace(Wu,"$1"):l;if(!u.match(/\S*Error: /)){for(const d of e){const f=d(u);if(f){i.push(f);break}}if(i.length>=50+s)break}}return function(o){if(!o.length)return[];const l=Array.from(o);return/sentryWrapped/.test(cs(l).function||"")&&l.pop(),l.reverse(),Gu.test(cs(l).function||"")&&(l.pop(),Gu.test(cs(l).function||"")&&l.pop()),l.slice(0,50).map(u=>({...u,filename:u.filename||cs(l).filename,function:u.function||pn}))}(i.slice(s))}}([30,t=>{const e=Hk.exec(t);if(e){const[,n,s,i]=e;return Za(n,pn,+s,+i)}const r=Yk.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){const i=Kk.exec(r[2]);i&&(r[2]=i[1],r[3]=i[2],r[4]=i[3])}const[n,s]=Ad(r[1]||pn,r[2]);return Za(s,n,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,t=>{const e=Qk.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const s=Xk.exec(e[3]);s&&(e[1]=e[1]||"eval",e[3]=s[1],e[4]=s[2],e[5]="")}let r=e[3],n=e[1]||pn;return[n,r]=Ad(n,r),Za(r,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]),Ad=(t,e)=>{const r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:pn,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},Od=1024,eS=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(r){var n;e.console&&function(s){const i="console";vn(i,s),mn(i,sk)}(function(s){return function(i){if(yt()!==s)return;const a={category:"console",data:{arguments:i.args,logger:"console"},level:fk(i.level),message:$u(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;a.message=`Assertion failed: ${$u(i.args.slice(1)," ")||"console.assert"}`,a.data.arguments=i.args.slice(1)}ln(a,{input:i.args,level:i.level})}}(r)),e.dom&&(n=function(s,i){return function(a){if(yt()!==s)return;let o,l,u=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>Od&&(cc&&ye.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=Od),typeof u=="string"&&(u=[u]);try{const h=a.event,g=function(y){return!!y&&!!y.target}(h)?h.target:h;o=_p(g,{keyAttrs:u,maxStringLength:d}),l=function(y){if(!rc.HTMLElement)return null;let _=y;for(let w=0;w<5;w++){if(!_)return null;if(_ instanceof HTMLElement){if(_.dataset.sentryComponent)return _.dataset.sentryComponent;if(_.dataset.sentryElement)return _.dataset.sentryElement}_=_.parentNode}return null}(g)}catch{o="<unknown>"}if(o.length===0)return;const f={category:`ui.${a.name}`,message:o};l&&(f.data={"ui.component_name":l}),ln(f,{event:a.event,name:a.name,global:a.global})}}(r,e.dom),vn("dom",n),mn("dom",Vk)),e.xhr&&function(s){vn("xhr",s),mn("xhr",Wk)}(function(s){return function(i){if(yt()!==s)return;const{startTimestamp:a,endTimestamp:o}=i,l=i.xhr[Ci];if(!a||!o||!l)return;const{method:u,url:d,status_code:f,body:h}=l,g={method:u,url:d,status_code:f},y={xhr:i.xhr,input:h,startTimestamp:a,endTimestamp:o};ln({category:"xhr",data:g,type:"http",level:zu(f)},y)}}(r)),e.fetch&&ok(function(s){return function(i){if(yt()!==s)return;const{startTimestamp:a,endTimestamp:o}=i;if(o&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)ln({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:a,endTimestamp:o});else{const l=i.response,u={...i.fetchData,status_code:l&&l.status},d={input:i.args,response:l,startTimestamp:a,endTimestamp:o};ln({category:"fetch",data:u,type:"http",level:zu(u.status_code)},d)}}}(r)),e.history&&function(s){const i="history";vn(i,s),mn(i,Jk)}(function(s){return function(i){if(yt()!==s)return;let a=i.from,o=i.to;const l=Ya(it.location.href);let u=a?Ya(a):void 0;const d=Ya(o);u&&u.path||(u=l),l.protocol===d.protocol&&l.host===d.host&&(o=d.relative),l.protocol===u.protocol&&l.host===u.host&&(a=u.relative),ln({category:"navigation",data:{from:a,to:o}})}}(r)),e.sentry&&r.on("beforeSendEvent",function(s){return function(i){yt()===s&&ln({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:Jr(i)},{event:i})}}(r))}}},tS=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],rS=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&Ot(it,"setTimeout",Pd),e.setInterval&&Ot(it,"setInterval",Pd),e.requestAnimationFrame&&Ot(it,"requestAnimationFrame",nS),e.XMLHttpRequest&&"XMLHttpRequest"in it&&Ot(XMLHttpRequest.prototype,"send",iS);const r=e.eventTarget;r&&(Array.isArray(r)?r:tS).forEach(sS)}}};function Pd(t){return function(...e){const r=e[0];return e[0]=ni(r,{mechanism:{data:{function:rn(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function nS(t){return function(e){return t.apply(this,[ni(e,{mechanism:{data:{function:"requestAnimationFrame",handler:rn(t)},handled:!1,type:"instrument"}})])}}function iS(t){return function(...e){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(n=>{n in r&&typeof r[n]=="function"&&Ot(r,n,function(s){const i={mechanism:{data:{function:n,handler:rn(s)},handled:!1,type:"instrument"}},a=ic(s);return a&&(i.mechanism.data.handler=rn(a)),ni(s,i)})}),t.apply(this,e)}}function sS(t){const e=it,r=e[t]&&e[t].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(Ot(r,"addEventListener",function(n){return function(s,i,a){try{typeof i.handleEvent=="function"&&(i.handleEvent=ni(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:rn(i),target:t},handled:!1,type:"instrument"}}))}catch{}return n.apply(this,[s,ni(i,{mechanism:{data:{function:"addEventListener",handler:rn(i),target:t},handled:!1,type:"instrument"}}),a])}}),Ot(r,"removeEventListener",function(n){return function(s,i,a){const o=i;try{const l=o&&o.__sentry_wrapped__;l&&n.call(this,s,l,a)}catch{}return n.call(this,s,o,a)}}))}const aS=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(function(n){(function(s){const i="error";vn(i,s),mn(i,lk)})(s=>{const{stackParser:i,attachStacktrace:a}=Ld();if(yt()!==n||Sd())return;const{msg:o,url:l,line:u,column:d,error:f}=s,h=function(g,y,_,w){const O=g.exception=g.exception||{},C=O.values=O.values||[],A=C[0]=C[0]||{},b=A.stacktrace=A.stacktrace||{},E=b.frames=b.frames||[],T=isNaN(parseInt(w,10))?void 0:w,x=isNaN(parseInt(_,10))?void 0:_,R=Sr(y)&&y.length>0?y:function(){try{return rc.document.location.href}catch{return""}}();return E.length===0&&E.push({colno:T,filename:R,function:pn,in_app:!0,lineno:x}),g}(sl(i,f||o,void 0,a,!1),l,u,d);h.level="error",ud(h,{originalException:f,mechanism:{handled:!1,type:"onerror"}})})}(r),xd("onerror")),e.onunhandledrejection&&(function(n){(function(s){const i="unhandledrejection";vn(i,s),mn(i,ck)})(s=>{const{stackParser:i,attachStacktrace:a}=Ld();if(yt()!==n||Sd())return;const o=function(u){if(Wo(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(s),l=Wo(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:sl(i,o,void 0,a,!0);l.level="error",ud(l,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(r),xd("onunhandledrejection"))}}};function xd(t){cc&&ye.log(`Global Handler attached: ${t}`)}function Ld(){const t=yt();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const oS=()=>({name:"HttpContext",preprocessEvent(t){if(!it.navigator&&!it.location&&!it.document)return;const e=t.request&&t.request.url||it.location&&it.location.href,{referrer:r}=it.document||{},{userAgent:n}=it.navigator||{},s={...t.request&&t.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},i={...t.request,...e&&{url:e},headers:s};t.request=i}}),lS=(t={})=>{const e=t.limit||5,r=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(n,s,i){const a=i.getOptions();tk(uc,a.stackParser,a.maxValueLength,r,e,n,s)}}};var ol="new",Md="loading",Id="loaded",Xs="joining-meeting",Hr="joined-meeting",zr="left-meeting",vr="error",cS="blocked",uS="off",dS="sendable",fS="loading",hS="interrupted",Pp="playable",Os="unknown",xp="full",pS="lobby",vS="none",Lp="base",mS="*",gS="ejected",yS="nbf-room",_S="nbf-token",bS="exp-room",wS="exp-token",ll="no-room",kS="meeting-full",Mp="end-of-life",SS="not-allowed",Ip="connection-error",ES="cam-in-use",TS="mic-in-use",CS="cam-mic-in-use",AS="permissions",OS="undefined-mediadevices",PS="not-found",xS="constraints",LS="unknown",jp="iframe-ready-for-launch-config",Rp="iframe-launch-config",Dp="theme-updated",Np="loading",Fp="load-attempt-failed",cl="loaded",$p="started-camera",Up="camera-error",qp="joining-meeting",zp="joined-meeting",Bp="left-meeting",Vp="participant-joined",Jp="participant-updated",Wp="participant-left",Gp="participant-counts-updated",Hp="access-state-updated",Yp="meeting-session-summary-updated",Kp="meeting-session-state-updated",MS="meeting-session-data-error",Qp="waiting-participant-added",Xp="waiting-participant-updated",Zp="waiting-participant-removed",ev="track-started",tv="track-stopped",rv="transcription-started",nv="transcription-stopped",iv="transcription-error",ul="recording-started",dl="recording-stopped",sv="recording-stats",av="recording-error",ov="recording-upload-completed",lv="recording-data",cv="app-message",uv="transcription-message",dv="remote-media-player-started",fv="remote-media-player-updated",hv="remote-media-player-stopped",pv="local-screen-share-started",vv="local-screen-share-stopped",mv="local-screen-share-canceled",gv="active-speaker-change",yv="active-speaker-mode-change",_v="network-quality-change",bv="network-connection",wv="cpu-load-change",kv="face-counts-updated",Ai="fullscreen",Oi="exited-fullscreen",Sv="live-streaming-started",Ev="live-streaming-updated",Tv="live-streaming-stopped",Cv="live-streaming-error",Av="lang-updated",Ov="receive-settings-updated",fl="input-settings-updated",hl="nonfatal-error",pl="error",eo=4096,jd=102400,to="iframe-call-message",Rd="local-screen-start",Dd="daily-method-update-live-streaming-endpoints",vs="transmit-log",Er="daily-custom-track",Ps={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},Pv={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},vl={PLAY:"play",PAUSE:"pause"},ro=["jpg","png","jpeg"],IS="add-endpoints",jS="remove-endpoints",Nd="sip-call-transfer";function Rt(){return!xe()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function xe(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function xv(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function RS(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(t,e){if(!t||!e)return!0;switch(t){case"Chrome":return e.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(e.major===13&&e.minor===0&&e.point===0);case"Firefox":return e.major>=67}return!0}(An(),Zs())||xe())}function Fd(){if(xe()||!document)return!1;var t=document.createElement("iframe");return!!t.requestFullscreen||!!t.webkitRequestFullscreen}var DS=function(){try{var t=document.createElement("canvas"),e=t.getContext("webgl2")!=null;return t.remove(),e}catch{return!1}}();function Lv(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!xe()&&!!DS&&(t?function(){return Ud()?!1:["Chrome","Firefox"].includes(An())}():function(){if(Ud())return!1;var e=An();if(e==="Safari"){var r=hc();if(r.major<15||r.major===15&&r.minor<4)return!1}return e==="Chrome"?fc().major>=77:e==="Firefox"?pc().major>=97:["Chrome","Firefox","Safari"].includes(e)}())}function Mv(){if(xe()||Iv()||typeof AudioWorkletNode>"u")return!1;switch(An()){case"Chrome":case"Firefox":return!0;case"Safari":var t=Zs();return t.major>17||t.major===17&&t.minor>=4}return!1}function $d(){return xv()&&!function(){var t,e=An();if(!Rt())return!0;switch(e){case"Chrome":return(t=fc()).major&&t.major>0&&t.major<75;case"Firefox":return(t=pc()).major<91;case"Safari":return(t=hc()).major<13||t.major===13&&t.minor<1;default:return!0}}()}function Iv(){return Rt().match(/Linux; Android/)}function Ud(){var t,e,r=Rt(),n=r.match(/Mac/)&&(!xe()&&typeof window<"u"&&(t=window)!==null&&t!==void 0&&(e=t.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(r.match(/Mobi/)||r.match(/Android/)||n)||!!Rt().match(/DailyAnd\//)||void 0}function An(){if(typeof window<"u"){var t=Rt();return jv()?"Safari":t.indexOf("Edge")>-1?"Edge":t.match(/Chrome\//)?"Chrome":t.indexOf("Safari")>-1||Rv()?"Safari":t.indexOf("Firefox")>-1?"Firefox":t.indexOf("MSIE")>-1||t.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function Zs(){switch(An()){case"Chrome":return fc();case"Safari":return hc();case"Firefox":return pc();case"Edge":return function(){var t=0,e=0;if(typeof window<"u"){var r=Rt().match(/Edge\/(\d+).(\d+)/);if(r)try{t=parseInt(r[1]),e=parseInt(r[2])}catch{}}return{major:t,minor:e}}()}}function fc(){var t=0,e=0,r=0,n=0,s=!1;if(typeof window<"u"){var i=Rt(),a=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(a)try{t=parseInt(a[1]),e=parseInt(a[2]),r=parseInt(a[3]),n=parseInt(a[4]),s=i.indexOf("OPR/")>-1}catch{}}return{major:t,minor:e,build:r,patch:n,opera:s}}function jv(){return!!Rt().match(/iPad|iPhone|iPod/i)&&xv()}function Rv(){return Rt().indexOf("AppleWebKit/605.1.15")>-1}function hc(){var t=0,e=0,r=0;if(typeof window<"u"){var n=Rt().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(n)try{t=parseInt(n[1]),e=parseInt(n[2]),r=parseInt(n[4])}catch{}else(jv()||Rv())&&(t=14,e=0,r=3)}return{major:t,minor:e,point:r}}function pc(){var t=0,e=0;if(typeof window<"u"){var r=Rt().match(/Firefox\/(\d+).(\d+)/);if(r)try{t=parseInt(r[1]),e=parseInt(r[2])}catch{}}return{major:t,minor:e}}var Dv=function(){function t(){Kt(this,t)}return Qt(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,r,n){yi()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,r,n){yi()}},{key:"sendMessageToCallMachine",value:function(e,r,n,s){yi()}},{key:"sendMessageToDailyJs",value:function(e,r){yi()}},{key:"removeListener",value:function(e){yi()}}]),t}();function qd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function no(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qd(Object(r),!0).forEach(function(n){br(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qd(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Yt(t);if(e){var s=Yt(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return wa(this,r)}}var FS=function(){ba(e,Dv);var t=NS(e);function e(){var r;return Kt(this,e),(r=t.call(this))._wrappedListeners={},r._messageCallbacks={},r}return Qt(e,[{key:"addListenerForMessagesFromCallMachine",value:function(r,n,s){var i=this,a=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===n)&&(!o.data.from||o.data.from!=="module")){var l=no({},o.data);if(delete l.from,l.callbackStamp&&i._messageCallbacks[l.callbackStamp]){var u=l.callbackStamp;i._messageCallbacks[u].call(s,l),delete i._messageCallbacks[u]}delete l.what,delete l.callbackStamp,r.call(s,l)}};this._wrappedListeners[r]=a,window.addEventListener("message",a)}},{key:"addListenerForMessagesFromDailyJs",value:function(r,n,s){var i=function(a){var o;if(!(!a.data||a.data.what!==to||!a.data.action||a.data.from&&a.data.from!=="module"||a.data.callClientId&&n&&a.data.callClientId!==n||a!=null&&(o=a.data)!==null&&o!==void 0&&o.callFrameId)){var l=a.data;r.call(s,l)}};this._wrappedListeners[r]=i,window.addEventListener("message",i)}},{key:"sendMessageToCallMachine",value:function(r,n,s,i){if(!s)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var a=no({},r);if(a.what=to,a.from="module",a.callClientId=s,n){var o=ka();this._messageCallbacks[o]=n,a.callbackStamp=o}var l=i?i.contentWindow:window,u=this._callMachineTargetOrigin(i);u&&l.postMessage(a,u)}},{key:"sendMessageToDailyJs",value:function(r,n){r.what=to,r.callClientId=n,r.from="embedded",window.postMessage(r,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(r){var n=this._wrappedListeners[r];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[r])}},{key:"forwardPackagedMessageToCallMachine",value:function(r,n,s){var i=no({},r);i.callClientId=s;var a=n?n.contentWindow:window,o=this._callMachineTargetOrigin(n);o&&a.postMessage(i,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(r,n){var s=function(i){if(i.data&&i.data.what==="iframe-call-message"&&(!i.data.callClientId||i.data.callClientId===n)&&(!i.data.from||i.data.from!=="module")){var a=i.data;r(a)}};return this._wrappedListeners[r]=s,window.addEventListener("message",s),r}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(r){var n=this._wrappedListeners[r];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[r])}},{key:"_callMachineTargetOrigin",value:function(r){return r?r.src?new URL(r.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}]),e}();function zd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function $S(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Yt(t);if(e){var s=Yt(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return wa(this,r)}}var US=function(){ba(e,Dv);var t=$S(e);function e(){var r;return Kt(this,e),r=t.call(this),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new kr.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new kr.EventEmitter,r._wrappedListeners={},r._messageCallbacks={},r}return Qt(e,[{key:"addListenerForMessagesFromCallMachine",value:function(r,n,s){this._addListener(r,global.callMachineToDailyJsEmitter,n,s,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(r,n,s){this._addListener(r,global.dailyJsToCallMachineEmitter,n,s,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(r,n,s){this._sendMessage(r,global.dailyJsToCallMachineEmitter,s,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(r,n){this._sendMessage(r,global.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(r){var n=this._wrappedListeners[r];n&&(global.callMachineToDailyJsEmitter.removeListener("message",n),global.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[r])}},{key:"_addListener",value:function(r,n,s,i,a){var o=this,l=function(u){if(u.callClientId===s){if(u.callbackStamp&&o._messageCallbacks[u.callbackStamp]){var d=u.callbackStamp;o._messageCallbacks[d].call(i,u),delete o._messageCallbacks[d]}r.call(i,u)}};this._wrappedListeners[r]=l,n.addListener("message",l)}},{key:"_sendMessage",value:function(r,n,s,i,a){var o=function(u){for(var d=1;d<arguments.length;d++){var f=arguments[d]!=null?arguments[d]:{};d%2?zd(Object(f),!0).forEach(function(h){br(u,h,f[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(f)):zd(Object(f)).forEach(function(h){Object.defineProperty(u,h,Object.getOwnPropertyDescriptor(f,h))})}return u}({},r);if(o.callClientId=s,i){var l=ka();this._messageCallbacks[l]=i,o.callbackStamp=l}n.emit("message",o)}}]),e}(),ml="replace",gl="shallow-merge",Bd=[ml,gl],qS=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.data,n=e.mergeStrategy,s=n===void 0?ml:n;Kt(this,t),t._validateMergeStrategy(s),t._validateData(r,s),this.mergeStrategy=s,this.data=r}return Qt(t,[{key:"isNoOp",value:function(){return t.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(e,r){return Object.keys(e).length===0&&r===gl}},{key:"_validateMergeStrategy",value:function(e){if(!Bd.includes(e))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(Bd,"]"))}},{key:"_validateData",value:function(e,r){if(!function(o){if(o==null||je(o)!=="object")return!1;var l=Object.getPrototypeOf(o);return l==null||l===Object.prototype}(e))throw Error("Meeting session data must be a plain (map-like) object");var n;try{if(n=JSON.stringify(e),r===ml){var s=JSON.parse(n);gt(s,e)||console.warn("The meeting session data provided will be modified when serialized.",s,e)}else if(r===gl){for(var i in e)if(Object.hasOwnProperty.call(e,i)&&e[i]!==void 0){var a=JSON.parse(JSON.stringify(e[i]));gt(e[i],a)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",a,e[i])}}}catch(o){throw Error("Meeting session data must be serializable to JSON: ".concat(o))}if(n.length>jd)throw Error("Meeting session data is too large (".concat(n.length," characters). Maximum size suppported is ").concat(jd,"."))}}]),t}();function yl(t,e,r){return yl=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct.bind():function(n,s,i){var a=[null];a.push.apply(a,s);var o=new(Function.bind.apply(n,a));return i&&Ui(o,i.prototype),o},yl.apply(null,arguments)}function _l(t){var e=typeof Map=="function"?new Map:void 0;return _l=function(r){if(r===null||(n=r,Function.toString.call(n).indexOf("[native code]")===-1))return r;var n;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,s)}function s(){return yl(r,arguments,Yt(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Ui(s,r)},_l(t)}function zS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Yt(t);if(e){var s=Yt(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return wa(this,r)}}function Vd(t){var e,r=(e=window._daily)===null||e===void 0?void 0:e.pendings;if(r){var n=r.indexOf(t);n!==-1&&r.splice(n,1)}}var BS=function(){function t(e){Kt(this,t),this._currentLoad=null,this._callClientId=e}return Qt(t,[{key:"load",value:function(){var e,r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void s(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new VS(n,function(){s(!1)},function(a,o){o||Vd(r._callClientId),i(a,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),Vd(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}]),t}(),VS=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;Kt(this,t),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=e,this._successCallback=r,this._failureCallback=n}return Qt(t,[{key:"start",value:function(){var e=this;this._currentAttempt||(this._currentAttempt=new Jd(this._dailyConfig,this._successCallback,function r(n){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(n,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new Jd(e._dailyConfig,e._successCallback,r),e._currentAttempt.start())},3e3))}),this._currentAttempt.start())}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}]),t}(),io=function(){ba(e,_l(Error));var t=zS(e);function e(){return Kt(this,e),t.apply(this,arguments)}return Qt(e)}(),ea=2e4,Jd=function(){function t(r,n,s){Kt(this,t),this._loadAttemptImpl=xe()||!r.avoidEval?new JS(r,n,s):new WS(r,n,s)}var e;return Qt(t,[{key:"start",value:(e=le(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]),t}(),JS=function(){function t(i,a,o){Kt(this,t),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=a,this._failureCallback=o}var e,r,n,s;return Qt(t,[{key:"start",value:(s=le(function*(){var i=Js(this._dailyConfig);!(yield this._tryLoadFromIOSCache(i))&&this._loadFromNetwork(i)}),function(){return s.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=le(function*(i){if(!this._iosCache)return!1;try{var a=yield this._iosCache.get(i);return!!this.cancelled||!!a&&(a.code?(Function('"use strict";'+a.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=a.refetchHeaders,!1))}catch{return!1}}),function(i){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(r=le(function*(i){var a=this;this._networkTimeout=setTimeout(function(){a._networkTimedOut=!0,a._failureCallback({msg:"Timed out (>".concat(ea," ms) when loading call object bundle ").concat(i),type:"timeout"})},ea);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(i,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new io;var u=yield this._getBundleCodeFromResponse(i,l);if(this.cancelled)throw new io;Function('"use strict";'+u)(),this._iosCache&&this._iosCache.set(i,u,l.headers),this.succeeded=!0,this._successCallback()}catch(d){if(clearTimeout(this._networkTimeout),d instanceof io||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(i,": ").concat(d),type:d.message})}}),function(i){return r.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=le(function*(i,a){if(a.ok)return yield a.text();if(this._iosCache&&a.status===304)return(yield this._iosCache.renew(i,a.headers)).code;throw new Error("Received ".concat(a.status," response"))}),function(i,a){return e.apply(this,arguments)})}]),t}(),WS=function(){function t(e,r,n){Kt(this,t),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=e,this._successCallback=r,this._failureCallback=n,this._attemptId=ka(),this._networkTimeout=null,this._scriptElement=null}return Qt(t,[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=Js(this._dailyConfig);(typeof document>"u"?"undefined":je(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var r=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){r._stopLoading(),r._failureCallback({msg:"Timed out (>".concat(ea," ms) when loading call object bundle ").concat(e),type:"timeout"})},ea);var n=document.getElementsByTagName("head")[0],s=document.createElement("script");this._scriptElement=s,s.onload=function(){r._stopLoading(),r.succeeded=!0,r._successCallback()},s.onerror=function(i){r._stopLoading(),r._failureCallback({msg:"Failed to load call object bundle ".concat(i.target.src),type:i.message})},s.src=e,n.appendChild(s)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}]),t}(),ms=function(t,e,r){return HS(t.local,e,r)===!0},GS=function(t,e,r){return t.local.streams&&t.local.streams[e]&&t.local.streams[e].stream&&t.local.streams[e].stream["get".concat(r==="video"?"Video":"Audio","Tracks")]()[0]},Jn=function(t,e,r,n){var s=YS(t,e,r,n);return s&&s.pendingTrack},HS=function(t,e,r){if(!t)return!1;var n=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},s=t.public.subscribedTracks;return s&&s[e]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(r)===-1&&s[e].custom?[!0,"staged"].includes(s[e].custom)?n(s[e].custom):n(s[e].custom[r]):n(s[e][r]):!s||n(s.ALL)},YS=function(t,e,r,n){var s=Object.values(t.streams||{}).filter(function(i){return i.participantId===e&&i.type===r&&i.pendingTrack&&i.pendingTrack.kind===n}).sort(function(i,a){return new Date(a.starttime)-new Date(i.starttime)});return s&&s[0]},KS=function(t,e){var r=t.local.public.customTracks;if(r&&r[e])return r[e].track};function Wd(t,e){for(var r=e.getState(),n=0,s=["cam","screen"];n<s.length;n++)for(var i=s[n],a=0,o=["video","audio"];a<o.length;a++){var l=o[a],u=i==="cam"?l:"screen".concat(l.charAt(0).toUpperCase()+l.slice(1)),d=t.tracks[u];if(d){var f=t.local?GS(r,i,l):Jn(r,t.session_id,i,l);d.state==="playable"&&(d.track=f),d.persistentTrack=f}}}function Gd(t,e){try{var r=e.getState();for(var n in t.tracks)if(!QS(n)){var s=t.tracks[n].kind;if(s){var i=t.tracks[n];if(i){var a=t.local?KS(r,n):Jn(r,t.session_id,n,s);i.state==="playable"&&(t.tracks[n].track=a),i.persistentTrack=a}}else console.error("unknown type for custom track")}}catch(o){console.error(o)}}function QS(t){return["video","audio","screenVideo","screenAudio"].includes(t)}function Hd(t,e,r){var n=r.getState();if(t.local){if(t.audio)try{t.audioTrack=n.local.streams.cam.stream.getAudioTracks()[0],t.audioTrack||(t.audio=!1)}catch{}if(t.video)try{t.videoTrack=n.local.streams.cam.stream.getVideoTracks()[0],t.videoTrack||(t.video=!1)}catch{}if(t.screen)try{t.screenVideoTrack=n.local.streams.screen.stream.getVideoTracks()[0],t.screenAudioTrack=n.local.streams.screen.stream.getAudioTracks()[0],t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch{}}else{var s=!0;try{var i=n.participants[t.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(s=!1)}catch(d){console.error(d)}if(!s)return t.audio=!1,t.audioTrack=!1,t.video=!1,t.videoTrack=!1,t.screen=!1,void(t.screenTrack=!1);try{if(n.streams,t.audio&&ms(n,t.session_id,"cam-audio")){var a=Jn(n,t.session_id,"cam","audio");a&&(e&&e.audioTrack&&e.audioTrack.id===a.id?t.audioTrack=a:a.muted||(t.audioTrack=a)),t.audioTrack||(t.audio=!1)}if(t.video&&ms(n,t.session_id,"cam-video")){var o=Jn(n,t.session_id,"cam","video");o&&(e&&e.videoTrack&&e.videoTrack.id===o.id?t.videoTrack=o:o.muted||(t.videoTrack=o)),t.videoTrack||(t.video=!1)}if(t.screen&&ms(n,t.session_id,"screen-audio")){var l=Jn(n,t.session_id,"screen","audio");l&&(e&&e.screenAudioTrack&&e.screenAudioTrack.id===l.id?t.screenAudioTrack=l:l.muted||(t.screenAudioTrack=l))}if(t.screen&&ms(n,t.session_id,"screen-video")){var u=Jn(n,t.session_id,"screen","video");u&&(e&&e.screenVideoTrack&&e.screenVideoTrack.id===u.id?t.screenVideoTrack=u:u.muted||(t.screenVideoTrack=u))}t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function XS(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(l,u){if(l){if(typeof l=="string")return Yd(l,u);var d=Object.prototype.toString.call(l).slice(8,-1);if(d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set")return Array.from(l);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Yd(l,u)}}(t))||e){r&&(t=r);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,i=l},f:function(){try{a||r.return==null||r.return()}finally{if(o)throw i}}}}function Yd(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var rr=new Map,Kn=null;function ZS(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(l,u){if(l){if(typeof l=="string")return Kd(l,u);var d=Object.prototype.toString.call(l).slice(8,-1);if(d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set")return Array.from(l);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Kd(l,u)}}(t))||e){r&&(t=r);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,i=l},f:function(){try{a||r.return==null||r.return()}finally{if(o)throw i}}}}function Kd(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var nr=new Map,Ri=null;function eE(t){Nv()?function(e){rr.has(e)||(rr.set(e,{}),navigator.mediaDevices.enumerateDevices().then(function(r){rr.has(e)&&(rr.get(e).lastDevicesString=JSON.stringify(r),Kn||(Kn=function(){var n=le(function*(){var s,i=yield navigator.mediaDevices.enumerateDevices(),a=XS(rr.keys());try{for(a.s();!(s=a.n()).done;){var o=s.value,l=JSON.stringify(i);l!==rr.get(o).lastDevicesString&&(rr.get(o).lastDevicesString=l,o(i))}}catch(u){a.e(u)}finally{a.f()}});return function(){return n.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",Kn)))}).catch(function(){}))}(t):function(e){nr.has(e)||(nr.set(e,{}),navigator.mediaDevices.enumerateDevices().then(function(r){nr.has(e)&&(nr.get(e).lastDevicesString=JSON.stringify(r),Ri||(Ri=setInterval(le(function*(){var n,s=yield navigator.mediaDevices.enumerateDevices(),i=ZS(nr.keys());try{for(i.s();!(n=i.n()).done;){var a=n.value,o=JSON.stringify(s);o!==nr.get(a).lastDevicesString&&(nr.get(a).lastDevicesString=o,a(s))}}catch(l){i.e(l)}finally{i.f()}}),3e3)))}))}(t)}function tE(t){Nv()?function(e){rr.has(e)&&(rr.delete(e),rr.size===0&&Kn&&(navigator.mediaDevices.removeEventListener("devicechange",Kn),Kn=null))}(t):function(e){nr.has(e)&&(nr.delete(e),nr.size===0&&Ri&&(clearInterval(Ri),Ri=null))}(t)}function Nv(){var t;return xe()||((t=navigator.mediaDevices)===null||t===void 0?void 0:t.ondevicechange)!==void 0}var rE=new Set;function nE(t,e){return t&&t.readyState==="live"&&!function(r,n){return r.muted&&!rE.has(r.id)}(t)}var iE=["result"],sE=["preserveIframe"];function Qd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qd(Object(r),!0).forEach(function(n){br(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qd(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aE(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Yt(t);if(e){var s=Yt(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return wa(this,r)}}function Xd(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(l,u){if(l){if(typeof l=="string")return Zd(l,u);var d=Object.prototype.toString.call(l).slice(8,-1);if(d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set")return Array.from(l);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Zd(l,u)}}(t))||e){r&&(t=r);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,i=l},f:function(){try{a||r.return==null||r.return()}finally{if(o)throw i}}}}function Zd(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var cn={},ef="video",oE="voice",tf=xe()?{data:{}}:{data:{},topology:"none"},rf={present:0,hidden:0},Fv={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},so=Object.keys(Fv),nf=["state","volume","simulcastEncodings"],sf={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},ta={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},bl={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},un={customIntegrations:{validate:Wv,help:Vv()},customTrayButtons:{validate:Jv,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(ta))},url:{validate:function(t){return typeof t=="string"},help:"url should be a string"},baseUrl:{validate:function(t){return typeof t=="string"},help:"baseUrl should be a string"},token:{validate:function(t){return typeof t=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(t,e){try{return e.validateDailyConfig(t),!0}catch(r){console.error("Failed to validate dailyConfig",r)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(t){return Gv(t,sf)},help:"reactNativeConfig should look like ".concat(JSON.stringify(sf),", all fields optional")},lang:{validate:function(t){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(t)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(t){try{return $v(t),!0}catch(e){return console.error(e),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalVideo=t,!0;var r;if(t instanceof MediaStreamTrack)e._sharedTracks.videoTrack=t,r={customTrack:Er};else{if(delete e._sharedTracks.videoTrack,typeof t!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:t}}return e._updatePreloadCacheInputSettings({video:{settings:r}},!1),!0}},audioSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalAudio=t,!0;var r;if(t instanceof MediaStreamTrack)e._sharedTracks.audioTrack=t,r={customTrack:Er};else{if(delete e._sharedTracks.audioTrack,typeof t!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:t}}return e._updatePreloadCacheInputSettings({audio:{settings:r}},!1),!0}},subscribeToTracksAutomatically:{validate:function(t,e){return e._preloadCache.subscribeToTracksAutomatically=t,!0}},theme:{validate:function(t){var e=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],r=function(n){for(var s=0,i=Object.keys(n);s<i.length;s++){var a=i[s];if(!e.includes(a))return console.error('unsupported color "'.concat(a,'". Valid colors: ').concat(e.join(", "))),!1;if(!n[a].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(a,' theme color should be provided in valid hex color format. Received: "').concat(n[a],'"')),!1}return!0};return je(t)==="object"&&("light"in t&&"dark"in t||"colors"in t)?"light"in t&&"dark"in t?"colors"in t.light?"colors"in t.dark?r(t.light.colors)&&r(t.dark.colors):(console.error('Dark theme is missing "colors" property.',t),!1):(console.error('Light theme is missing "colors" property.',t),!1):r(t.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',t),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(t){if("grid"in t){var e=t.grid;if("maxTilesPerPage"in e){if(!Number.isInteger(e.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(e.maxTilesPerPage,".")),!1;if(e.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in e){if(!Number.isInteger(e.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(e.minTilesPerPage,".")),!1;if(e.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in e&&e.minTilesPerPage>e.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(t){return Uv(t,{allowAllParticipantsKey:!1})},help:Bv({allowAllParticipantsKey:!1})},sendSettings:{validate:function(t,e){return!!function(r,n){try{return n.validateUpdateSendSettings(r),!0}catch(s){return console.error("Failed to validate send settings",s),!1}}(t,e)&&(e._preloadCache.sendSettings=t,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(t,e){var r;return!!qv(t)&&(e._inputSettings||(e._inputSettings={}),zv(t,(r=e.properties)===null||r===void 0?void 0:r.dailyConfig,e._sharedTracks),e._updatePreloadCacheInputSettings(t,!0),!0)},help:wl()},layout:{validate:function(t){return t==="custom-v1"||t==="browser"||t==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},gs={styles:{validate:function(t){for(var e in t)if(e!=="cam"&&e!=="screen")return!1;if(t.cam){for(var r in t.cam)if(r!=="div"&&r!=="video")return!1}if(t.screen){for(var n in t.screen)if(n!=="div"&&n!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(t,e){if(e._preloadCache.subscribeToTracksAutomatically)return!1;var r=[!0,!1,"staged"];if(r.includes(t)||!xe()&&t==="avatar")return!0;var n=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"];return function s(i){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var o in i)if(o==="custom"){if(!r.includes(i[o])&&!s(i[o],!0))return!1}else{var l=!a&&!n.includes(o),u=!r.includes(i[o]);if(l||u)return!1}return!0}(t)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(xe()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(t){return t===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(t){for(var e=0,r=Object.entries(t);e<r.length;e++){var n=lr(r[e],2),s=n[0],i=n[1];switch(s){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var a,o=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],l=Xd(i);try{for(l.s();!(a=l.n()).done;){var u=a.value;if(!o.includes(u))return!1}}catch(y){l.e(y)}finally{l.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(t.canSend=new Set(i));break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var d,f=["participants","streaming","transcription"],h=Xd(i);try{for(h.s();!(d=h.n()).done;){var g=d.value;if(!f.includes(g))return!1}}catch(y){h.e(y)}finally{h.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(t.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var t=le(function*(e){return new Promise(function(r,n){var s=[];e.forEach(function(i){return Promise.resolve(i).then(function(a){r(a)}).catch(function(a){s.push(a),s.length===e.length&&n(s)})})})});return function(e){return t.apply(this,arguments)}}());var lE=function(){ba(ie,kr);var t,e,r,n,s,i,a,o,l,u,d,f,h,g,y,_,w,O,C,A,b,E,T,x,R,V,U,N,W,L,q,B,Y,Q,X,ve,we,$,he=aE(ie);function ie(c){var m,v,S,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Kt(this,ie),br(pr(v=he.call(this)),"startListeningForDeviceChanges",function(){eE(v.handleDeviceChange)}),br(pr(v),"stopListeningForDeviceChanges",function(){tE(v.handleDeviceChange)}),br(pr(v),"handleDeviceChange",function(M){M=M.map(function(F){return JSON.parse(JSON.stringify(F))}),v.emitDailyJSEvent({action:"available-devices-updated",availableDevices:M})}),br(pr(v),"handleNativeAppStateChange",function(){var M=le(function*(F){if(F==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield v.destroy());var G=F==="active";v.disableReactNativeAutoDeviceManagement("video")||(G?v.camUnmutedBeforeLosingNativeActiveState&&v.setLocalVideo(!0):(v.camUnmutedBeforeLosingNativeActiveState=v.localVideo(),v.camUnmutedBeforeLosingNativeActiveState&&v.setLocalVideo(!1)))});return function(F){return M.apply(this,arguments)}}()),br(pr(v),"handleNativeAudioFocusChange",function(M){v.disableReactNativeAutoDeviceManagement("audio")||(v._hasNativeAudioFocus=M,v.toggleParticipantAudioBasedOnNativeAudioFocus(),v._hasNativeAudioFocus?v.micUnmutedBeforeLosingNativeAudioFocus&&v.setLocalAudio(!0):(v.micUnmutedBeforeLosingNativeAudioFocus=v.localAudio(),v.setLocalAudio(!1)))}),br(pr(v),"handleNativeSystemScreenCaptureStop",function(){v.stopScreenShare()}),v.strictMode=k.strictMode===void 0||k.strictMode,v.allowMultipleCallInstances=(m=k.allowMultipleCallInstances)!==null&&m!==void 0&&m,Object.keys(cn).length&&(v._logDuplicateInstanceAttempt(),!v.allowMultipleCallInstances)){if(v.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),v.callClientId=ka(),S=pr(v),cn[S.callClientId]=S,window._daily.instances[v.callClientId]={},v._sharedTracks={},window._daily.instances[v.callClientId].tracks=v._sharedTracks,k.dailyJsVersion=ie.version(),v._iframe=c,v._callObjectMode=k.layout==="none"&&!v._iframe,v._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},k.showLocalVideo!==void 0?v._callObjectMode?console.error("showLocalVideo is not available in call object mode"):v._showLocalVideo=!!k.showLocalVideo:v._showLocalVideo=!0,k.showParticipantsBar!==void 0?v._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):v._showParticipantsBar=!!k.showParticipantsBar:v._showParticipantsBar=!0,k.customIntegrations!==void 0?v._callObjectMode?console.error("customIntegrations is not available in call object mode"):v._customIntegrations=k.customIntegrations:v._customIntegrations={},k.customTrayButtons!==void 0?v._callObjectMode?console.error("customTrayButtons is not available in call object mode"):v._customTrayButtons=k.customTrayButtons:v._customTrayButtons={},k.activeSpeakerMode!==void 0?v._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):v._activeSpeakerMode=!!k.activeSpeakerMode:v._activeSpeakerMode=!1,k.receiveSettings?v._callObjectMode?v._receiveSettings=k.receiveSettings:console.error("receiveSettings is only available in call object mode"):v._receiveSettings={},v.validateProperties(k),v.properties=se({},k),v._inputSettings||(v._inputSettings={}),v._callObjectLoader=v._callObjectMode?new BS(v.callClientId):null,v._callState=ol,v._isPreparingToJoin=!1,v._accessState={access:Os},v._meetingSessionSummary={},v._finalSummaryOfPrevSession={},v._meetingSessionState=lo(tf,v._callObjectMode),v._nativeInCallAudioMode=ef,v._participants={},v._isScreenSharing=!1,v._participantCounts=rf,v._rmpPlayerState={},v._waitingParticipants={},v._network={threshold:"good",quality:100},v._activeSpeaker={},v._localAudioLevel=0,v._isLocalAudioLevelObserverRunning=!1,v._remoteParticipantsAudioLevel={},v._isRemoteParticipantsAudioLevelObserverRunning=!1,v._maxAppMessageSize=eo,v._messageChannel=xe()?new US:new FS,v._iframe&&(v._iframe.requestFullscreen?v._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===v._iframe?(v.emitDailyJSEvent({action:Ai}),v.sendMessageToCallMachine({action:Ai})):(v.emitDailyJSEvent({action:Oi}),v.sendMessageToCallMachine({action:Oi}))}):v._iframe.webkitRequestFullscreen&&v._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===v._iframe?(v.emitDailyJSEvent({action:Ai}),v.sendMessageToCallMachine({action:Ai})):(v.emitDailyJSEvent({action:Oi}),v.sendMessageToCallMachine({action:Oi}))})),xe()){var j=v.nativeUtils();j.addAudioFocusChangeListener&&j.removeAudioFocusChangeListener&&j.addAppStateChangeListener&&j.removeAppStateChangeListener&&j.addSystemScreenCaptureStopListener&&j.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),v._hasNativeAudioFocus=!0,j.addAudioFocusChangeListener(v.handleNativeAudioFocusChange),j.addAppStateChangeListener(v.handleNativeAppStateChange),j.addSystemScreenCaptureStopListener(v.handleNativeSystemScreenCaptureStop)}return v._callObjectMode&&v.startListeningForDeviceChanges(),v._messageChannel.addListenerForMessagesFromCallMachine(v.handleMessageFromCallMachine,v.callClientId,pr(v)),v}return Qt(ie,[{key:"destroy",value:($=le(function*(){var c,m;try{yield this.leave()}catch{}var v=this._iframe;if(v){var S=v.parentElement;S&&S.removeChild(v)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),xe()){var k=this.nativeUtils();k.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),k.removeAppStateChangeListener(this.handleNativeAppStateChange),k.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete cn[this.callClientId],!((c=window)===null||c===void 0||(m=c._daily)===null||m===void 0)&&m.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return $.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(c){var m=c.bodyClass,v=c.cssFile,S=c.cssText;return Oe(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(v),bodyClass:m,cssText:S}),this}},{key:"iframe",value:function(){return Oe(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return $t(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return $t(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(c,m){for(var v in m){if(!gs[v])throw new Error("unrecognized updateParticipant property ".concat(v));if(gs[v].validate&&!gs[v].validate(m[v],this,this._participants[c]))throw new Error(gs[v].help)}}},{key:"updateParticipant",value:function(c,m){return this._participants.local&&this._participants.local.session_id===c&&(c="local"),c&&m&&(this.validateParticipantProperties(c,m),this.sendMessageToCallMachine({action:"update-participant",id:c,properties:m})),this}},{key:"updateParticipants",value:function(c){var m=this._participants.local&&this._participants.local.session_id;for(var v in c)v===m&&(v="local"),v&&c[v]&&this.validateParticipantProperties(v,c[v]);return this.sendMessageToCallMachine({action:"update-participants",participants:c}),this}},{key:"updateWaitingParticipant",value:(we=le(function*(){var c=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($t(this._callObjectMode,"updateWaitingParticipant()"),$e(this._callState,"updateWaitingParticipant()"),typeof m!="string"||je(v)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(S,k){c.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:m,updates:v},function(j){j.error&&k(j.error),j.id||k(new Error("unknown error in updateWaitingParticipant()")),S({id:j.id})})})}),function(){return we.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(ve=le(function*(){var c=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if($t(this._callObjectMode,"updateWaitingParticipants()"),$e(this._callState,"updateWaitingParticipants()"),je(m)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(v,S){c.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:m},function(k){k.error&&S(k.error),k.ids||S(new Error("unknown error in updateWaitingParticipants()")),v({ids:k.ids})})})}),function(){return ve.apply(this,arguments)})},{key:"requestAccess",value:(X=le(function*(){var c=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=m.access,S=v===void 0?{level:xp}:v,k=m.name,j=k===void 0?"":k;return $t(this._callObjectMode,"requestAccess()"),$e(this._callState,"requestAccess()"),new Promise(function(M,F){c.sendMessageToCallMachine({action:"daily-method-request-access",access:S,name:j},function(G){G.error&&F(G.error),G.access||F(new Error("unknown error in requestAccess()")),M({access:G.access,granted:G.granted})})})}),function(){return X.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in m&&(xe()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),m={}):c&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),m={})),this.sendMessageToCallMachine({action:"local-audio",state:c,options:m}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(c){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:c}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(c){return this.sendMessageToCallMachine({action:"local-video",state:c}),this}},{key:"_setAllowLocalAudio",value:function(c){if(this._preloadCache.allowLocalAudio=c,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:c}),this}},{key:"_setAllowLocalVideo",value:function(c){if(this._preloadCache.allowLocalVideo=c,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:c}),this}},{key:"getReceiveSettings",value:(Q=le(function*(c){var m=this,v=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,S=v!==void 0&&v;if($t(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(je(c)){case"string":return new Promise(function(k){m.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:c,showInheritedValues:S},function(j){k(j.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(c){return Q.apply(this,arguments)})},{key:"updateReceiveSettings",value:(Y=le(function*(c){var m=this;if($t(this._callObjectMode,"updateReceiveSettings()"),!Uv(c,{allowAllParticipantsKey:!0}))throw new Error(Bv({allowAllParticipantsKey:!0}));return $e(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(v){m.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:c},function(S){v({receiveSettings:S.receiveSettings})})})}),function(c){return Y.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(c,m){if(c){var v={};if(c.audio){var S,k,j,M;c.audio.settings&&(!Object.keys(c.audio.settings).length&&m||(v.audio={settings:se({},c.audio.settings)})),m&&(S=v.audio)!==null&&S!==void 0&&(k=S.settings)!==null&&k!==void 0&&k.customTrack&&(v.audio.settings={customTrack:this._sharedTracks.audioTrack});var F=((j=c.audio.processor)===null||j===void 0?void 0:j.type)==="none"&&((M=c.audio.processor)===null||M===void 0?void 0:M._isDefaultWhenNone);if(c.audio.processor&&!F){var G=se({},c.audio.processor);delete G._isDefaultWhenNone,v.audio=se(se({},v.audio),{},{processor:G})}}if(c.video){var ae,ee,ke,oe;c.video.settings&&(!Object.keys(c.video.settings).length&&m||(v.video={settings:se({},c.video.settings)})),m&&(ae=v.video)!==null&&ae!==void 0&&(ee=ae.settings)!==null&&ee!==void 0&&ee.customTrack&&(v.video.settings={customTrack:this._sharedTracks.videoTrack});var Ee=((ke=c.video.processor)===null||ke===void 0?void 0:ke.type)==="none"&&((oe=c.video.processor)===null||oe===void 0?void 0:oe._isDefaultWhenNone);if(c.video.processor&&!Ee){var Ie=se({},c.video.processor);delete Ie._isDefaultWhenNone,v.video=se(se({},v.video),{},{processor:Ie})}}return v}}},{key:"getInputSettings",value:function(){var c=this;return Oe(),new Promise(function(m){m(c._getInputSettings())})}},{key:"_getInputSettings",value:function(){var c,m,v,S,k,j,M,F,G={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(c=((v=this._inputSettings)===null||v===void 0?void 0:v.video)||G,m=((S=this._inputSettings)===null||S===void 0?void 0:S.audio)||G):(c=((k=this._preloadCache)===null||k===void 0||(j=k.inputSettings)===null||j===void 0?void 0:j.video)||G,m=((M=this._preloadCache)===null||M===void 0||(F=M.inputSettings)===null||F===void 0?void 0:F.audio)||G);var ae={audio:m,video:c};return this._prepInputSettingsForSharing(ae,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(c,m){var v=this._inputSettings||{},S={};if(c.video){var k,j,M;S.video={},c.video.settings?(S.video.settings={},m||c.video.settings.customTrack||(M=v.video)===null||M===void 0||!M.settings?S.video.settings=c.video.settings:S.video.settings=se(se({},v.video.settings),c.video.settings),Object.keys(S.video.settings).length||delete S.video.settings):(k=v.video)!==null&&k!==void 0&&k.settings&&(S.video.settings=v.video.settings),c.video.processor?S.video.processor=c.video.processor:(j=v.video)!==null&&j!==void 0&&j.processor&&(S.video.processor=v.video.processor)}else v.video&&(S.video=v.video);if(c.audio){var F,G,ae;S.audio={},c.audio.settings?(S.audio.settings={},m||c.audio.settings.customTrack||(ae=v.audio)===null||ae===void 0||!ae.settings?S.audio.settings=c.audio.settings:S.audio.settings=se(se({},v.audio.settings),c.audio.settings),Object.keys(S.audio.settings).length||delete S.audio.settings):(F=v.audio)!==null&&F!==void 0&&F.settings&&(S.audio.settings=v.audio.settings),c.audio.processor?S.audio.processor=c.audio.processor:(G=v.audio)!==null&&G!==void 0&&G.processor&&(S.audio.processor=v.audio.processor)}else v.audio&&(S.audio=v.audio);this._maybeUpdateInputSettings(S)}},{key:"_devicesFromInputSettings",value:function(c){var m,v,S,k,j=(c==null||(m=c.video)===null||m===void 0||(v=m.settings)===null||v===void 0?void 0:v.deviceId)||null,M=(c==null||(S=c.audio)===null||S===void 0||(k=S.settings)===null||k===void 0?void 0:k.deviceId)||null,F=this._preloadCache.outputDeviceId||null;return{camera:j?{deviceId:j}:{},mic:M?{deviceId:M}:{},speaker:F?{deviceId:F}:{}}}},{key:"updateInputSettings",value:(B=le(function*(c){var m=this;return Oe(),qv(c)?c.video||c.audio?(zv(c,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(c,!0),this._getInputSettings()):new Promise(function(v,S){m.sendMessageToCallMachine({action:"update-input-settings",inputSettings:c},function(k){if(k.error)S(k.error);else{if(k.returnPreloadCache)return m._updatePreloadCacheInputSettings(c,!0),void v(m._getInputSettings());m._maybeUpdateInputSettings(k.inputSettings),v(m._prepInputSettingsForSharing(k.inputSettings,!0))}})})):this._getInputSettings():(console.error(wl()),Promise.reject(wl()))}),function(c){return B.apply(this,arguments)})},{key:"setBandwidth",value:function(c){var m=c.kbs,v=c.trackConstraints;if(Oe(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:m,trackConstraints:v}),this}},{key:"getDailyLang",value:function(){var c=this;if(Oe(),this._callMachineInitialized)return new Promise(function(m){c.sendMessageToCallMachine({action:"get-daily-lang"},function(v){delete v.action,delete v.callbackStamp,m(v)})})}},{key:"setDailyLang",value:function(c){return Oe(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:c}),this}},{key:"setProxyUrl",value:function(c){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:c}),this}},{key:"setIceConfig",value:function(c){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:c}),this}},{key:"meetingSessionSummary",value:function(){return[zr,vr].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(q=le(function*(){var c=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),$e(this._callState,"getMeetingSession()"),new Promise(function(m){c.sendMessageToCallMachine({action:"get-meeting-session"},function(v){delete v.action,delete v.callbackStamp,m(v)})})}),function(){return q.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return $e(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";$t(this._callObjectMode,"setMeetingSessionData()"),$e(this._callState,"setMeetingSessionData");try{(function(v,S){new qS({data:v,mergeStrategy:S})})(c,m)}catch(v){throw console.error(v),v}try{this.sendMessageToCallMachine({action:"set-session-data",data:c,mergeStrategy:m})}catch(v){throw new Error("Error setting meeting session data: ".concat(v))}}},{key:"setUserName",value:function(c,m){var v=this;return this.properties.userName=c,new Promise(function(S){v.sendMessageToCallMachine({action:"set-user-name",name:c??"",thisMeetingOnly:xe()||!!m&&!!m.thisMeetingOnly},function(k){delete k.action,delete k.callbackStamp,S(k)})})}},{key:"setUserData",value:(L=le(function*(c){var m=this;try{$v(c)}catch(v){throw console.error(v),v}if(this.properties.userData=c,this._callMachineInitialized)return new Promise(function(v){try{m.sendMessageToCallMachine({action:"set-user-data",userData:c},function(S){delete S.action,delete S.callbackStamp,v(S)})}catch(S){throw new Error("Error setting user data: ".concat(S))}})}),function(c){return L.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(c){if(c&&(c<100||typeof c!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(c){var m=this;if(typeof AudioWorkletNode>"u"&&!xe())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(c),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(v,S){m.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:c},function(k){m._isLocalAudioLevelObserverRunning=!k.error,k.error?S({error:k.error}):v()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:c}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(c){var m=this;if(this.validateAudioLevelInterval(c),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(v,S){m.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:c},function(k){m._isRemoteParticipantsAudioLevelObserverRunning=!k.error,k.error?S({error:k.error}):v()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:c}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(W=le(function*(){var c=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if($t(this._callObjectMode,"startCamera()"),ao(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(m)}catch(v){return Promise.reject(v)}else{if(this._didPreAuth){if(m.url&&m.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(m.token&&m.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(m),this.properties=se(se({},this.properties),m)}return new Promise(function(v){c._preloadCache.inputSettings=c._prepInputSettingsForSharing(c._inputSettings,!1),c.sendMessageToCallMachine({action:"start-camera",properties:$n(c.properties,c.callClientId),preloadCache:$n(c._preloadCache,c.callClientId)},function(S){v({camera:S.camera,mic:S.mic,speaker:S.speaker})})})}),function(){return W.apply(this,arguments)})},{key:"validateCustomTrack",value:function(c,m,v){if(v&&v.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(m&&m!=="music"&&m!=="speech"&&!(m instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(v&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(v))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(c instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var c=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName};return Oe(),$e(this._callState,"startCustomTrack()"),this.validateCustomTrack(m.track,m.mode,m.trackName),new Promise(function(v,S){c._sharedTracks.customTrack=m.track,m.track=Er,c.sendMessageToCallMachine({action:"start-custom-track",properties:m},function(k){k.error?S({error:k.error}):v(k.mediaTag)})})}},{key:"stopCustomTrack",value:function(c){var m=this;return Oe(),$e(this._callState,"stopCustomTrack()"),new Promise(function(v){m.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:c},function(S){v(S.mediaTag)})})}},{key:"setCamera",value:function(c){var m=this;return bi(),ys(this._callMachineInitialized,"setCamera()"),new Promise(function(v){m.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:c},function(S){v({device:S.device})})})}},{key:"setAudioDevice",value:(N=le(function*(c){return bi(),this.nativeUtils().setAudioDevice(c),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(c){return N.apply(this,arguments)})},{key:"cycleCamera",value:function(){var c=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(v){c.sendMessageToCallMachine({action:"cycle-camera",properties:m},function(S){v({device:S.device})})})}},{key:"cycleMic",value:function(){var c=this;return Oe(),new Promise(function(m){c.sendMessageToCallMachine({action:"cycle-mic"},function(v){m({device:v.device})})})}},{key:"getCameraFacingMode",value:function(){var c=this;return bi(),new Promise(function(m){c.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(v){m(v.facingMode)})})}},{key:"setInputDevicesAsync",value:(U=le(function*(c){var m=this,v=c.audioDeviceId,S=c.videoDeviceId,k=c.audioSource,j=c.videoSource;if(Oe(),k!==void 0&&(v=k),j!==void 0&&(S=j),typeof v=="boolean"&&(this._setAllowLocalAudio(v),v=void 0),typeof S=="boolean"&&(this._setAllowLocalVideo(S),S=void 0),!v&&!S)return yield this.getInputDevices();var M={};return v&&(v instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=v,v=Er,M.audio={settings:{customTrack:v}}):(delete this._sharedTracks.audioTrack,M.audio={settings:{deviceId:v}})),S&&(S instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=S,S=Er,M.video={settings:{customTrack:S}}):(delete this._sharedTracks.videoTrack,M.video={settings:{deviceId:S}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(M,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(F){m.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:v,videoDeviceId:S},function(G){if(delete G.action,delete G.callbackStamp,G.returnPreloadCache)return m._updatePreloadCacheInputSettings(M,!1),void F(m._devicesFromInputSettings(m._inputSettings));F(G)})})}),function(c){return U.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(V=le(function*(c){var m=this,v=c.outputDeviceId;return Oe(),v&&(this._preloadCache.outputDeviceId=v),this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(S){m.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:v},function(k){delete k.action,delete k.callbackStamp,k.returnPreloadCache?S(m._devicesFromInputSettings(m._inputSettings)):S(k)})})}),function(c){return V.apply(this,arguments)})},{key:"getInputDevices",value:(R=le(function*(){var c=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(m){c.sendMessageToCallMachine({action:"get-input-devices"},function(v){v.returnPreloadCache?m(c._devicesFromInputSettings(c._inputSettings)):m({camera:v.camera,mic:v.mic,speaker:v.speaker})})})}),function(){return R.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return bi(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(c){if(bi(),[ef,oE].includes(c)){if(c!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=c,!this.disableReactNativeAutoDeviceManagement("audio")&&xs(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",c)}},{key:"preAuth",value:(x=le(function*(){var c=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if($t(this._callObjectMode,"preAuth()"),ao(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(m)),!m.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(m),this.properties=se(se({},this.properties),m),new Promise(function(v,S){c._preloadCache.inputSettings=c._prepInputSettingsForSharing(c._inputSettings,!1),c.sendMessageToCallMachine({action:"daily-method-preauth",properties:$n(c.properties,c.callClientId),preloadCache:$n(c._preloadCache,c.callClientId)},function(k){return k.error?S(k.error):k.access?(c._didPreAuth=!0,void v({access:k.access})):S(new Error("unknown error in preAuth()"))})})}),function(){return x.apply(this,arguments)})},{key:"load",value:(T=le(function*(c){var m=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(c&&(this.validateProperties(c),this.properties=se(se({},this.properties),c)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(Md),this.emitDailyJSEvent({action:Np}),this._callObjectMode?new Promise(function(v,S){m._callObjectLoader.cancel();var k=Date.now();m._callObjectLoader.load(m.properties.dailyConfig,function(j){m._bundleLoadTime=j?"no-op":Date.now()-k,m._updateCallState(Id),j&&m.emitDailyJSEvent({action:cl}),v()},function(j,M){if(m.emitDailyJSEvent({action:Fp}),!M){m._updateCallState(vr),m.resetMeetingDependentVars();var F={action:pl,errorMsg:j.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:j,bundleUrl:Js(m.properties.dailyConfig)}}};m._maybeSendToSentry(F),m.emitDailyJSEvent(F),S(j.msg)}})}):(this._iframe.src=vp(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(v,S){m._loadedCallback=function(k){m._callState!==vr?(m._updateCallState(Id),(m.properties.cssFile||m.properties.cssText)&&m.loadCss(m.properties),v()):S(k)}}))}}),function(c){return T.apply(this,arguments)})},{key:"join",value:(E=le(function*(){var c=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var v=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(m)}catch(S){return this.updateIsPreparingToJoin(!1),Promise.reject(S)}}else{if(v=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(m.url&&m.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(m.token&&m.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(m.url&&!this._callObjectMode&&m.url&&m.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(m.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(m),this.properties=se(se({},this.properties),m)}return m.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!m.showLocalVideo),m.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!m.showParticipantsBar),this._callState===Hr||this._callState===Xs?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(Xs,!1),this.emitDailyJSEvent({action:qp}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:$n(this.properties,this.callClientId),preloadCache:$n(this._preloadCache,this.callClientId)}),new Promise(function(S,k){c._joinedCallback=function(j,M){if(c._callState!==vr){if(c._updateCallState(Hr),j)for(var F in j){if(c._callObjectMode){var G=c._callMachine().store;Wd(j[F],G),Gd(j[F],G),Hd(j[F],c._participants[F],G)}c._participants[F]=se({},j[F]),c.toggleParticipantAudioBasedOnNativeAudioFocus()}v&&c.loadCss(c.properties),S(j)}else k(M)}}))}),function(){return E.apply(this,arguments)})},{key:"leave",value:(b=le(function*(){var c=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(m){c._callState===zr||c._callState===vr?m():c._callObjectLoader&&!c._callObjectLoader.loaded?(c._callObjectLoader.cancel(),c._updateCallState(zr),c.resetMeetingDependentVars(),c.emitDailyJSEvent({action:zr}),m()):(c._resolveLeave=m,c.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return b.apply(this,arguments)})},{key:"startScreenShare",value:(A=le(function*(){var c=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(ys(this._callMachineInitialized,"startScreenShare()"),m.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",m.screenVideoSendSettings),m.mediaStream&&(this._sharedTracks.screenMediaStream=m.mediaStream,m.mediaStream=Er),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var v=this.nativeUtils();if(yield v.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:hl,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});v.setSystemScreenCaptureStartCallback(function(){v.setSystemScreenCaptureStartCallback(null),c.sendMessageToCallMachine({action:Rd,captureOptions:m})}),v.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:Rd,captureOptions:m})}),function(){return A.apply(this,arguments)})},{key:"stopScreenShare",value:function(){ys(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=c.type;if(m&&m!=="cloud"&&m!=="raw-tracks"&&m!=="local")throw new Error("invalid type: ".concat(m,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(se({action:"local-recording-start"},c))}},{key:"updateRecording",value:function(c){var m=c.layout,v=m===void 0?{preset:"default"}:m,S=c.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:v,instanceId:S})}},{key:"stopRecording",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(se({action:"local-recording-stop"},c))}},{key:"startLiveStreaming",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(se({action:"daily-method-start-live-streaming"},c))}},{key:"updateLiveStreaming",value:function(c){var m=c.layout,v=m===void 0?{preset:"default"}:m,S=c.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:v,instanceId:S})}},{key:"addLiveStreamingEndpoints",value:function(c){var m=c.endpoints,v=c.instanceId;this.sendMessageToCallMachine({action:Dd,endpointsOp:IS,endpoints:m,instanceId:v})}},{key:"removeLiveStreamingEndpoints",value:function(c){var m=c.endpoints,v=c.instanceId;this.sendMessageToCallMachine({action:Dd,endpointsOp:jS,endpoints:m,instanceId:v})}},{key:"stopLiveStreaming",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(se({action:"daily-method-stop-live-streaming"},c))}},{key:"validateDailyConfig",value:function(c){c.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(c.camSimulcastEncodings)),c.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),Iv()&&c.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(c){if(!(c instanceof Array||Array.isArray(c)))throw new Error("encodings must be an Array");if(!cf(c.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var S=0;S<c.length;S++){var k=c[S];for(var j in this._validateEncodingLayerHasValidProperties(k),k)if(so.includes(j)){if(typeof k[j]!="number")throw new Error("".concat(j," must be a number"));if(m){var M=m[j],F=M.min,G=M.max;if(!cf(k[j],F,G))throw new Error("".concat(j," value not in range. valid range: ").concat(F," to ").concat(G))}}else if(!["active","scalabilityMode"].includes(j))throw new Error("Invalid key ".concat(j,", valid keys are:")+Object.values(so));if(v&&!k.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(C=le(function*(c){var m=this,v=c.url,S=c.settings,k=S===void 0?{state:vl.PLAY}:S;try{(function(j){if(typeof j!="string")throw new Error('url parameter must be "string" type')})(v),lf(k),function(j){for(var M in j)if(!nf.includes(M))throw new Error("Invalid key ".concat(M,", valid keys are: ").concat(nf));j.simulcastEncodings&&this.validateSimulcastEncodings(j.simulcastEncodings,Fv,!0)}(k)}catch(j){throw console.error("invalid argument Error: ".concat(j)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),j}return new Promise(function(j,M){m.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:v,settings:k},function(F){F.error?M({error:F.error,errorMsg:F.errorMsg}):j({session_id:F.session_id,remoteMediaPlayerState:{state:F.state,settings:F.settings}})})})}),function(c){return C.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(O=le(function*(c){var m=this;if(typeof c!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(v,S){m.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:c},function(k){k.error?S({error:k.error,errorMsg:k.errorMsg}):v()})})}),function(c){return O.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(w=le(function*(c){var m=this,v=c.session_id,S=c.settings;try{lf(S)}catch(k){throw console.error("invalid argument Error: ".concat(k)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),k}return new Promise(function(k,j){m.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:v,settings:S},function(M){M.error?j({error:M.error,errorMsg:M.errorMsg}):k({session_id:M.session_id,remoteMediaPlayerState:{state:M.state,settings:M.settings}})})})}),function(c){return w.apply(this,arguments)})},{key:"startTranscription",value:function(c){$e(this._callState,"startTranscription()"),this.sendMessageToCallMachine(se({action:"daily-method-start-transcription"},c))}},{key:"updateTranscription",value:function(c){if($e(this._callState,"updateTranscription()"),!c)throw new Error("updateTranscription Error: options is mandatory");if(je(c)!=="object")throw new Error("updateTranscription Error: options must be object type");if(c.participants&&!Array.isArray(c.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(se({action:"daily-method-update-transcription"},c))}},{key:"stopTranscription",value:function(c){if($e(this._callState,"stopTranscription()"),c&&je(c)!=="object")throw new Error("stopTranscription Error: options must be object type");if(c&&!c.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(se({action:"daily-method-stop-transcription"},c))}},{key:"startDialOut",value:(_=le(function*(c){var m=this;$e(this._callState,"startDialOut()");var v=function(S){if(S){if(!Array.isArray(S))throw new Error("Error starting dial out: audio codec must be an array");if(S.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");S.forEach(function(k){if(typeof k!="string")throw new Error("Error starting dial out: audio codec must be a string");if(k!=="OPUS"&&k!=="PCMU"&&k!=="PCMA"&&k!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!c.sipUri&&!c.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(c.sipUri&&c.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(c.sipUri){if(typeof c.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!c.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(c.video&&typeof c.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(S){if(S&&(v(S.audio),S.video)){if(!Array.isArray(S.video))throw new Error("Error starting dial out: video codec must be an array");if(S.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");S.video.forEach(function(k){if(typeof k!="string")throw new Error("Error starting dial out: video codec must be a string");if(k!=="H264"&&k!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(c.codecs)}if(c.phoneNumber){if(typeof c.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(c.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");c.codecs&&v(c.codecs.audio)}if(c.callerId){if(typeof c.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(c.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(c.displayName){if(typeof c.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(c.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(c.userId){if(typeof c.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(c.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}return new Promise(function(S,k){m.sendMessageToCallMachine(se({action:"dialout-start"},c),function(j){j.error?k(j.error):S(j)})})}),function(c){return _.apply(this,arguments)})},{key:"stopDialOut",value:function(c){var m=this;return $e(this._callState,"stopDialOut()"),new Promise(function(v,S){m.sendMessageToCallMachine(se({action:"dialout-stop"},c),function(k){k.error?S(k.error):v(k)})})}},{key:"sipCallTransfer",value:(y=le(function*(c){var m=this;if($e(this._callState,"sipCallTransfer()"),!c)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return c.useSipRefer=!1,of(c,"sipCallTransfer"),new Promise(function(v,S){m.sendMessageToCallMachine(se({action:Nd},c),function(k){k.error?S(k.error):v(k)})})}),function(c){return y.apply(this,arguments)})},{key:"sipRefer",value:(g=le(function*(c){var m=this;if($e(this._callState,"sipRefer()"),!c)throw new Error("sessionId and toEndPoint are mandatory parameter");return c.useSipRefer=!0,of(c,"sipRefer"),new Promise(function(v,S){m.sendMessageToCallMachine(se({action:Nd},c),function(k){k.error?S(k.error):v(k)})})}),function(c){return g.apply(this,arguments)})},{key:"sendDTMF",value:(h=le(function*(c){var m=this;return $e(this._callState,"sendDTMF()"),function(v){var S=v.sessionId,k=v.tones;if(!S||!k)throw new Error("sessionId and tones are mandatory parameter");if(typeof S!="string"||typeof k!="string")throw new Error("sessionId and tones should be of string type");if(k.length>20)throw new Error("tones string must be upto 20 characters");var j=/[^0-9A-D*#]/g,M=k.match(j);if(M&&M[0])throw new Error("".concat(M[0]," is not valid DTMF tone"))}(c),new Promise(function(v,S){m.sendMessageToCallMachine(se({action:"send-dtmf"},c),function(k){k.error?S(k.error):v(k)})})}),function(c){return h.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var c=this;return this._callState!==Hr?{stats:{latest:{}}}:new Promise(function(m){c.sendMessageToCallMachine({action:"get-calc-stats"},function(v){m(se({stats:v.stats},c._network))})})}},{key:"testWebsocketConnectivity",value:(f=le(function*(){var c=this;if(oo(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(m){return Promise.reject(m)}return new Promise(function(m,v){c.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(S){S.error?v(S.error):m(S.results)})})}),function(){return f.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(c){return c?c instanceof MediaStreamTrack?!!nE(c)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(d=le(function*(){var c=this;Oe(),$t(this._callObjectMode,"testCallQuality()"),ys(this._callMachineInitialized,"testCallQuality()",null,!0),ao(this._callState,this._isPreparingToJoin,"testCallQuality()");var m=this._testCallAlreadyInProgress,v=function(k){m||(c._testCallInProgress=k)};if(v(!0),this.needsLoad())try{var S=this._callState;yield this.load(),this._callState=S}catch(k){return v(!1),Promise.reject(k)}return new Promise(function(k){c.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:c.properties.dailyJsVersion},function(j){var M=j.results,F=M.result,G=Su(M,iE);if(F==="failed"){var ae,ee=se({},G);(ae=G.error)!==null&&ae!==void 0&&ae.details?(G.error.details=JSON.parse(G.error.details),ee.error=se(se({},ee.error),{},{details:se({},ee.error.details)}),ee.error.details.duringTest="testCallQuality"):(ee.error=ee.error?se({},ee.error):{},ee.error.details={duringTest:"testCallQuality"}),c._maybeSendToSentry(ee)}v(!1),k(se({result:F},G))})})}),function(){return d.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(u=le(function*(c){var m;xe()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),m=yield this.testPeerToPeerCallQuality(c)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),m=yield this.testCallQuality());var v={result:m.result,secondsElapsed:m.secondsElapsed};return m.data&&(v.data={maxRTT:m.data.maxRoundTripTime,packetLoss:m.data.avgRecvPacketLoss}),v}),function(c){return u.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(l=le(function*(c){var m=this;if(oo(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(k){return Promise.reject(k)}var v=c.videoTrack,S=c.duration;if(!this._validateVideoTrackForNetworkTests(v))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=v,new Promise(function(k,j){m.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:S},function(M){M.error?j(M.error):k(M.results)})})}),function(c){return l.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){xe()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(o=le(function*(c){var m=this;if(oo(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(v){return Promise.reject(v)}if(!this._validateVideoTrackForNetworkTests(c))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=c,new Promise(function(v,S){m.sendMessageToCallMachine({action:"test-network-connectivity"},function(k){k.error?S(k.error):v(k.results)})})}),function(c){return o.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var c=this;return new Promise(function(m){c._callState===Hr?c.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(v){m(v.cpuStats)}):m({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(c){var m;if(!(((m=Object.keys(c))===null||m===void 0?void 0:m.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(so))}},{key:"_validateVideoSendSettings",value:function(c,m){var v=c==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],S="Video send settings should be either an object or one of the supported presets: ".concat(v.join());if(typeof m=="string"){if(!v.includes(m))throw new Error(S)}else{if(je(m)!=="object")throw new Error(S);if(!m.maxQuality&&!m.encodings&&m.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(m.maxQuality&&["low","medium","high"].indexOf(m.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(m.encodings){var k=!1;switch(Object.keys(m.encodings).length){case 1:k=!m.encodings.low;break;case 2:k=!m.encodings.low||!m.encodings.medium;break;case 3:k=!m.encodings.low||!m.encodings.medium||!m.encodings.high;break;default:k=!0}if(k)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");m.encodings.low&&this._validateEncodingLayerHasValidProperties(m.encodings.low),m.encodings.medium&&this._validateEncodingLayerHasValidProperties(m.encodings.medium),m.encodings.high&&this._validateEncodingLayerHasValidProperties(m.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(c){var m=this;if(!c||Object.keys(c).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(c).forEach(function(v){var S=lr(v,2),k=S[0],j=S[1];m._validateVideoSendSettings(k,j)})}},{key:"updateSendSettings",value:function(c){var m=this;return this.validateUpdateSendSettings(c),this.needsLoad()?(this._preloadCache.sendSettings=c,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(v,S){m.sendMessageToCallMachine({action:"update-send-settings",sendSettings:c},function(k){k.error?S(k.error):v(k.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return Oe(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(c){return Oe(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:c}),this}},{key:"activeSpeakerMode",value:function(){return Oe(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(c){return $e(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=c,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:c}),this}},{key:"enumerateDevices",value:(a=le(function*(){var c=this;if(this._callObjectMode){var m=yield navigator.mediaDevices.enumerateDevices();return An()==="Firefox"&&Zs().major>115&&Zs().major<123&&(m=m.filter(function(v){return v.kind!=="audiooutput"})),{devices:m.map(function(v){var S=JSON.parse(JSON.stringify(v));if(!xe()&&v.kind==="videoinput"&&v.getCapabilities){var k,j=v.getCapabilities();S.facing=(j==null||(k=j.facingMode)===null||k===void 0?void 0:k.length)>=1?j.facingMode[0]:void 0}return S})}}return new Promise(function(v){c.sendMessageToCallMachine({action:"enumerate-devices"},function(S){v({devices:S.devices})})})}),function(){return a.apply(this,arguments)})},{key:"sendAppMessage",value:function(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if($e(this._callState,"sendAppMessage()"),JSON.stringify(c).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:c,to:m}),this}},{key:"addFakeParticipant",value:function(c){return Oe(),$e(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(se({action:"add-fake-participant"},c)),this}},{key:"setShowNamesMode",value:function(c){return Et(this._callObjectMode,"setShowNamesMode()"),Oe(),c&&c!=="always"&&c!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:c}),this)}},{key:"setShowLocalVideo",value:function(){var c=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Et(this._callObjectMode,"setShowLocalVideo()"),Oe(),$e(this._callState,"setShowLocalVideo()"),typeof c!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:c}),this._showLocalVideo=c,this)}},{key:"showLocalVideo",value:function(){return Et(this._callObjectMode,"showLocalVideo()"),Oe(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var c=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Et(this._callObjectMode,"setShowParticipantsBar()"),Oe(),$e(this._callState,"setShowParticipantsBar()"),typeof c!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:c}),this._showParticipantsBar=c,this)}},{key:"showParticipantsBar",value:function(){return Et(this._callObjectMode,"showParticipantsBar()"),Oe(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return Oe(),Et(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(c){return Oe(),Et(this._callObjectMode,"setCustomIntegrations()"),$e(this._callState,"setCustomIntegrations()"),Wv(c)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:c}),this._customIntegrations=c,this):this}},{key:"startCustomIntegrations",value:function(c){var m=this;if(Oe(),Et(this._callObjectMode,"startCustomIntegrations()"),$e(this._callState,"startCustomIntegrations()"),Array.isArray(c)&&c.some(function(k){return typeof k!="string"})||!Array.isArray(c)&&typeof c!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var v=typeof c=="string"?[c]:c,S=v.filter(function(k){return!(k in m._customIntegrations)});return S.length?(console.error(`Can't find custom integration(s): "`.concat(S.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:v}),this)}},{key:"stopCustomIntegrations",value:function(c){var m=this;if(Oe(),Et(this._callObjectMode,"stopCustomIntegrations()"),$e(this._callState,"stopCustomIntegrations()"),Array.isArray(c)&&c.some(function(k){return typeof k!="string"})||!Array.isArray(c)&&typeof c!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var v=typeof c=="string"?[c]:c,S=v.filter(function(k){return!(k in m._customIntegrations)});return S.length?(console.error(`Can't find custom integration(s): "`.concat(S.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:v}),this)}},{key:"customTrayButtons",value:function(){return Et(this._callObjectMode,"customTrayButtons()"),Oe(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(c){return Et(this._callObjectMode,"updateCustomTrayButtons()"),Oe(),$e(this._callState,"updateCustomTrayButtons()"),Jv(c)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:c}),this._customTrayButtons=c,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(ta))),this)}},{key:"theme",value:function(){return Et(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(c){var m=this;return Et(this._callObjectMode,"setTheme()"),new Promise(function(v,S){try{m.validateProperties({theme:c}),m.properties.theme=se({},c),m.sendMessageToCallMachine({action:"set-theme",theme:m.properties.theme});try{m.emitDailyJSEvent({action:Dp,theme:m.properties.theme})}catch(k){console.log("could not emit 'theme-updated'",k)}v(m.properties.theme)}catch(k){S(k)}})}},{key:"requestFullscreen",value:(i=le(function*(){if(Oe(),this._iframe&&!document.fullscreenElement&&Fd())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(c){console.log("could not make video call fullscreen",c)}}),function(){return i.apply(this,arguments)})},{key:"exitFullscreen",value:function(){Oe(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(s=le(function*(){var c=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(m){c.sendMessageToCallMachine({action:"get-sidebar-view"},function(v){m(v.view)})})}),function(){return s.apply(this,arguments)})},{key:"setSidebarView",value:function(c){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:c}),this)}},{key:"room",value:(n=le(function*(){var c=this,m=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,v=m===void 0||m;return this._accessState.access===Os||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(S){c.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:v},function(k){delete k.action,delete k.callbackStamp,S(k)})})}),function(){return n.apply(this,arguments)})},{key:"geo",value:(r=le(function*(){try{var c=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield c.json()).geo}}catch(m){return console.error("geo lookup failed",m),{current:""}}}),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(e=le(function*(c){var m=this;return Oe(),$e(this._callState,"setNetworkTopology()"),new Promise(function(v,S){m.sendMessageToCallMachine({action:"set-network-topology",opts:c},function(k){k.error?S({error:k.error}):v({workerId:k.workerId})})})}),function(c){return e.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=le(function*(){var c=this;return new Promise(function(m,v){c.needsLoad()&&m({topology:"none"}),c.sendMessageToCallMachine({action:"get-network-topology"},function(S){S.error?v({error:S.error}):m({topology:S.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(c){if(Oe(),typeof c!="number"&&c!==!0&&c!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(c));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:c})}},{key:"on",value:function(c,m){return kr.prototype.on.call(this,c,m)}},{key:"once",value:function(c,m){return kr.prototype.once.call(this,c,m)}},{key:"off",value:function(c,m){return kr.prototype.off.call(this,c,m)}},{key:"validateProperties",value:function(c){var m,v;if(c!=null&&(m=c.dailyConfig)!==null&&m!==void 0&&m.userMediaAudioConstraints){var S,k,j;xe()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var M=c.inputSettings||{};M.audio=((S=c.inputSettings)===null||S===void 0?void 0:S.audio)||{},M.audio.settings=((k=c.inputSettings)===null||k===void 0||(j=k.audio)===null||j===void 0?void 0:j.settings)||{},M.audio.settings=se(se({},M.audio.settings),c.dailyConfig.userMediaAudioConstraints),c.inputSettings=M,delete c.dailyConfig.userMediaAudioConstraints}if(c!=null&&(v=c.dailyConfig)!==null&&v!==void 0&&v.userMediaVideoConstraints){var F,G,ae;xe()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var ee=c.inputSettings||{};ee.video=((F=c.inputSettings)===null||F===void 0?void 0:F.video)||{},ee.video.settings=((G=c.inputSettings)===null||G===void 0||(ae=G.video)===null||ae===void 0?void 0:ae.settings)||{},ee.video.settings=se(se({},ee.video.settings),c.dailyConfig.userMediaVideoConstraints),c.inputSettings=ee,delete c.dailyConfig.userMediaVideoConstraints}for(var ke in c){if(!un[ke])throw new Error("unrecognized property '".concat(ke,"'"));if(un[ke].validate&&!un[ke].validate(c[ke],this))throw new Error("property '".concat(ke,"': ").concat(un[ke].help))}}},{key:"assembleMeetingUrl",value:function(){var c,m,v=se(se({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(c=this.properties.dailyConfig)!==null&&c!==void 0&&c.proxyUrl?encodeURIComponent((m=this.properties.dailyConfig)===null||m===void 0?void 0:m.proxyUrl):void 0}),S=v.url.match(/\?/)?"&":"?";return v.url+S+Object.keys(un).filter(function(k){return un[k].queryString&&v[k]!==void 0}).map(function(k){return"".concat(un[k].queryString,"=").concat(v[k])}).join("&")}},{key:"needsLoad",value:function(){return[ol,Md,zr,vr].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(c,m){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(c,m,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(c){this._messageChannel.forwardPackagedMessageToCallMachine(c,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(c){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(c,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(c){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(c)}},{key:"handleMessageFromCallMachine",value:function(c){switch(c.action){case jp:this.sendMessageToCallMachine(se({action:Rp},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var m={action:vs,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:Js(this.properties.dailyConfig)}};this.sendMessageToCallMachine(m),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case cl:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(c);break;case zp:var v,S=se({},c);delete S.internal,this._maxAppMessageSize=((v=c.internal)===null||v===void 0?void 0:v._maxAppMessageSize)||eo,this._joinedCallback&&(this._joinedCallback(c.participants),this._joinedCallback=null),this.emitDailyJSEvent(S);break;case Vp:case Jp:if(this._callState===zr)return;if(c.participant&&c.participant.session_id){var k=c.participant.local?"local":c.participant.session_id;if(this._callObjectMode){var j=this._callMachine().store;Wd(c.participant,j),Gd(c.participant,j),Hd(c.participant,this._participants[k],j)}try{this.maybeParticipantTracksStopped(this._participants[k],c.participant),this.maybeParticipantTracksStarted(this._participants[k],c.participant),this.maybeEventRecordingStopped(this._participants[k],c.participant),this.maybeEventRecordingStarted(this._participants[k],c.participant)}catch(st){console.error("track events error",st)}this.compareEqualForParticipantUpdateEvent(c.participant,this._participants[k])||(this._participants[k]=se({},c.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(c))}break;case Wp:if(c.participant&&c.participant.session_id){var M=this._participants[c.participant.session_id];M&&this.maybeParticipantTracksStopped(M,null),delete this._participants[c.participant.session_id],this.emitDailyJSEvent(c)}break;case Gp:gt(this._participantCounts,c.participantCounts)||(this._participantCounts=c.participantCounts,this.emitDailyJSEvent(c));break;case Hp:var F={access:c.access};c.awaitingAccess&&(F.awaitingAccess=c.awaitingAccess),gt(this._accessState,F)||(this._accessState=F,this.emitDailyJSEvent(c));break;case Yp:if(c.meetingSession){this._meetingSessionSummary=c.meetingSession,this.emitDailyJSEvent(c);var G=se(se({},c),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(G)}break;case pl:var ae;this._iframe&&!c.preserveIframe&&(this._iframe.src=""),this._updateCallState(vr),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(c.errorMsg),this._loadedCallback=null),c.preserveIframe;var ee=Su(c,sE);ee!=null&&(ae=ee.error)!==null&&ae!==void 0&&ae.details&&(ee.error.details=JSON.parse(ee.error.details)),this._maybeSendToSentry(c),this._joinedCallback&&(this._joinedCallback(null,ee),this._joinedCallback=null),this.emitDailyJSEvent(ee);break;case Bp:this._callState!==vr&&this._updateCallState(zr),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(c);break;case"selected-devices-updated":c.devices&&this.emitDailyJSEvent(c);break;case _v:var ke=c.threshold,oe=c.quality;ke===this._network.threshold&&oe===this._network.quality||(this._network.quality=oe,this._network.threshold=ke,this.emitDailyJSEvent(c));break;case wv:c&&c.cpuLoadState&&this.emitDailyJSEvent(c);break;case kv:c&&c.faceCounts!==void 0&&this.emitDailyJSEvent(c);break;case gv:var Ee=c.activeSpeaker;this._activeSpeaker.peerId!==Ee.peerId&&(this._activeSpeaker.peerId=Ee.peerId,this.emitDailyJSEvent({action:c.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var Ie=c.show;this._showLocalVideo=Ie,this.emitDailyJSEvent({action:c.action,show:Ie});break;case yv:var Ue=c.enabled;this._activeSpeakerMode!==Ue&&(this._activeSpeakerMode=Ue,this.emitDailyJSEvent({action:c.action,enabled:this._activeSpeakerMode}));break;case Qp:case Xp:case Zp:this._waitingParticipants=c.allWaitingParticipants,this.emitDailyJSEvent({action:c.action,participant:c.participant});break;case Ov:gt(this._receiveSettings,c.receiveSettings)||(this._receiveSettings=c.receiveSettings,this.emitDailyJSEvent({action:c.action,receiveSettings:c.receiveSettings}));break;case fl:this._maybeUpdateInputSettings(c.inputSettings);break;case"send-settings-updated":gt(this._sendSettings,c.sendSettings)||(this._sendSettings=c.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:c.action,sendSettings:c.sendSettings}));break;case"local-audio-level":this._localAudioLevel=c.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(c);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=c.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(c);break;case dv:var Ce=c.session_id;this._rmpPlayerState[Ce]=c.playerState,this.emitDailyJSEvent(c);break;case hv:delete this._rmpPlayerState[c.session_id],this.emitDailyJSEvent(c);break;case fv:var ue=c.session_id,Te=this._rmpPlayerState[ue];Te&&this.compareEqualForRMPUpdateEvent(Te,c.remoteMediaPlayerState)||(this._rmpPlayerState[ue]=c.remoteMediaPlayerState,this.emitDailyJSEvent(c));break;case"custom-button-click":case"sidebar-view-changed":this.emitDailyJSEvent(c);break;case Kp:var qe=this._meetingSessionState.topology!==(c.meetingSessionState&&c.meetingSessionState.topology);this._meetingSessionState=lo(c.meetingSessionState,this._callObjectMode),(this._callObjectMode||qe)&&this.emitDailyJSEvent(c);break;case pv:this._isScreenSharing=!0,this.emitDailyJSEvent(c);break;case vv:case mv:this._isScreenSharing=!1,this.emitDailyJSEvent(c);break;case ul:case dl:case sv:case av:case ov:case rv:case nv:case iv:case $p:case Up:case cv:case uv:case"test-completed":case bv:case lv:case Sv:case Ev:case Tv:case Cv:case hl:case Av:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(c);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(c,m){var v="record";c&&(m.local||m[v]!==!1||c[v]===m[v]||this.emitDailyJSEvent({action:dl}))}},{key:"maybeEventRecordingStarted",value:function(c,m){var v="record";c&&(m.local||m[v]!==!0||c[v]===m[v]||this.emitDailyJSEvent({action:ul}))}},{key:"_trackStatePlayable",value:function(c){return!(!c||c.state!==Pp)}},{key:"_trackChanged",value:function(c,m){return(c==null?void 0:c.id)!==(m==null?void 0:m.id)}},{key:"maybeEventTrackStopped",value:function(c,m,v){var S,k,j=(S=m==null?void 0:m.tracks[c])!==null&&S!==void 0?S:null,M=(k=v==null?void 0:v.tracks[c])!==null&&k!==void 0?k:null,F=j==null?void 0:j.track;if(F){var G=this._trackStatePlayable(j),ae=this._trackStatePlayable(M),ee=this._trackChanged(F,M==null?void 0:M.track);G&&(ae&&!ee||this.emitDailyJSEvent({action:tv,track:F,participant:v??m,type:c}))}}},{key:"maybeEventTrackStarted",value:function(c,m,v){var S,k,j=(S=m==null?void 0:m.tracks[c])!==null&&S!==void 0?S:null,M=(k=v==null?void 0:v.tracks[c])!==null&&k!==void 0?k:null,F=M==null?void 0:M.track;if(F){var G=this._trackStatePlayable(j),ae=this._trackStatePlayable(M),ee=this._trackChanged(j==null?void 0:j.track,F);ae&&(G&&!ee||this.emitDailyJSEvent({action:ev,track:F,participant:v,type:c}))}}},{key:"maybeParticipantTracksStopped",value:function(c,m){if(c)for(var v in c.tracks)this.maybeEventTrackStopped(v,c,m)}},{key:"maybeParticipantTracksStarted",value:function(c,m){if(m)for(var v in m.tracks)this.maybeEventTrackStarted(v,c,m)}},{key:"compareEqualForRMPUpdateEvent",value:function(c,m){var v,S;return c.state===m.state&&((v=c.settings)===null||v===void 0?void 0:v.volume)===((S=m.settings)===null||S===void 0?void 0:S.volume)}},{key:"emitDailyJSEvent",value:function(c){try{c.callClientId=this.callClientId,this.emit(c.action,c)}catch(m){console.log("could not emit",c,m)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(c,m){return!!gt(c,m)&&(!c.videoTrack||!m.videoTrack||c.videoTrack.id===m.videoTrack.id&&c.videoTrack.muted===m.videoTrack.muted&&c.videoTrack.enabled===m.videoTrack.enabled)&&(!c.audioTrack||!m.audioTrack||c.audioTrack.id===m.audioTrack.id&&c.audioTrack.muted===m.audioTrack.muted&&c.audioTrack.enabled===m.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return xe()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(c){this._updateCallState(this._callState,c)}},{key:"_updateCallState",value:function(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(c!==this._callState||m!==this._isPreparingToJoin){var v=this._callState,S=this._isPreparingToJoin;this._callState=c,this._isPreparingToJoin=m;var k=this._callState===Hr;this.updateShowAndroidOngoingMeetingNotification(k);var j=xs(v,S),M=xs(this._callState,this._isPreparingToJoin);j!==M&&(this.updateKeepDeviceAwake(M),this.updateDeviceAudioMode(M),this.updateNoOpRecordingEnsuringBackgroundContinuity(M))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=rf,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Os},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=lo(tf,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=eo,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(c){xe()&&this.nativeUtils().setKeepDeviceAwake(c,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(c){if(xe()&&!this.disableReactNativeAutoDeviceManagement("audio")){var m=c?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(m)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(c){if(xe()&&this.nativeUtils().setShowOngoingMeetingNotification){var m,v,S,k;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var j=this.properties.reactNativeConfig.androidInCallNotification;m=j.title,v=j.subtitle,S=j.iconName,k=j.disableForCustomOverride}k&&(c=!1),this.nativeUtils().setShowOngoingMeetingNotification(c,m,v,S,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(c){xe()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(c)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var c,m;if(xe()){var v=(c=this._callMachine())===null||c===void 0||(m=c.store)===null||m===void 0?void 0:m.getState();for(var S in v==null?void 0:v.streams){var k=v.streams[S];k&&k.pendingTrack&&k.pendingTrack.kind==="audio"&&(k.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(c){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[c]}},{key:"absoluteUrl",value:function(c){if(c!==void 0){var m=document.createElement("a");return m.href=c,m.href}}},{key:"sayHello",value:function(){var c="hello, world.";return console.log(c),c}},{key:"_logUseAfterDestroy",value:function(){var c=Object.values(cn)[0];if(this.needsLoad())if(c&&!c.needsLoad()){var m={action:vs,level:"error",code:this.strictMode?9995:9997};c.sendMessageToCallMachine(m)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var v={action:vs,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(v,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var c=0,m=Object.values(cn);c<m.length;c++){var v=m[c];v._callMachineInitialized?(v.sendMessageToCallMachine({action:vs,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),v._delayDuplicateInstanceLog=!1):v._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(c){var m,v,S,k,j,M;if(!((m=c.error)!==null&&m!==void 0&&m.type&&(![Ip,Mp,ll].includes(c.error.type)||c.error.type===ll&&c.error.msg.includes("deleted")))){var F=(v=this.properties)!==null&&v!==void 0&&v.url?new URL(this.properties.url):void 0,G="production";F&&F.host.includes(".staging.daily")&&(G="staging");var ae,ee,ke,oe,Ee,Ie=[Dk(),jk(),rS(),eS(),aS(),lS(),Nk(),oS()].filter(function(xt){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(xt.name)}),Ue=new zk({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:Gk,stackParser:Zk,integrations:Ie,environment:G}),Ce=new nn;if(Ce.setClient(Ue),Ue.init(),this.session_id&&Ce.setExtra("sessionId",this.session_id),this.properties){var ue=se({},this.properties);ue.userName=ue.userName?"[Filtered]":void 0,ue.userData=ue.userData?"[Filtered]":void 0,ue.token=ue.token?"[Filtered]":void 0,Ce.setExtra("properties",ue)}if(F){var Te=F.searchParams.get("domain");if(!Te){var qe=F.host.match(/(.*?)\./);Te=qe&&qe[1]||""}Te&&Ce.setTag("domain",Te)}c.error&&(Ce.setTag("fatalErrorType",c.error.type),Ce.setExtra("errorDetails",c.error.details),!((ae=c.error.details)===null||ae===void 0)&&ae.uri&&Ce.setTag("serverAddress",c.error.details.uri),!((ee=c.error.details)===null||ee===void 0)&&ee.workerGroup&&Ce.setTag("workerGroup",c.error.details.workerGroup),!((ke=c.error.details)===null||ke===void 0)&&ke.geoGroup&&Ce.setTag("geoGroup",c.error.details.geoGroup),!((oe=c.error.details)===null||oe===void 0)&&oe.on&&Ce.setTag("connectionAttempt",c.error.details.on),(Ee=c.error.details)!==null&&Ee!==void 0&&Ee.bundleUrl&&(Ce.setTag("bundleUrl",c.error.details.bundleUrl),Ce.setTag("bundleError",c.error.details.sourceError.type))),Ce.setTags({callMode:this._callObjectMode?xe()?"reactNative":(S=this.properties)!==null&&S!==void 0&&(k=S.dailyConfig)!==null&&k!==void 0&&(j=k.callMode)!==null&&j!==void 0&&j.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:ie.version()});var st=((M=c.error)===null||M===void 0?void 0:M.msg)||c.errorMsg;Ce.captureException(new Error(st))}}},{key:"_callMachine",value:function(){var c,m,v;return(c=window._daily)===null||c===void 0||(m=c.instances)===null||m===void 0||(v=m[this.callClientId])===null||v===void 0?void 0:v.callMachine}},{key:"_maybeUpdateInputSettings",value:function(c){if(!gt(this._inputSettings,c)){var m=this._getInputSettings();this._inputSettings=c;var v=this._getInputSettings();gt(m,v)||this.emitDailyJSEvent({action:fl,inputSettings:v})}}}],[{key:"supportedBrowser",value:function(){if(xe())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var c=Z1.getParser(Rt());return{supported:!!$d(),mobile:c.getPlatformType()==="mobile",name:c.getBrowserName(),version:c.getBrowserVersion(),supportsFullscreen:!!Fd(),supportsScreenShare:!!RS(),supportsSfu:!!$d(),supportsVideoProcessing:Lv(),supportsAudioProcessing:Mv()}}},{key:"version",value:function(){return"0.75.2"}},{key:"createCallObject",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return c.layout="none",new ie(null,c)}},{key:"wrap",value:function(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Oe(),!c||!c.contentWindow||typeof c.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return m.layout||(m.customLayout?m.layout="custom-v1":m.layout="browser"),new ie(c,m)}},{key:"createFrame",value:function(c,m){var v,S;Oe(),c&&m?(v=c,S=m):c&&c.append?(v=c,S={}):(v=document.body,S=c||{});var k=S.iframeStyle;k||(k=v===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var j=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?j.allow="microphone, camera":j.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",j.style.visibility="hidden",v.appendChild(j),j.style.visibility=null,Object.keys(k).forEach(function(M){return j.style[M]=k[M]}),S.layout||(S.customLayout?S.layout="custom-v1":S.layout="browser");try{return new ie(j,S)}catch(M){throw v.removeChild(j),M}}},{key:"createTransparentFrame",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Oe();var m=document.createElement("iframe");return m.allow="microphone; camera; autoplay",m.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(m),c.layout||(c.layout="custom-v1"),ie.wrap(m,c)}},{key:"getCallInstance",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return c?cn[c]:Object.values(cn)[0]}}]),ie}();function $n(t,e){var r={};for(var n in t)if(t[n]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",n),r[n]=Er;else if(n==="dailyConfig"){if(t[n].modifyLocalSdpHook){var s=window._daily.instances[e].customCallbacks||{};s.modifyLocalSdpHook=t[n].modifyLocalSdpHook,window._daily.instances[e].customCallbacks=s,delete t[n].modifyLocalSdpHook}if(t[n].modifyRemoteSdpHook){var i=window._daily.instances[e].customCallbacks||{};i.modifyRemoteSdpHook=t[n].modifyRemoteSdpHook,window._daily.instances[e].customCallbacks=i,delete t[n].modifyRemoteSdpHook}r[n]=t[n]}else r[n]=t[n];return r}function $e(t){var e=arguments.length>2?arguments[2]:void 0;if(t!==Hr){var r="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw e&&(r+=" ".concat(e)),console.error(r),new Error(r)}}function xs(t,e){return[Xs,Hr].includes(t)||e}function ao(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",n=arguments.length>3?arguments[3]:void 0;if(xs(t,e)){var s="".concat(r," not supported after joining a meeting.");throw n&&(s+=" ".concat(n)),console.error(s),new Error(s)}}function ys(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",r=arguments.length>2?arguments[2]:void 0;if(!t){var n="".concat(e,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw r&&(n+=" ".concat(r)),console.error(n),new Error(n)}}function oo(t){if(t){var e="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(e),new Error(e)}}function $t(t){if(!t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(e),new Error(e)}}function Et(t){if(t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(e),new Error(e)}}function Oe(){if(xe())throw new Error("This daily-js method is not currently supported in React Native")}function bi(){if(!xe())throw new Error("This daily-js method is only supported in React Native")}function $v(t){if(t===void 0)return!0;var e;if(typeof t=="string")e=t;else try{e=JSON.stringify(t),gt(JSON.parse(e),t)||console.warn("The userData provided will be modified when serialized.")}catch(r){throw Error("userData must be serializable to JSON: ".concat(r))}if(e.length>4096)throw Error("userData is too large (".concat(e.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function Uv(t,e){for(var r=e.allowAllParticipantsKey,n=function(f){var h=["local"];return r||h.push("*"),f&&!h.includes(f)},s=function(f){return!!(f.layer===void 0||Number.isInteger(f.layer)&&f.layer>=0||f.layer==="inherit")},i=function(f){return!!f&&!(f.video&&!s(f.video))&&!(f.screenVideo&&!s(f.screenVideo))},a=0,o=Object.entries(t);a<o.length;a++){var l=lr(o[a],2),u=l[0],d=l[1];if(!n(u)||!i(d))return!1}return!0}function qv(t){if(je(t)!=="object")return!1;for(var e=0,r=Object.entries(t);e<r.length;e++){var n=lr(r[e],2),s=n[0],i=n[1];switch(s){case"video":if(je(i)!=="object")return!1;for(var a=0,o=Object.entries(i);a<o.length;a++){var l=lr(o[a],2),u=l[0],d=l[1];switch(u){case"processor":if(!uE(d))return!1;break;case"settings":if(!af(d))return!1;break;default:return!1}}break;case"audio":if(je(i)!=="object")return!1;for(var f=0,h=Object.entries(i);f<h.length;f++){var g=lr(h[f],2),y=g[0],_=g[1];switch(y){case"processor":if(!cE(_))return!1;break;case"settings":if(!af(_))return!1;break;default:return!1}}break;default:return!1}}return!0}function zv(t,e,r){var n,s=[];t.video&&t.video.processor&&(Lv((n=e==null?void 0:e.useLegacyVideoProcessor)!==null&&n!==void 0&&n)||(t.video.settings?delete t.video.processor:delete t.video,s.push("video"))),t.audio&&t.audio.processor&&(Mv()||(t.audio.settings?delete t.audio.processor:delete t.audio,s.push("audio"))),s.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(s.join(", "))),t.audio&&t.audio.settings&&(t.audio.settings.customTrack?(r.audioTrack=t.audio.settings.customTrack,t.audio.settings={customTrack:Er}):delete r.audioTrack),t.video&&t.video.settings&&(t.video.settings.customTrack?(r.videoTrack=t.video.settings.customTrack,t.video.settings={customTrack:Er}):delete r.videoTrack)}function cE(t){if(xe())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type"];return!!t&&je(t)==="object"&&(Object.keys(t).filter(function(r){return!e.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> audio -> processor : ".concat(r)),delete t[r]}),!!function(r){return typeof r!="string"?!1:Object.values(Pv).includes(r)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(t.type))}function uE(t){if(xe())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type","config"];return!t||je(t)!=="object"||!function(r){return typeof r!="string"?!1:Object.values(Ps).includes(r)?!0:(console.error("inputSettings video processor type invalid"),!1)}(t.type)||t.config&&(je(t.config)!=="object"||!function(r,n){var s=Object.keys(n);if(s.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(r){case Ps.BGBLUR:return s.length>1||s[0]!=="strength"?(console.error(i),!1):!(typeof n.strength!="number"||n.strength<=0||n.strength>1||isNaN(n.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(n.strength)),!1);case Ps.BGIMAGE:return!(n.source!==void 0&&!function(a){if(a.source==="default")return a.type="default",!0;if(a.source instanceof ArrayBuffer)return!0;if(Ws(a.source))return a.type="url",!!function(u){var d=new URL(u),f=d.pathname;if(d.protocol==="data:")try{var h=f.substring(f.indexOf(":")+1,f.indexOf(";")).split("/")[1];return ro.includes(h)}catch(y){return console.error("failed to deduce blob content type",y),!1}var g=f.split(".").at(-1).toLowerCase().trim();return ro.includes(g)}(a.source)||(console.error("invalid image type; supported types: [".concat(ro.join(", "),"]")),!1);return o=a.source,l=Number(o),isNaN(l)||!Number.isInteger(l)||l<=0||l>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(a.type="daily-preselect",!0);var o,l}(n));default:return!0}}(t.type,t.config))?!1:(Object.keys(t).filter(function(r){return!e.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> video -> processor : ".concat(r)),delete t[r]}),!0)}function af(t){return je(t)==="object"&&(!t.customTrack||t.customTrack instanceof MediaStreamTrack)}function wl(){var t=Object.values(Ps).join(" | "),e=Object.values(Pv).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(t," ], config?: {} } }, audio?: { processor: {type: [ ").concat(e," ] } } }")}function Bv(t){var e=t.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(Lp).concat(e?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function Vv(){return"customIntegrations should be an object of type ".concat(JSON.stringify(bl),".")}function Jv(t){if(t&&je(t)!=="object"||Array.isArray(t))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(ta),".")),!1;if(t)for(var e=0,r=Object.entries(t);e<r.length;e++)for(var n=lr(r[e],1)[0],s=0,i=Object.entries(t[n]);s<i.length;s++){var a=lr(i[s],2),o=a[0],l=a[1],u=ta.id[o];if(!u)return console.error("customTrayButton does not support key ".concat(o)),!1;switch(o){case"iconPath":case"iconPathDarkMode":if(!Ws(l))return console.error("customTrayButton ".concat(o," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(l))return console.error("customTrayButton ".concat(o," should be ").concat(u,". Got: ").concat(l)),!1;break;default:if(je(l)!==u)return console.error("customTrayButton ".concat(o," should be a ").concat(u,".")),!1}}return!0}function Wv(t){if(!t||t&&je(t)!=="object"||Array.isArray(t))return console.error(Vv()),!1;for(var e=function(f){return"".concat(f," should be ").concat(bl.id[f])},r=function(f,h){return console.error("customIntegration ".concat(f,": ").concat(h))},n=0,s=Object.entries(t);n<s.length;n++){var i=lr(s[n],1)[0];if(!("label"in t[i]))return r(i,"label is required"),!1;if(!("location"in t[i]))return r(i,"location is required"),!1;if(!("src"in t[i])&&!("srcdoc"in t[i]))return r(i,"src or srcdoc is required"),!1;for(var a=0,o=Object.entries(t[i]);a<o.length;a++){var l=lr(o[a],2),u=l[0],d=l[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return r(i,e(u)),!1;break;case"iconURL":if(!Ws(d))return r(i,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in t[i])return r(i,"cannot have both src and srcdoc"),!1;if(!Ws(d))return r(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in t[i])return r(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return r(i,e(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return r(i,e(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(f){return typeof f!="string"})))return r(i,e(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(f){return typeof f!="string"}))&&d!=="owners"&&typeof d!="boolean")return r(i,e(u)),!1;break;default:if(!bl.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function Gv(t,e){if(e===void 0)return!1;switch(je(e)){case"string":return je(t)===e;case"object":if(je(t)!=="object")return!1;for(var r in t)if(!Gv(t[r],e[r]))return!1;return!0;default:return!1}}function of(t,e){var r=t.sessionId,n=t.toEndPoint,s=t.useSipRefer;if(!r||!n)throw new Error("".concat(e,"() requires a sessionId and toEndPoint"));if(typeof r!="string"||typeof n!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(s&&!n.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!n.startsWith("sip:")&&!n.startsWith("+"))throw new Error("toEndPoint: ".concat(n,' must starts with either "sip:" or "+"'))}function lf(t){if(je(t)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(t.state&&!Object.values(vl).includes(t.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(vl));if(t.volume){if(typeof t.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(t.volume<0||t.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function cf(t,e,r){return!(typeof t!="number"||t<e||t>r)}function lo(t,e){return t&&!e&&delete t.data,t}const dE=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:xp,DAILY_ACCESS_LEVEL_LOBBY:pS,DAILY_ACCESS_LEVEL_NONE:vS,DAILY_ACCESS_UNKNOWN:Os,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:CS,DAILY_CAMERA_ERROR_CAM_IN_USE:ES,DAILY_CAMERA_ERROR_CONSTRAINTS:xS,DAILY_CAMERA_ERROR_MIC_IN_USE:TS,DAILY_CAMERA_ERROR_NOT_FOUND:PS,DAILY_CAMERA_ERROR_PERMISSIONS:AS,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:OS,DAILY_CAMERA_ERROR_UNKNOWN:LS,DAILY_EVENT_ACCESS_STATE_UPDATED:Hp,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:gv,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:yv,DAILY_EVENT_APP_MSG:cv,DAILY_EVENT_CAMERA_ERROR:Up,DAILY_EVENT_CPU_LOAD_CHANGE:wv,DAILY_EVENT_ERROR:pl,DAILY_EVENT_EXIT_FULLSCREEN:Oi,DAILY_EVENT_FACE_COUNTS_UPDATED:kv,DAILY_EVENT_FULLSCREEN:Ai,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:Rp,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:jp,DAILY_EVENT_INPUT_SETTINGS_UPDATED:fl,DAILY_EVENT_JOINED_MEETING:zp,DAILY_EVENT_JOINING_MEETING:qp,DAILY_EVENT_LANG_UPDATED:Av,DAILY_EVENT_LEFT_MEETING:Bp,DAILY_EVENT_LIVE_STREAMING_ERROR:Cv,DAILY_EVENT_LIVE_STREAMING_STARTED:Sv,DAILY_EVENT_LIVE_STREAMING_STOPPED:Tv,DAILY_EVENT_LIVE_STREAMING_UPDATED:Ev,DAILY_EVENT_LOADED:cl,DAILY_EVENT_LOADING:Np,DAILY_EVENT_LOAD_ATTEMPT_FAILED:Fp,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:mv,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:pv,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:vv,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:MS,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:Kp,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:Yp,DAILY_EVENT_NETWORK_CONNECTION:bv,DAILY_EVENT_NETWORK_QUALITY_CHANGE:_v,DAILY_EVENT_NONFATAL_ERROR:hl,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:Gp,DAILY_EVENT_PARTICIPANT_JOINED:Vp,DAILY_EVENT_PARTICIPANT_LEFT:Wp,DAILY_EVENT_PARTICIPANT_UPDATED:Jp,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:Ov,DAILY_EVENT_RECORDING_DATA:lv,DAILY_EVENT_RECORDING_ERROR:av,DAILY_EVENT_RECORDING_STARTED:ul,DAILY_EVENT_RECORDING_STATS:sv,DAILY_EVENT_RECORDING_STOPPED:dl,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:ov,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:dv,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:hv,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:fv,DAILY_EVENT_STARTED_CAMERA:$p,DAILY_EVENT_THEME_UPDATED:Dp,DAILY_EVENT_TRACK_STARTED:ev,DAILY_EVENT_TRACK_STOPPED:tv,DAILY_EVENT_TRANSCRIPTION_ERROR:iv,DAILY_EVENT_TRANSCRIPTION_MSG:uv,DAILY_EVENT_TRANSCRIPTION_STARTED:rv,DAILY_EVENT_TRANSCRIPTION_STOPPED:nv,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:Qp,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:Zp,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:Xp,DAILY_FATAL_ERROR_CONNECTION:Ip,DAILY_FATAL_ERROR_EJECTED:gS,DAILY_FATAL_ERROR_EOL:Mp,DAILY_FATAL_ERROR_EXP_ROOM:bS,DAILY_FATAL_ERROR_EXP_TOKEN:wS,DAILY_FATAL_ERROR_MEETING_FULL:kS,DAILY_FATAL_ERROR_NBF_ROOM:yS,DAILY_FATAL_ERROR_NBF_TOKEN:_S,DAILY_FATAL_ERROR_NOT_ALLOWED:SS,DAILY_FATAL_ERROR_NO_ROOM:ll,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:mS,DAILY_RECEIVE_SETTINGS_BASE_KEY:Lp,DAILY_STATE_ERROR:vr,DAILY_STATE_JOINED:Hr,DAILY_STATE_JOINING:Xs,DAILY_STATE_LEFT:zr,DAILY_STATE_NEW:ol,DAILY_TRACK_STATE_BLOCKED:cS,DAILY_TRACK_STATE_INTERRUPTED:hS,DAILY_TRACK_STATE_LOADING:fS,DAILY_TRACK_STATE_OFF:uS,DAILY_TRACK_STATE_PLAYABLE:Pp,DAILY_TRACK_STATE_SENDABLE:dS,default:lE},Symbol.toStringTag,{value:"Module"})),fE=J1(dE);var _s={exports:{}},uf;function hE(){if(uf)return _s.exports;uf=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(E,T,x){return Function.prototype.apply.call(E,T,x)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:r=function(E){return Object.getOwnPropertyNames(E)};function n(b){console&&console.warn&&console.warn(b)}var s=Number.isNaN||function(E){return E!==E};function i(){i.init.call(this)}_s.exports=i,_s.exports.once=O,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function o(b){if(typeof b!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(b){if(typeof b!="number"||b<0||s(b))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+b+".");a=b}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(E){if(typeof E!="number"||E<0||s(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this};function l(b){return b._maxListeners===void 0?i.defaultMaxListeners:b._maxListeners}i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(E){for(var T=[],x=1;x<arguments.length;x++)T.push(arguments[x]);var R=E==="error",V=this._events;if(V!==void 0)R=R&&V.error===void 0;else if(!R)return!1;if(R){var U;if(T.length>0&&(U=T[0]),U instanceof Error)throw U;var N=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw N.context=U,N}var W=V[E];if(W===void 0)return!1;if(typeof W=="function")e(W,this,T);else for(var L=W.length,q=y(W,L),x=0;x<L;++x)e(q[x],this,T);return!0};function u(b,E,T,x){var R,V,U;if(o(T),V=b._events,V===void 0?(V=b._events=Object.create(null),b._eventsCount=0):(V.newListener!==void 0&&(b.emit("newListener",E,T.listener?T.listener:T),V=b._events),U=V[E]),U===void 0)U=V[E]=T,++b._eventsCount;else if(typeof U=="function"?U=V[E]=x?[T,U]:[U,T]:x?U.unshift(T):U.push(T),R=l(b),R>0&&U.length>R&&!U.warned){U.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");N.name="MaxListenersExceededWarning",N.emitter=b,N.type=E,N.count=U.length,n(N)}return b}i.prototype.addListener=function(E,T){return u(this,E,T,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(E,T){return u(this,E,T,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(b,E,T){var x={fired:!1,wrapFn:void 0,target:b,type:E,listener:T},R=d.bind(x);return R.listener=T,x.wrapFn=R,R}i.prototype.once=function(E,T){return o(T),this.on(E,f(this,E,T)),this},i.prototype.prependOnceListener=function(E,T){return o(T),this.prependListener(E,f(this,E,T)),this},i.prototype.removeListener=function(E,T){var x,R,V,U,N;if(o(T),R=this._events,R===void 0)return this;if(x=R[E],x===void 0)return this;if(x===T||x.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete R[E],R.removeListener&&this.emit("removeListener",E,x.listener||T));else if(typeof x!="function"){for(V=-1,U=x.length-1;U>=0;U--)if(x[U]===T||x[U].listener===T){N=x[U].listener,V=U;break}if(V<0)return this;V===0?x.shift():_(x,V),x.length===1&&(R[E]=x[0]),R.removeListener!==void 0&&this.emit("removeListener",E,N||T)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(E){var T,x,R;if(x=this._events,x===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[E]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete x[E]),this;if(arguments.length===0){var V=Object.keys(x),U;for(R=0;R<V.length;++R)U=V[R],U!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=x[E],typeof T=="function")this.removeListener(E,T);else if(T!==void 0)for(R=T.length-1;R>=0;R--)this.removeListener(E,T[R]);return this};function h(b,E,T){var x=b._events;if(x===void 0)return[];var R=x[E];return R===void 0?[]:typeof R=="function"?T?[R.listener||R]:[R]:T?w(R):y(R,R.length)}i.prototype.listeners=function(E){return h(this,E,!0)},i.prototype.rawListeners=function(E){return h(this,E,!1)},i.listenerCount=function(b,E){return typeof b.listenerCount=="function"?b.listenerCount(E):g.call(b,E)},i.prototype.listenerCount=g;function g(b){var E=this._events;if(E!==void 0){var T=E[b];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function y(b,E){for(var T=new Array(E),x=0;x<E;++x)T[x]=b[x];return T}function _(b,E){for(;E+1<b.length;E++)b[E]=b[E+1];b.pop()}function w(b){for(var E=new Array(b.length),T=0;T<E.length;++T)E[T]=b[T].listener||b[T];return E}function O(b,E){return new Promise(function(T,x){function R(U){b.removeListener(E,V),x(U)}function V(){typeof b.removeListener=="function"&&b.removeListener("error",R),T([].slice.call(arguments))}A(b,E,V,{once:!0}),E!=="error"&&C(b,R,{once:!0})})}function C(b,E,T){typeof b.on=="function"&&A(b,"error",E,T)}function A(b,E,T,x){if(typeof b.on=="function")x.once?b.once(E,T):b.on(E,T);else if(typeof b.addEventListener=="function")b.addEventListener(E,function R(V){x.once&&b.removeEventListener(E,R),T(V)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof b)}return _s.exports}var wi={},hr={},df;function pE(){if(df)return hr;df=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.Api=hr.HttpClient=hr.ContentType=void 0;var t;(function(n){n.Json="application/json",n.FormData="multipart/form-data",n.UrlEncoded="application/x-www-form-urlencoded",n.Text="text/plain"})(t||(hr.ContentType=t={}));class e{constructor(s={}){be(this,"baseUrl","https://api.vapi.ai");be(this,"securityData",null);be(this,"securityWorker");be(this,"abortControllers",new Map);be(this,"customFetch",(...s)=>fetch(...s));be(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});be(this,"setSecurityData",s=>{this.securityData=s});be(this,"contentFormatters",{[t.Json]:s=>s!==null&&(typeof s=="object"||typeof s=="string")?JSON.stringify(s):s,[t.Text]:s=>s!==null&&typeof s!="string"?JSON.stringify(s):s,[t.FormData]:s=>Object.keys(s||{}).reduce((i,a)=>{const o=s[a];return i.append(a,o instanceof Blob?o:typeof o=="object"&&o!==null?JSON.stringify(o):`${o}`),i},new FormData),[t.UrlEncoded]:s=>this.toQueryString(s)});be(this,"createAbortSignal",s=>{if(this.abortControllers.has(s)){const a=this.abortControllers.get(s);return a?a.signal:void 0}const i=new AbortController;return this.abortControllers.set(s,i),i.signal});be(this,"abortRequest",s=>{const i=this.abortControllers.get(s);i&&(i.abort(),this.abortControllers.delete(s))});be(this,"request",async({body:s,secure:i,path:a,type:o,query:l,format:u,baseUrl:d,cancelToken:f,...h})=>{const g=(typeof i=="boolean"?i:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},y=this.mergeRequestParams(h,g),_=l&&this.toQueryString(l),w=this.contentFormatters[o||t.Json],O=u||y.format;return this.customFetch(`${d||this.baseUrl||""}${a}${_?`?${_}`:""}`,{...y,headers:{...y.headers||{},...o&&o!==t.FormData?{"Content-Type":o}:{}},signal:(f?this.createAbortSignal(f):y.signal)||null,body:typeof s>"u"||s===null?null:w(s)}).then(async C=>{const A=C;A.data=null,A.error=null;const b=O?await C[O]().then(E=>(A.ok?A.data=E:A.error=E,A)).catch(E=>(A.error=E,A)):A;if(f&&this.abortControllers.delete(f),!C.ok)throw b;return b})});Object.assign(this,s)}encodeQueryParam(s,i){return`${encodeURIComponent(s)}=${encodeURIComponent(typeof i=="number"?i:`${i}`)}`}addQueryParam(s,i){return this.encodeQueryParam(i,s[i])}addArrayQueryParam(s,i){return s[i].map(o=>this.encodeQueryParam(i,o)).join("&")}toQueryString(s){const i=s||{};return Object.keys(i).filter(o=>typeof i[o]<"u").map(o=>Array.isArray(i[o])?this.addArrayQueryParam(i,o):this.addQueryParam(i,o)).join("&")}addQueryParams(s){const i=this.toQueryString(s);return i?`?${i}`:""}mergeRequestParams(s,i){return{...this.baseApiParams,...s,...i||{},headers:{...this.baseApiParams.headers||{},...s.headers||{},...i&&i.headers||{}}}}}hr.HttpClient=e;class r extends e{constructor(){super(...arguments);be(this,"call",{callControllerCreate:(i,a={})=>this.request({path:"/call",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),callControllerFindAll:(i,a={})=>this.request({path:"/call",method:"GET",query:i,secure:!0,format:"json",...a}),callControllerFindOne:(i,a={})=>this.request({path:`/call/${i}`,method:"GET",secure:!0,format:"json",...a}),callControllerUpdate:(i,a,o={})=>this.request({path:`/call/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),callControllerDeleteCallData:(i,a={})=>this.request({path:`/call/${i}`,method:"DELETE",secure:!0,format:"json",...a}),callControllerCreatePhoneCall:(i,a={})=>this.request({path:"/call/phone",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),callControllerCreateWebCall:(i,a={})=>this.request({path:"/call/web",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a})});be(this,"v2",{callControllerFindAllPaginated:(i,a={})=>this.request({path:"/v2/call",method:"GET",query:i,secure:!0,format:"json",...a}),callControllerFindAllMetadataPaginated:(i,a={})=>this.request({path:"/v2/call/metadata",method:"GET",query:i,secure:!0,format:"json",...a}),assistantControllerFindAllPaginated:(i,a={})=>this.request({path:"/v2/assistant",method:"GET",query:i,secure:!0,format:"json",...a}),phoneNumberControllerFindAllPaginated:(i,a={})=>this.request({path:"/v2/phone-number",method:"GET",query:i,secure:!0,format:"json",...a})});be(this,"chat",{chatController:(i={})=>this.request({path:"/chat",method:"POST",secure:!0,format:"json",...i}),chatControllerChatCompletions:(i,a={})=>this.request({path:"/chat/completions",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a})});be(this,"assistant",{assistantControllerCreate:(i,a={})=>this.request({path:"/assistant",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),assistantControllerFindAll:(i,a={})=>this.request({path:"/assistant",method:"GET",query:i,secure:!0,format:"json",...a}),assistantControllerFindOne:(i,a={})=>this.request({path:`/assistant/${i}`,method:"GET",secure:!0,format:"json",...a}),assistantControllerUpdate:(i,a,o={})=>this.request({path:`/assistant/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),assistantControllerReplace:(i,a,o={})=>this.request({path:`/assistant/${i}`,method:"PUT",body:a,secure:!0,type:t.Json,format:"json",...o}),assistantControllerRemove:(i,a={})=>this.request({path:`/assistant/${i}`,method:"DELETE",secure:!0,format:"json",...a})});be(this,"phoneNumber",{phoneNumberControllerImportTwilio:(i,a={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),phoneNumberControllerImportVonage:(i,a={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),phoneNumberControllerCreate:(i,a={})=>this.request({path:"/phone-number",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),phoneNumberControllerFindAll:(i,a={})=>this.request({path:"/phone-number",method:"GET",query:i,secure:!0,format:"json",...a}),phoneNumberControllerFindOne:(i,a={})=>this.request({path:`/phone-number/${i}`,method:"GET",secure:!0,format:"json",...a}),phoneNumberControllerUpdate:(i,a,o={})=>this.request({path:`/phone-number/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),phoneNumberControllerRemove:(i,a={})=>this.request({path:`/phone-number/${i}`,method:"DELETE",secure:!0,format:"json",...a})});be(this,"tool",{toolControllerCreate:(i,a={})=>this.request({path:"/tool",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),toolControllerFindAll:(i,a={})=>this.request({path:"/tool",method:"GET",query:i,secure:!0,format:"json",...a}),toolControllerFindOne:(i,a={})=>this.request({path:`/tool/${i}`,method:"GET",secure:!0,format:"json",...a}),toolControllerUpdate:(i,a,o={})=>this.request({path:`/tool/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),toolControllerRemove:(i,a={})=>this.request({path:`/tool/${i}`,method:"DELETE",secure:!0,format:"json",...a})});be(this,"file",{fileControllerCreateDeprecated:(i,a={})=>this.request({path:"/file/upload",method:"POST",body:i,secure:!0,type:t.FormData,format:"json",...a}),fileControllerCreate:(i,a={})=>this.request({path:"/file",method:"POST",body:i,secure:!0,type:t.FormData,format:"json",...a}),fileControllerFindAll:(i={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...i}),fileControllerFindOne:(i,a={})=>this.request({path:`/file/${i}`,method:"GET",secure:!0,format:"json",...a}),fileControllerUpdate:(i,a,o={})=>this.request({path:`/file/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),fileControllerRemove:(i,a={})=>this.request({path:`/file/${i}`,method:"DELETE",secure:!0,format:"json",...a})});be(this,"knowledgeBase",{knowledgeBaseControllerCreate:(i,a={})=>this.request({path:"/knowledge-base",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),knowledgeBaseControllerFindAll:(i,a={})=>this.request({path:"/knowledge-base",method:"GET",query:i,secure:!0,format:"json",...a}),knowledgeBaseControllerFindOne:(i,a={})=>this.request({path:`/knowledge-base/${i}`,method:"GET",secure:!0,format:"json",...a}),knowledgeBaseControllerUpdate:(i,a,o={})=>this.request({path:`/knowledge-base/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),knowledgeBaseControllerRemove:(i,a={})=>this.request({path:`/knowledge-base/${i}`,method:"DELETE",secure:!0,format:"json",...a})});be(this,"workflow",{workflowControllerFindAll:(i={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...i}),workflowControllerCreate:(i,a={})=>this.request({path:"/workflow",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),workflowControllerFindOne:(i,a={})=>this.request({path:`/workflow/${i}`,method:"GET",secure:!0,format:"json",...a}),workflowControllerDelete:(i,a={})=>this.request({path:`/workflow/${i}`,method:"DELETE",secure:!0,format:"json",...a}),workflowControllerUpdate:(i,a,o={})=>this.request({path:`/workflow/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o})});be(this,"squad",{squadControllerCreate:(i,a={})=>this.request({path:"/squad",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),squadControllerFindAll:(i,a={})=>this.request({path:"/squad",method:"GET",query:i,secure:!0,format:"json",...a}),squadControllerFindOne:(i,a={})=>this.request({path:`/squad/${i}`,method:"GET",secure:!0,format:"json",...a}),squadControllerUpdate:(i,a,o={})=>this.request({path:`/squad/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),squadControllerRemove:(i,a={})=>this.request({path:`/squad/${i}`,method:"DELETE",secure:!0,format:"json",...a})});be(this,"testSuite",{testSuiteControllerFindAllPaginated:(i,a={})=>this.request({path:"/test-suite",method:"GET",query:i,secure:!0,format:"json",...a}),testSuiteControllerCreate:(i,a={})=>this.request({path:"/test-suite",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),testSuiteControllerFindOne:(i,a={})=>this.request({path:`/test-suite/${i}`,method:"GET",secure:!0,format:"json",...a}),testSuiteControllerUpdate:(i,a,o={})=>this.request({path:`/test-suite/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),testSuiteControllerRemove:(i,a={})=>this.request({path:`/test-suite/${i}`,method:"DELETE",secure:!0,format:"json",...a}),testSuiteTestControllerFindAllPaginated:(i,a,o={})=>this.request({path:`/test-suite/${i}/test`,method:"GET",query:a,secure:!0,format:"json",...o}),testSuiteTestControllerCreate:(i,a,o={})=>this.request({path:`/test-suite/${i}/test`,method:"POST",body:a,secure:!0,type:t.Json,format:"json",...o}),testSuiteTestControllerFindOne:(i,a,o={})=>this.request({path:`/test-suite/${i}/test/${a}`,method:"GET",secure:!0,format:"json",...o}),testSuiteTestControllerUpdate:(i,a,o,l={})=>this.request({path:`/test-suite/${i}/test/${a}`,method:"PATCH",body:o,secure:!0,type:t.Json,format:"json",...l}),testSuiteTestControllerRemove:(i,a,o={})=>this.request({path:`/test-suite/${i}/test/${a}`,method:"DELETE",secure:!0,format:"json",...o}),testSuiteRunControllerFindAllPaginated:(i,a,o={})=>this.request({path:`/test-suite/${i}/run`,method:"GET",query:a,secure:!0,format:"json",...o}),testSuiteRunControllerCreate:(i,a,o={})=>this.request({path:`/test-suite/${i}/run`,method:"POST",body:a,secure:!0,type:t.Json,format:"json",...o}),testSuiteRunControllerFindOne:(i,a,o={})=>this.request({path:`/test-suite/${i}/run/${a}`,method:"GET",secure:!0,format:"json",...o}),testSuiteRunControllerUpdate:(i,a,o,l={})=>this.request({path:`/test-suite/${i}/run/${a}`,method:"PATCH",body:o,secure:!0,type:t.Json,format:"json",...l}),testSuiteRunControllerRemove:(i,a,o={})=>this.request({path:`/test-suite/${i}/run/${a}`,method:"DELETE",secure:!0,format:"json",...o})});be(this,"metrics",{analyticsControllerFindAllDeprecated:(i,a={})=>this.request({path:"/metrics",method:"GET",query:i,secure:!0,format:"json",...a})});be(this,"analytics",{analyticsControllerQuery:(i,a={})=>this.request({path:"/analytics",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a})});be(this,"log",{loggingControllerCallLogsQuery:(i,a={})=>this.request({path:"/log",method:"GET",query:i,secure:!0,format:"json",...a}),loggingControllerCallLogsDeleteQuery:(i,a={})=>this.request({path:"/log",method:"DELETE",query:i,secure:!0,...a})});be(this,"logs",{loggingControllerLogsQuery:(i,a={})=>this.request({path:"/logs",method:"GET",query:i,secure:!0,format:"json",...a}),loggingControllerLogsDeleteQuery:(i,a={})=>this.request({path:"/logs",method:"DELETE",query:i,secure:!0,...a})});be(this,"org",{orgControllerCreate:(i,a={})=>this.request({path:"/org",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),orgControllerFindAll:(i={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...i}),orgControllerFindOne:(i,a={})=>this.request({path:`/org/${i}`,method:"GET",secure:!0,format:"json",...a}),orgControllerUpdate:(i,a,o={})=>this.request({path:`/org/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),orgControllerDeleteOrg:(i,a={})=>this.request({path:`/org/${i}`,method:"DELETE",secure:!0,...a}),orgControllerFindAllUsers:(i,a={})=>this.request({path:`/org/${i}/user`,method:"GET",secure:!0,format:"json",...a}),orgControllerOrgLeave:(i,a={})=>this.request({path:`/org/${i}/leave`,method:"DELETE",secure:!0,...a}),orgControllerOrgRemoveUser:(i,a,o={})=>this.request({path:`/org/${i}/member/${a}/leave`,method:"DELETE",secure:!0,...o}),orgControllerUsersInvite:(i,a,o={})=>this.request({path:`/org/${i}/invite`,method:"POST",body:a,secure:!0,type:t.Json,...o}),orgControllerUserUpdate:(i,a,o={})=>this.request({path:`/org/${i}/role`,method:"PATCH",body:a,secure:!0,type:t.Json,...o})});be(this,"token",{tokenControllerCreate:(i,a={})=>this.request({path:"/token",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),tokenControllerFindAll:(i,a={})=>this.request({path:"/token",method:"GET",query:i,secure:!0,format:"json",...a}),tokenControllerFindOne:(i,a={})=>this.request({path:`/token/${i}`,method:"GET",secure:!0,format:"json",...a}),tokenControllerUpdate:(i,a,o={})=>this.request({path:`/token/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),tokenControllerRemove:(i,a={})=>this.request({path:`/token/${i}`,method:"DELETE",secure:!0,format:"json",...a})});be(this,"credential",{credentialControllerCreate:(i,a={})=>this.request({path:"/credential",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),credentialControllerFindAll:(i,a={})=>this.request({path:"/credential",method:"GET",query:i,secure:!0,format:"json",...a}),credentialControllerFindOne:(i,a={})=>this.request({path:`/credential/${i}`,method:"GET",secure:!0,format:"json",...a}),credentialControllerUpdate:(i,a,o={})=>this.request({path:`/credential/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),credentialControllerRemove:(i,a={})=>this.request({path:`/credential/${i}`,method:"DELETE",secure:!0,format:"json",...a}),credentialControllerGenerateSession:(i,a={})=>this.request({path:"/credential/session",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),credentialControllerHandleWebhook:(i,a={})=>this.request({path:"/credential/webhook",method:"POST",body:i,type:t.Json,...a}),credentialControllerTriggerCredentialAction:(i,a={})=>this.request({path:"/credential/trigger",method:"POST",body:i,secure:!0,type:t.Json,...a})});be(this,"template",{templateControllerCreate:(i,a={})=>this.request({path:"/template",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),templateControllerFindAll:(i,a={})=>this.request({path:"/template",method:"GET",query:i,secure:!0,format:"json",...a}),templateControllerFindAllPinned:(i={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...i}),templateControllerFindOne:(i,a={})=>this.request({path:`/template/${i}`,method:"GET",secure:!0,format:"json",...a}),templateControllerUpdate:(i,a,o={})=>this.request({path:`/template/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),templateControllerRemove:(i,a={})=>this.request({path:`/template/${i}`,method:"DELETE",secure:!0,format:"json",...a})});be(this,"voiceLibrary",{voiceLibraryControllerVoiceGetByProvider:(i,a,o={})=>this.request({path:`/voice-library/${i}`,method:"GET",query:a,secure:!0,format:"json",...o}),voiceLibraryControllerVoiceGetAccentsByProvider:(i,a={})=>this.request({path:`/voice-library/${i}/accents`,method:"GET",secure:!0,format:"json",...a}),voiceLibraryControllerVoiceLibrarySyncByProvider:(i,a={})=>this.request({path:`/voice-library/sync/${i}`,method:"POST",secure:!0,format:"json",...a}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(i,a={})=>this.request({path:"/voice-library/sync",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(i,a={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:i,secure:!0,type:t.Json,...a})});be(this,"provider",{providerControllerGetWorkflows:(i,a,o={})=>this.request({path:`/${i}/workflows`,method:"GET",query:a,secure:!0,format:"json",...o}),providerControllerGetWorkflowTriggerHook:(i,a,o={})=>this.request({path:`/${i}/workflows/${a}/hooks`,method:"GET",secure:!0,format:"json",...o}),providerControllerGetLocations:(i,a={})=>this.request({path:`/${i}/locations`,method:"GET",secure:!0,format:"json",...a}),voiceProviderControllerSearchVoices:(i,a,o={})=>this.request({path:`/${i}/voices/search`,method:"GET",query:a,secure:!0,format:"json",...o}),voiceProviderControllerSearchVoice:(i,a,o={})=>this.request({path:`/${i}/voice/search`,method:"GET",query:a,secure:!0,format:"json",...o}),voiceProviderControllerAddVoices:(i,a,o={})=>this.request({path:`/${i}/voices/add`,method:"POST",body:a,secure:!0,type:t.Json,format:"json",...o}),voiceProviderControllerAddVoice:(i,a,o={})=>this.request({path:`/${i}/voice/add`,method:"POST",body:a,secure:!0,type:t.Json,format:"json",...o})});be(this,"v11Labs",{voiceProviderControllerCloneVoices:(i,a={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:i,secure:!0,type:t.FormData,...a})})}}return hr.Api=r,hr}var ff;function vE(){if(ff)return wi;ff=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.client=void 0;const t=pE(),e=new t.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async r=>{if(r)return{headers:{Authorization:`Bearer ${r}`}}}});return wi.client=e,wi}var hf;function mE(){if(hf)return Fn;hf=1;var t=Fn&&Fn.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Fn,"__esModule",{value:!0});const e=t(fE),r=t(hE()),n=vE();async function s(d,f){d.muted=!1,d.autoplay=!0,f!=null&&(d.srcObject=new MediaStream([f]),await d.play())}async function i(d,f){const h=document.createElement("audio");return h.dataset.participantId=f,document.body.appendChild(h),await s(h,d),h}function a(d){const f=document.querySelector(`audio[data-participant-id="${d}"]`);f==null||f.remove()}function o(d,f,h,g){d.participant.local||f.updateParticipant(d.participant.session_id,{setSubscribedTracks:{audio:!0,video:h||g}})}class l extends r.default{on(f,h){return super.on(f,h),this}once(f,h){return super.once(f,h),this}emit(f,...h){return super.emit(f,...h)}removeListener(f,h){return super.removeListener(f,h),this}removeAllListeners(f){return super.removeAllListeners(f),this}}class u extends l{constructor(h,g,y,_){super();be(this,"started",!1);be(this,"call",null);be(this,"speakingTimeout",null);be(this,"dailyCallConfig",{});be(this,"dailyCallObject",{});be(this,"hasEmittedCallEndedStatus",!1);n.client.baseUrl=g??"https://api.vapi.ai",n.client.setSecurityData(h),this.dailyCallConfig=y??{},this.dailyCallObject=_??{}}cleanup(){var h;this.started=!1,this.hasEmittedCallEndedStatus=!1,(h=this.call)==null||h.destroy(),this.call=null,this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;const h=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(h.toLowerCase())}async sleep(h){return new Promise(g=>setTimeout(g,h))}async start(h,g,y){var _,w,O,C;if(!h&&!y)throw new Error("Assistant or Squad must be provided.");if(this.started)return null;this.started=!0;try{const A=(await n.client.call.callControllerCreateWebCall({assistant:typeof h=="string"?void 0:h,assistantId:typeof h=="string"?h:void 0,assistantOverrides:g,squad:typeof y=="string"?void 0:y,squadId:typeof y=="string"?y:void 0})).data;this.call&&this.cleanup();const b=((_=A==null?void 0:A.artifactPlan)==null?void 0:_.videoRecordingEnabled)??!1,E=((O=(w=A==null?void 0:A.assistant)==null?void 0:w.voice)==null?void 0:O.provider)==="tavus";if(this.call=e.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??b,dailyConfig:this.dailyCallConfig}),(C=this.call.iframe())==null||C.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var T;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),b&&((T=this.call)==null||T.stopRecording()),this.cleanup()}),this.call.on("error",T=>{var x;this.emit("error",T),b&&((x=this.call)==null||x.stopRecording())}),this.call.on("camera-error",T=>{this.emit("error",T)}),this.call.on("track-started",async T=>{var x,R,V;!T||!T.participant||(x=T.participant)!=null&&x.local||((R=T.participant)==null?void 0:R.user_name)==="Vapi Speaker"&&(T.track.kind==="video"&&this.emit("video",T.track),T.track.kind==="audio"&&await i(T.track,T.participant.session_id),(V=this.call)==null||V.sendAppMessage("playable"))}),this.call.on("participant-joined",T=>{!T||!this.call||o(T,this.call,b,E)}),this.call.on("participant-updated",T=>{T&&this.emit("daily-participant-updated",T.participant)}),this.call.on("participant-left",T=>{T&&a(T.participant.session_id)}),this.isMobileDevice()&&await this.sleep(1e3),await this.call.join({url:A.webCallUrl,subscribeToTracksAutomatically:!1}),b){const T=new Date().getTime();this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}}),this.call.on("recording-started",()=>{this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:(new Date().getTime()-T)/1e3})})}return this.call.startRemoteParticipantsAudioLevelObserver(100),this.call.on("remote-participants-audio-level",T=>{T&&this.handleRemoteParticipantsAudioLevel(T)}),this.call.on("app-message",T=>this.onAppMessage(T)),this.call.on("nonfatal-error",T=>{var x;(T==null?void 0:T.type)==="audio-processor-error"&&((x=this.call)==null||x.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{var R;(R=this.call)==null||R.setLocalAudio(!0)}))}),this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}}),A}catch(A){return console.error(A),this.emit("error",A),this.cleanup(),null}}onAppMessage(h){if(h)try{if(h.data==="listening")return this.emit("call-start");try{const g=JSON.parse(h.data);this.emit("message",g),g&&"type"in g&&"status"in g&&g.type==="status-update"&&g.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(g){console.log("Error parsing message data: ",g)}}catch(g){console.error(g)}}handleRemoteParticipantsAudioLevel(h){const g=Object.values(h.participantsAudioLevel).reduce((_,w)=>_+w,0);this.emit("volume-level",Math.min(1,g/.15)),g>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}stop(){var h;this.started=!1,(h=this.call)==null||h.destroy(),this.call=null}send(h){var g;(g=this.call)==null||g.sendAppMessage(JSON.stringify(h))}setMuted(h){if(!this.call)throw new Error("Call object is not available.");this.call.setLocalAudio(!h)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(h,g,y){this.send({type:"say",message:h,endCallAfterSpoken:g,interruptionsEnabled:y??!1})}setInputDevicesAsync(h){var g;(g=this.call)==null||g.setInputDevicesAsync(h)}async increaseMicLevel(h){if(!this.call)throw new Error("Call object is not available.");try{const g=await navigator.mediaDevices.getUserMedia({audio:!0}),y=new AudioContext,_=y.createMediaStreamSource(g),w=y.createGain();w.gain.value=h,_.connect(w);const O=y.createMediaStreamDestination();w.connect(O);const[C]=O.stream.getAudioTracks();await this.call.setInputDevicesAsync({audioSource:C})}catch(g){console.error("Error adjusting microphone level:",g)}}setOutputDeviceAsync(h){var g;(g=this.call)==null||g.setOutputDeviceAsync(h)}getDailyCallObject(){return this.call}startScreenSharing(h,g){var y;(y=this.call)==null||y.startScreenShare({displayMediaOptions:h,screenVideoSendSettings:g})}stopScreenSharing(){var h;(h=this.call)==null||h.stopScreenShare()}}return Fn.default=u,Fn}var gE=mE();const yE=V1(gE);var _E=Z('<div class="call-active-content svelte-a5wvew"><div class="audio-pulse-container svelte-a5wvew"><div class="pulse-circle svelte-a5wvew"></div> <div class="pulse-ripple svelte-a5wvew"></div></div> <!> <button class="modal-action-btn end-call-btn svelte-a5wvew">End Call</button></div>'),bE=Z('<div class="sunny-content svelte-a5wvew"><div class="sunny-option svelte-a5wvew"><p class="sunny-modal-option svelte-a5wvew">Option 1</p> <p class="sunny-modal-option-description svelte-a5wvew">Call <span class="sunny-modal-option-description-phone svelte-a5wvew">617-329-4181 <button class="copy-button svelte-a5wvew" aria-label="Copy phone number"><!></button></span></p></div> <div class="sunny-option svelte-a5wvew"><p class="sunny-modal-option svelte-a5wvew">Option 2</p> <button class="modal-action-btn svelte-a5wvew"><!> <span class="button-icon-text svelte-a5wvew">Start Web Call</span></button></div> <p class="sunny-privacy-note svelte-a5wvew">Your call may be recorded.</p></div>'),wE=Z('<div class="sunny-modal-backdrop svelte-a5wvew"><div class="sunny-modal-container svelte-a5wvew" role="dialog" aria-modal="true"><button class="close-button svelte-a5wvew" aria-label="Close modal">&times;</button> <div class="sunny-modal-inner-content svelte-a5wvew"><h3 class="sunny-modal-title svelte-a5wvew"><!></h3> <!></div></div></div>');function kE(t,e){We(e,!1);let r=re(e,"isOpen",12,!1),n=H(),s=H(0),i=H(!1),a=null,o=!1,l=0,u=null,d=null;const f=new yE("18aebfed-8669-4ace-beec-e219652fc662"),h="24c467e9-e11f-4ad1-8643-ddee12f1ab17";function g(U){U.key==="Escape"&&r(!1)}function y(U){p(n)&&U.target instanceof Node&&!p(n).contains(U.target)&&U.target.classList.contains("sunny-modal-backdrop")&&r(!1)}function _(){}function w(){l=Date.now()}function O(){if(!p(i))return;const U=Date.now();U-l>500&&(I(s,Math.random()*.5),l=U)}tt(()=>{document.addEventListener("keydown",g),document.addEventListener("mousedown",y);try{a=new AudioContext}catch(N){console.error("Failed to create AudioContext:",N)}const U=setInterval(O,200);return window.addEventListener("resize",_),()=>{clearInterval(U)}}),$g(()=>{document.removeEventListener("keydown",g),document.removeEventListener("mousedown",y),d&&clearInterval(d),window.removeEventListener("resize",_)});function C(){r(!0)}async function A(){console.log("Starting browser call...");try{const U=await f.start(h);console.log("Call started:",U),I(i,!0),l=Date.now();try{u=f.getDailyCallObject(),u&&(console.log("Successfully retrieved Daily call object:",u),setTimeout(()=>{try{u&&u.participants()&&(console.log("Daily participants:",u.participants()),Object.keys(u.participants()).forEach(N=>{const W=u.participants()[N];console.log("Setting up audio for participant:",W),W.audioTrack&&b(W.audioTrack)}),u.on("track-started",N=>{N.track.kind==="audio"&&(console.log("New audio track started:",N),b(N.track))}))}catch(N){console.error("Error accessing Daily participants:",N)}},2e3))}catch(N){console.error("Error accessing Daily call object:",N)}f.on("volume-level",N=>{I(s,N),l=Date.now(),console.log("Volume level:",N),o=N>.1}),f.on("message",N=>{console.log("Message received:",N),N&&N.type==="transcript"&&(console.log("Transcript received:",N),o||(I(s,.5),w()))}),f.on("speech-start",()=>{console.log("VAPI speech started"),o=!0,p(s)<.2&&I(s,.5)}),f.on("speech-end",()=>{console.log("VAPI speech ended"),o=!1}),f.on("call-start",()=>{console.log("VAPI call started")}),f.on("call-end",()=>{console.log("VAPI call ended"),I(i,!1)}),f.on("error",N=>{console.error("VAPI error:",N)})}catch(U){console.error("Error starting call:",U)}}function b(U){try{a||(a=new AudioContext);const N=new MediaStream([U]),W=a.createMediaStreamSource(N),L=a.createAnalyser();L.fftSize=2048,W.connect(L);const q=L.frequencyBinCount,B=new Uint8Array(q);d=setInterval(()=>{L.getByteTimeDomainData(B);let Y=0;for(let X=0;X<q;X++)Y+=Math.abs(B[X]/128-1);const Q=Y/q;Q>p(s)&&I(s,Q*1.5)},100),console.log("Audio processing set up successfully for track")}catch(N){console.error("Error setting up audio processing:",N)}}function E(){d&&(clearInterval(d),d=null),f.stop(),I(i,!1),r(!1)}tt(()=>{});function T(U){navigator.clipboard.writeText(U).then(()=>{console.log("Phone number copied to clipboard")}).catch(N=>{console.error("Could not copy text: ",N)})}Xe();var x=Ar(),R=et(x);{var V=U=>{var N=wE(),W=P(N),L=P(W),q=D(L,2),B=P(q),Y=P(B);{var Q=he=>{var ie=Pi("Talking with Sunny...");K(he,ie)},X=he=>{var ie=Pi("Two ways to connect with Sunny");K(he,ie)};ne(Y,he=>{p(i)?he(Q):he(X,!1)})}var ve=D(B,2);{var we=he=>{var ie=_E(),c=P(ie),m=P(c),v=D(m,2),S=D(c,2);ne(S,j=>{});var k=D(S,2);_e((j,M,F,G)=>{_r(m,`transform: scale(${j??""}); 
                       opacity: ${M??""}`),_r(v,`transform: scale(${F??""}); 
                       opacity: ${G??""}`)},[()=>1+Math.min(p(s)*2,1),()=>.6+Math.min(p(s),.4),()=>1+Math.min(p(s)*3,2),()=>Math.max(0,Math.min(p(s)-.1,.5))],ge),de("click",k,()=>E()),K(he,ie)},$=he=>{var ie=bE(),c=P(ie),m=D(P(c),2),v=D(P(m)),S=D(P(v)),k=P(S);Ke(k,{icon:["far","copy"]});var j=D(c,2),M=D(P(j),2),F=P(M);Ke(F,{icon:["fas","phone"]}),de("click",S,()=>T("617-329-4181")),de("click",M,()=>A()),K(he,ie)};ne(ve,he=>{p(i)?he(we):he($,!1)})}Ze(W,he=>I(n,he),()=>p(n)),de("click",L,()=>r(!1)),$s(3,W,()=>p1,()=>({duration:200,start:.95})),$s(3,N,()=>Zl,()=>({duration:200})),K(U,N)};ne(R,U=>{r()&&U(V)})}return K(t,x),Lg(e,"open",C),Ge({open:C})}var SE=Z('<meta property="og:image"> <meta property="og:image:width" content="1200"> <meta property="og:image:height" content="630"> <meta property="og:image:alt" content="Software for one, for everyone.">',1),EE=Z('<meta name="twitter:image"> <meta name="twitter:image:alt" content="Software for one, for everyone.">',1),TE=Z(`<meta name="description"> <link rel="canonical"> <meta property="og:type"> <meta property="og:url"> <meta property="og:title"> <meta property="og:description"> <meta property="og:site_name" content="Wendy Ham's Weekend Projects"> <meta property="og:locale" content="en_US"> <!> <meta name="twitter:card"> <meta name="twitter:site" content="@xnham"> <meta name="twitter:creator" content="@xnham"> <meta name="twitter:title"> <meta name="twitter:description"> <!> <!>`,1),CE=Z('<!> <div class="svelte-svr8jt"><!> <main class="svelte-svr8jt"><!></main> <!></div>',1);function AE(t,e){We(e,!1);const[r,n]=jg(),s=()=>Ig(Xl,"$metadata",r),i=H();let a=H("home"),o=H();function l(){const b=window.location.pathname;Qw(),b==="/about"?I(a,"about"):b==="/next"?I(a,"next"):b.startsWith("/writing")?I(a,"writing"):b==="/contact"?I(a,"contact"):I(a,"home"),typeof gtag=="function"&&gtag("event","page_view",{page_title:s().title,page_location:window.location.href,page_path:window.location.pathname})}function u(){l()}tt(()=>((async()=>{await ga(),l(),Qh(),b1()})(),window.addEventListener("popstate",u),window.addEventListener("spanavigate",u),document.addEventListener("click",d),()=>{window.removeEventListener("popstate",u),window.removeEventListener("spanavigate",u),document.removeEventListener("click",d)}));function d(b){const E=b.target.closest("a");if(E&&E.href&&new URL(E.href).origin===window.location.origin){const T=E.getAttribute("href");if(T==="/sunny"){b.preventDefault(),b.stopPropagation(),p(o).open();return}b.preventDefault(),window.history.pushState({},"",T),l()}}_t(()=>{},()=>{I(i,{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"#wendyham",name:"Wendy Ham",jobTitle:"Builder of Software for One",description:"Building hyperpersonal software to create bespoke custom automation for individuals and small businesses.",knowsAbout:["AI-assisted software development","Vibe coding","Software for one","Custom automation","Hyperpersonal software solutions"],address:{"@type":"PostalAddress",addressLocality:"New York",addressRegion:"NY",addressCountry:"US"},sameAs:["https://www.linkedin.com/in/whamwhamwham/","https://www.instagram.com/whamwhamwham/","https://scholar.google.com/citations?user=vTgiK8cAAAAJ&hl=en","https://www.crunchbase.com/person/wendy-ham"]},{"@type":"WebSite","@id":"#website",url:"https://xnham.com",name:"Wendy Ham - Builder of Software for One",description:"Weekend Projects: Exploring the creation of hyperpersonal, hypertargeted software tailored to solve specific individual and small business needs.",author:{"@id":"#wendyham"}},{"@type":"ItemList","@id":"#projectCollection",name:"Software for One Projects",description:"Collection of hyperpersonal software solutions built by Wendy Ham",itemListElement:[{"@type":"CreativeWork",position:1,name:"Expeditr",description:"Tool that consolidates recipe URLs into one ingredient list for easier meal planning and grocery shopping.",author:{"@id":"#wendyham"},url:"https://xnham.com/projects/expeditr"},{"@type":"SoftwareApplication",position:2,name:"Miss Penny",description:"Daily text notification system to track expenses against budget, reducing monthly spending by $334 on average.",author:{"@id":"#wendyham"},applicationCategory:"FinanceApplication",url:"https://xnham.com/projects/miss-penny"},{"@type":"SoftwareApplication",position:3,name:"Custom Google Calendar Integration",description:"Automated system that extracts lesson schedules from a club's web app and posts them to Google Calendar for easy access.",author:{"@id":"#wendyham"},applicationCategory:"ProductivityApplication",url:"https://xnham.com/projects/calendar-integration"}]}]})}),Pn(),Xe();var f=CE();Vf(b=>{var E=TE(),T=et(E),x=D(T,2),R=D(x,2),V=D(R,2),U=D(V,2),N=D(U,2),W=D(N,6);{var L=we=>{var $=SE(),he=et($);_e(()=>Ye(he,"content",s().image)),K(we,$)};ne(W,we=>{s().image&&we(L)})}var q=D(W,2),B=D(q,6),Y=D(B,2),Q=D(Y,2);{var X=we=>{var $=EE(),he=et($);_e(()=>Ye(he,"content",s().image)),K(we,$)};ne(Q,we=>{s().image&&we(X)})}var ve=D(Q,2);Pr(ve,()=>`<script type="application/ld+json">${JSON.stringify(p(i))}<\/script>`,!1,!1),_e(()=>{Cf.title=s().title,Ye(T,"content",s().description),Ye(x,"href",s().canonicalUrl||window.location.href),Ye(R,"content",s().type),Ye(V,"content",s().url||window.location.href),Ye(U,"content",s().title),Ye(N,"content",s().description),Ye(q,"content",s().twitterCard||"summary_large_image"),Ye(B,"content",s().title),Ye(Y,"content",s().description)}),K(b,E)});var h=et(f);Ze(kE(h,{$$legacy:!0}),b=>I(o,b),()=>p(o));var g=D(h,2),y=P(g);zg(y,{get currentPage(){return p(a)}});var _=D(y,2),w=P(_);{var O=b=>{Zw(b,{})},C=(b,E)=>{{var T=R=>{N1(R,{})},x=(R,V)=>{{var U=W=>{l1(W,{})},N=(W,L)=>{{var q=Y=>{R1(Y,{})},B=(Y,Q)=>{{var X=ve=>{B1(ve,{})};ne(Y,ve=>{p(a)==="contact"&&ve(X)},Q)}};ne(W,Y=>{p(a)==="writing"?Y(q):Y(B,!1)},L)}};ne(R,W=>{p(a)==="next"?W(U):W(N,!1)},V)}};ne(b,R=>{p(a)==="about"?R(T):R(x,!1)},E)}};ne(w,b=>{p(a)==="home"?b(O):b(C,!1)})}var A=D(_,2);Vg(A,{}),K(t,f),Ge(),n()}Q_.add(ep,np,tp,ip,kw,bw,Pw,Lw,Ow,xw,ww,Tw,Mw,Sw,rp,sp,Aw,Ew,Iw,jw);const Hv=document.getElementById("app");if(!Hv)throw new Error("Could not find element with id 'app'");hg(AE,{target:Hv});export{K as a,V1 as g,Z as t};
