var cm=Object.defineProperty;var um=(t,e,r)=>e in t?cm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ge=(t,e,r)=>um(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const Sc=!1;var oa=Array.isArray,dm=Array.prototype.indexOf,Pl=Array.from,kf=Object.defineProperty,Cr=Object.getOwnPropertyDescriptor,Sf=Object.getOwnPropertyDescriptors,fm=Object.prototype,hm=Array.prototype,xl=Object.getPrototypeOf;function qn(t){return typeof t=="function"}const zt=()=>{};function pm(t){return t()}function mo(t){for(var e=0;e<t.length;e++)t[e]()}const Ht=2,Ef=4,la=8,ca=16,Lr=32,oi=64,Ds=128,jt=256,Ns=512,wt=1024,Ir=2048,xn=4096,Tr=8192,ua=16384,Cf=32768,Ji=65536,vm=1<<17,Tf=1<<19,Af=1<<20,Kr=Symbol("$state"),Pf=Symbol("legacy props"),mm=Symbol("");function xf(t){return t===this.v}function Ol(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function gm(t,e){return t!==e}function Ml(t){return!Ol(t,this.v)}function ym(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function _m(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function bm(t){throw new Error("https://svelte.dev/e/effect_orphan")}function wm(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function km(t){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function Sm(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Em(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Cm(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Tm(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Am(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let li=!1,Pm=!1;function xm(){li=!0}const Ll=1,Il=2,Of=4,Om=8,Mm=16,Lm=1,Im=2,Mf=4,jm=8,Rm=16,Dm=4,Nm=1,$m=2,pt=Symbol(),Fm="http://www.w3.org/1999/xhtml";function jl(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Re=null;function Ec(t){Re=t}function Je(t,e=!1,r){Re={p:Re,c:null,e:null,m:!1,s:t,x:null,l:null},li&&!e&&(Re.l={s:null,u:null,r1:[],r2:Pt(!1)})}function Ge(t){const e=Re;if(e!==null){t!==void 0&&(e.x=t);const a=e.e;if(a!==null){var r=Me,n=je;e.e=null;try{for(var s=0;s<a.length;s++){var i=a[s];dr(i.effect),ur(i.reaction),di(i.fn)}}finally{dr(r),ur(n)}}Re=e.p,e.m=!0}return t||{}}function ci(){return!li||Re!==null&&Re.l===null}function Pt(t,e){var r={f:0,v:t,reactions:null,equals:xf,rv:0,wv:0};return r}function da(t,e=!1){var n;const r=Pt(t);return e||(r.equals=Ml),li&&Re!==null&&Re.l!==null&&((n=Re.l).s??(n.s=[])).push(r),r}function H(t,e=!1){return Um(da(t,e))}function Um(t){return je!==null&&!Bt&&(je.f&Ht)!==0&&(lr===null?Qm([t]):lr.push(t)),t}function Ve(t,e){return j(t,Rt(()=>p(t))),e}function j(t,e){return je!==null&&!Bt&&ci()&&(je.f&(Ht|ca))!==0&&(lr===null||!lr.includes(t))&&Am(),go(t,e)}function go(t,e){return t.equals(e)||(t.v,t.v=e,t.wv=Jf(),Lf(t,Ir),ci()&&Me!==null&&(Me.f&wt)!==0&&(Me.f&(Lr|oi))===0&&(_r===null?Xm([t]):_r.push(t))),e}function Cc(t,e=1){var r=p(t),n=e===1?r++:r--;return j(t,r),n}function Lf(t,e){var r=t.reactions;if(r!==null)for(var n=ci(),s=r.length,i=0;i<s;i++){var a=r[i],o=a.f;(o&Ir)===0&&(!n&&a===Me||(Yt(a,e),(o&(wt|jt))!==0&&((o&Ht)!==0?Lf(a,xn):va(a))))}}let qm=!1;function zn(t,e=null,r){if(typeof t!="object"||t===null||Kr in t)return t;const n=xl(t);if(n!==fm&&n!==hm)return t;var s=new Map,i=oa(t),a=Pt(0);i&&s.set("length",Pt(t.length));var o;return new Proxy(t,{defineProperty(l,c,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Em();var f=s.get(c);return f===void 0?(f=Pt(d.value),s.set(c,f)):j(f,zn(d.value,o)),!0},deleteProperty(l,c){var d=s.get(c);if(d===void 0)c in l&&s.set(c,Pt(pt));else{if(i&&typeof c=="string"){var f=s.get("length"),h=Number(c);Number.isInteger(h)&&h<f.v&&j(f,h)}j(d,pt),Tc(a)}return!0},get(l,c,d){var y;if(c===Kr)return t;var f=s.get(c),h=c in l;if(f===void 0&&(!h||(y=Cr(l,c))!=null&&y.writable)&&(f=Pt(zn(h?l[c]:pt,o)),s.set(c,f)),f!==void 0){var g=p(f);return g===pt?void 0:g}return Reflect.get(l,c,d)},getOwnPropertyDescriptor(l,c){var d=Reflect.getOwnPropertyDescriptor(l,c);if(d&&"value"in d){var f=s.get(c);f&&(d.value=p(f))}else if(d===void 0){var h=s.get(c),g=h==null?void 0:h.v;if(h!==void 0&&g!==pt)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return d},has(l,c){var g;if(c===Kr)return!0;var d=s.get(c),f=d!==void 0&&d.v!==pt||Reflect.has(l,c);if(d!==void 0||Me!==null&&(!f||(g=Cr(l,c))!=null&&g.writable)){d===void 0&&(d=Pt(f?zn(l[c],o):pt),s.set(c,d));var h=p(d);if(h===pt)return!1}return f},set(l,c,d,f){var P;var h=s.get(c),g=c in l;if(i&&c==="length")for(var y=d;y<h.v;y+=1){var b=s.get(y+"");b!==void 0?j(b,pt):y in l&&(b=Pt(pt),s.set(y+"",b))}h===void 0?(!g||(P=Cr(l,c))!=null&&P.writable)&&(h=Pt(void 0),j(h,zn(d,o)),s.set(c,h)):(g=h.v!==pt,j(h,zn(d,o)));var _=Reflect.getOwnPropertyDescriptor(l,c);if(_!=null&&_.set&&_.set.call(f,d),!g){if(i&&typeof c=="string"){var A=s.get("length"),C=Number(c);Number.isInteger(C)&&C>=A.v&&j(A,C+1)}Tc(a)}return!0},ownKeys(l){p(a);var c=Reflect.ownKeys(l).filter(h=>{var g=s.get(h);return g===void 0||g.v!==pt});for(var[d,f]of s)f.v!==pt&&!(d in l)&&c.push(d);return c},setPrototypeOf(){Cm()}})}function Tc(t,e=1){j(t,t.v+e)}var yo,If,jf,Rf,Df;function zm(){if(yo===void 0){yo=window,If=document,jf=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype;Rf=Cr(e,"firstChild").get,Df=Cr(e,"nextSibling").get,t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0,Text.prototype.__t=void 0}}function Gi(t=""){return document.createTextNode(t)}function sr(t){return Rf.call(t)}function fa(t){return Df.call(t)}function x(t,e){return sr(t)}function Ze(t,e){{var r=sr(t);return r instanceof Comment&&r.data===""?fa(r):r}}function N(t,e=1,r=!1){let n=t;for(;e--;)n=fa(n);return n}function Bm(t){t.textContent=""}function Fi(t){var e=Ht|Ir,r=je!==null&&(je.f&Ht)!==0?je:null;return Me===null||r!==null&&(r.f&jt)!==0?e|=jt:Me.f|=Af,{ctx:Re,deps:null,effects:null,equals:xf,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:r??Me}}function ye(t){const e=Fi(t);return e.equals=Ml,e}function Nf(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)Pr(e[r])}}function Vm(t){for(var e=t.parent;e!==null;){if((e.f&Ht)===0)return e;e=e.parent}return null}function Wm(t){var e,r=Me;dr(Vm(t));try{Nf(t),e=Hf(t)}finally{dr(r)}return e}function $f(t){var e=Wm(t),r=(Yr||(t.f&jt)!==0)&&t.deps!==null?xn:wt;Yt(t,r),t.equals(e)||(t.v=e,t.wv=Jf())}function Ff(t){Me===null&&je===null&&bm(),je!==null&&(je.f&jt)!==0&&Me===null&&_m(),Nl&&ym()}function Jm(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function ui(t,e,r,n=!0){var s=Me,i={ctx:Re,deps:null,nodes_start:null,nodes_end:null,f:t|Ir,first:null,fn:e,last:null,next:null,parent:s,prev:null,teardown:null,transitions:null,wv:0};if(r)try{pa(i),i.f|=Cf}catch(l){throw Pr(i),l}else e!==null&&va(i);var a=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(Af|Ds))===0;if(!a&&n&&(s!==null&&Jm(i,s),je!==null&&(je.f&Ht)!==0)){var o=je;(o.effects??(o.effects=[])).push(i)}return i}function Rl(t){const e=ui(la,null,!1);return Yt(e,wt),e.teardown=t,e}function _o(t){Ff();var e=Me!==null&&(Me.f&Lr)!==0&&Re!==null&&!Re.m;if(e){var r=Re;(r.e??(r.e=[])).push({fn:t,effect:Me,reaction:je})}else{var n=di(t);return n}}function Gm(t){return Ff(),Hi(t)}function Hm(t){const e=ui(oi,t,!0);return(r={})=>new Promise(n=>{r.outro?Xn(e,()=>{Pr(e),n(void 0)}):(Pr(e),n(void 0))})}function di(t){return ui(Ef,t,!1)}function bt(t,e){var r=Re,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=Hi(()=>{t(),!n.ran&&(n.ran=!0,j(r.l.r2,!0),Rt(e))})}function On(){var t=Re;Hi(()=>{if(p(t.l.r2)){for(var e of t.l.r1){var r=e.effect;(r.f&wt)!==0&&Yt(r,xn),fi(r)&&pa(r),e.ran=!1}t.l.r2.v=!1}})}function Hi(t){return ui(la,t,!0)}function _e(t,e=[],r=Fi){const n=e.map(r);return Mn(()=>t(...n.map(p)))}function Mn(t,e=0){return ui(la|ca|e,t,!0)}function Xr(t,e=!0){return ui(la|Lr,t,!0,e)}function Uf(t){var e=t.teardown;if(e!==null){const r=Nl,n=je;Ac(!0),ur(null);try{e.call(null)}finally{Ac(r),ur(n)}}}function qf(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var n=r.next;(r.f&oi)!==0?r.parent=null:Pr(r,e),r=n}}function Ym(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&Lr)===0&&Pr(e),e=r}}function Pr(t,e=!0){var r=!1;if((e||(t.f&Tf)!==0)&&t.nodes_start!==null){for(var n=t.nodes_start,s=t.nodes_end;n!==null;){var i=n===s?null:fa(n);n.remove(),n=i}r=!0}qf(t,e&&!r),zs(t,0),Yt(t,ua);var a=t.transitions;if(a!==null)for(const l of a)l.stop();Uf(t);var o=t.parent;o!==null&&o.first!==null&&zf(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function zf(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function Xn(t,e){var r=[];Dl(t,r,!0),Bf(r,()=>{Pr(t),e&&e()})}function Bf(t,e){var r=t.length;if(r>0){var n=()=>--r||e();for(var s of t)s.out(n)}else e()}function Dl(t,e,r){if((t.f&Tr)===0){if(t.f^=Tr,t.transitions!==null)for(const a of t.transitions)(a.is_global||r)&&e.push(a);for(var n=t.first;n!==null;){var s=n.next,i=(n.f&Ji)!==0||(n.f&Lr)!==0;Dl(n,e,i?r:!1),n=s}}}function $s(t){Vf(t,!0)}function Vf(t,e){if((t.f&Tr)!==0){t.f^=Tr,(t.f&wt)===0&&(t.f^=wt),fi(t)&&(Yt(t,Ir),va(t));for(var r=t.first;r!==null;){var n=r.next,s=(r.f&Ji)!==0||(r.f&Lr)!==0;Vf(r,s?e:!1),r=n}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}let Fs=[];function Km(){var t=Fs;Fs=[],mo(t)}function Yi(t){Fs.length===0&&queueMicrotask(Km),Fs.push(t)}let Cs=!1,bo=!1,Us=null,yn=!1,Nl=!1;function Ac(t){Nl=t}let Ts=[];let je=null,Bt=!1;function ur(t){je=t}let Me=null;function dr(t){Me=t}let lr=null;function Qm(t){lr=t}let vt=null,Tt=0,_r=null;function Xm(t){_r=t}let Wf=1,qs=0,Yr=!1;function Jf(){return++Wf}function fi(t){var f;var e=t.f;if((e&Ir)!==0)return!0;if((e&xn)!==0){var r=t.deps,n=(e&jt)!==0;if(r!==null){var s,i,a=(e&Ns)!==0,o=n&&Me!==null&&!Yr,l=r.length;if(a||o){var c=t,d=c.parent;for(s=0;s<l;s++)i=r[s],(a||!((f=i==null?void 0:i.reactions)!=null&&f.includes(c)))&&(i.reactions??(i.reactions=[])).push(c);a&&(c.f^=Ns),o&&d!==null&&(d.f&jt)===0&&(c.f^=jt)}for(s=0;s<l;s++)if(i=r[s],fi(i)&&$f(i),i.wv>t.wv)return!0}(!n||Me!==null&&!Yr)&&Yt(t,wt)}return!1}function Zm(t,e){for(var r=e;r!==null;){if((r.f&Ds)!==0)try{r.fn(t);return}catch{r.f^=Ds}r=r.parent}throw Cs=!1,t}function eg(t){return(t.f&ua)===0&&(t.parent===null||(t.parent.f&Ds)===0)}function ha(t,e,r,n){if(Cs){if(r===null&&(Cs=!1),eg(e))throw t;return}r!==null&&(Cs=!0);{Zm(t,e);return}}function Gf(t,e,r=!0){var n=t.reactions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];(i.f&Ht)!==0?Gf(i,e,!1):e===i&&(r?Yt(i,Ir):(i.f&wt)!==0&&Yt(i,xn),va(i))}}function Hf(t){var g;var e=vt,r=Tt,n=_r,s=je,i=Yr,a=lr,o=Re,l=Bt,c=t.f;vt=null,Tt=0,_r=null,Yr=(c&jt)!==0&&(Bt||!yn||je===null),je=(c&(Lr|oi))===0?t:null,lr=null,Ec(t.ctx),Bt=!1,qs++;try{var d=(0,t.fn)(),f=t.deps;if(vt!==null){var h;if(zs(t,Tt),f!==null&&Tt>0)for(f.length=Tt+vt.length,h=0;h<vt.length;h++)f[Tt+h]=vt[h];else t.deps=f=vt;if(!Yr)for(h=Tt;h<f.length;h++)((g=f[h]).reactions??(g.reactions=[])).push(t)}else f!==null&&Tt<f.length&&(zs(t,Tt),f.length=Tt);if(ci()&&_r!==null&&!Bt&&f!==null&&(t.f&(Ht|xn|Ir))===0)for(h=0;h<_r.length;h++)Gf(_r[h],t);return s!==null&&qs++,d}finally{vt=e,Tt=r,_r=n,je=s,Yr=i,lr=a,Ec(o),Bt=l}}function tg(t,e){let r=e.reactions;if(r!==null){var n=dm.call(r,t);if(n!==-1){var s=r.length-1;s===0?r=e.reactions=null:(r[n]=r[s],r.pop())}}r===null&&(e.f&Ht)!==0&&(vt===null||!vt.includes(e))&&(Yt(e,xn),(e.f&(jt|Ns))===0&&(e.f^=Ns),Nf(e),zs(e,0))}function zs(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)tg(t,r[n])}function pa(t){var e=t.f;if((e&ua)===0){Yt(t,wt);var r=Me,n=Re,s=yn;Me=t,yn=!0;try{(e&ca)!==0?Ym(t):qf(t),Uf(t);var i=Hf(t);t.teardown=typeof i=="function"?i:null,t.wv=Wf;var a=t.deps,o;Sc&&Pm&&t.f&Ir}catch(l){ha(l,t,r,n||t.ctx)}finally{yn=s,Me=r}}}function rg(){try{wm()}catch(t){if(Us!==null)ha(t,Us,null);else throw t}}function ng(){var t=yn;try{var e=0;for(yn=!0;Ts.length>0;){e++>1e3&&rg();var r=Ts,n=r.length;Ts=[];for(var s=0;s<n;s++){var i=sg(r[s]);ig(i)}}}finally{bo=!1,yn=t,Us=null}}function ig(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var n=t[r];if((n.f&(ua|Tr))===0)try{fi(n)&&(pa(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?zf(n):n.fn=null))}catch(s){ha(s,n,null,n.ctx)}}}function va(t){bo||(bo=!0,queueMicrotask(ng));for(var e=Us=t;e.parent!==null;){e=e.parent;var r=e.f;if((r&(oi|Lr))!==0){if((r&wt)===0)return;e.f^=wt}}Ts.push(e)}function sg(t){for(var e=[],r=t;r!==null;){var n=r.f,s=(n&(Lr|oi))!==0,i=s&&(n&wt)!==0;if(!i&&(n&Tr)===0){if((n&Ef)!==0)e.push(r);else if(s)r.f^=wt;else{var a=je;try{je=r,fi(r)&&pa(r)}catch(c){ha(c,r,null,r.ctx)}finally{je=a}}var o=r.first;if(o!==null){r=o;continue}}var l=r.parent;for(r=r.next;r===null&&l!==null;)r=l.next,l=l.parent}return e}function p(t){var e=t.f,r=(e&Ht)!==0;if(je!==null&&!Bt){lr!==null&&lr.includes(t)&&Tm();var n=je.deps;t.rv<qs&&(t.rv=qs,vt===null&&n!==null&&n[Tt]===t?Tt++:vt===null?vt=[t]:(!Yr||!vt.includes(t))&&vt.push(t))}else if(r&&t.deps===null&&t.effects===null){var s=t,i=s.parent;i!==null&&(i.f&jt)===0&&(s.f^=jt)}return r&&(s=t,fi(s)&&$f(s)),t.v}function Rt(t){var e=Bt;try{return Bt=!0,t()}finally{Bt=e}}const ag=-7169;function Yt(t,e){t.f=t.f&ag|e}function Ci(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Kr in t)wo(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&Kr in r&&wo(r)}}}function wo(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{wo(t[n],e)}catch{}const r=xl(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Sf(r);for(let s in n){const i=n[s].get;if(i)try{i.call(t)}catch{}}}}}function og(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const lg=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function cg(t){return lg.includes(t)}const ug={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function dg(t){return t=t.toLowerCase(),ug[t]??t}const fg=["touchstart","touchmove"];function hg(t){return fg.includes(t)}function pg(t,e){if(e){const r=document.body;t.autofocus=!0,Yi(()=>{document.activeElement===r&&t.focus()})}}let Pc=!1;function vg(){Pc||(Pc=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const r of t.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function $l(t){var e=je,r=Me;ur(null),dr(null);try{return t()}finally{ur(e),dr(r)}}function mg(t,e,r,n=r){t.addEventListener(e,()=>$l(r));const s=t.__on_r;s?t.__on_r=()=>{s(),n(!0)}:t.__on_r=()=>n(!0),vg()}const Yf=new Set,ko=new Set;function Kf(t,e,r,n={}){function s(i){if(n.capture||Ti.call(e,i),!i.cancelBubble)return $l(()=>r==null?void 0:r.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Yi(()=>{e.addEventListener(t,s,n)}):e.addEventListener(t,s,n),s}function de(t,e,r,n,s){var i={capture:n,passive:s},a=Kf(t,e,r,i);(e===document.body||e===window||e===document)&&Rl(()=>{e.removeEventListener(t,a,i)})}function gg(t){for(var e=0;e<t.length;e++)Yf.add(t[e]);for(var r of ko)r(t)}function Ti(t){var C;var e=this,r=e.ownerDocument,n=t.type,s=((C=t.composedPath)==null?void 0:C.call(t))||[],i=s[0]||t.target,a=0,o=t.__root;if(o){var l=s.indexOf(o);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var c=s.indexOf(e);if(c===-1)return;l<=c&&(a=l)}if(i=s[a]||t.target,i!==e){kf(t,"currentTarget",{configurable:!0,get(){return i||r}});var d=je,f=Me;ur(null),dr(null);try{for(var h,g=[];i!==null;){var y=i.assignedSlot||i.parentNode||i.host||null;try{var b=i["__"+n];if(b!==void 0&&(!i.disabled||t.target===i))if(oa(b)){var[_,...A]=b;_.apply(i,[t,...A])}else b.call(i,t)}catch(P){h?g.push(P):h=P}if(t.cancelBubble||y===e||y===null)break;i=y}if(h){for(let P of g)queueMicrotask(()=>{throw P});throw h}}finally{t.__root=e,delete t.currentTarget,ur(d),dr(f)}}}function Qf(t){var e;e=document.head.appendChild(Gi());try{Mn(()=>t(e),Tf)}finally{}}function Fl(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function Zn(t,e){var r=Me;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function ee(t,e){var r=(e&Nm)!==0,n=(e&$m)!==0,s,i=!t.startsWith("<!>");return()=>{s===void 0&&(s=Fl(i?t:"<!>"+t),r||(s=sr(s)));var a=n||jf?document.importNode(s,!0):s.cloneNode(!0);if(r){var o=sr(a),l=a.lastChild;Zn(o,l)}else Zn(a,a);return a}}function yg(t,e){var r=ee(t,e);return()=>bg(r())}function _g(t,e,r="svg"){var n=!t.startsWith("<!>"),s=`<${r}>${n?t:"<!>"+t}</${r}>`,i;return()=>{if(!i){var a=Fl(s),o=sr(a);i=sr(o)}var l=i.cloneNode(!0);return Zn(l,l),l}}function bg(t){const e=t.nodeType===11,r=t.tagName==="SCRIPT"?[t]:t.querySelectorAll("script"),n=Me;for(const i of r){const a=document.createElement("script");for(var s of i.attributes)a.setAttribute(s.name,s.value);a.textContent=i.textContent,(e?t.firstChild===i:t===i)&&(n.nodes_start=a),(e?t.lastChild===i:t===i)&&(n.nodes_end=a),i.replaceWith(a)}return t}function Li(t=""){{var e=Gi(t+"");return Zn(e,e),e}}function Ar(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Gi();return t.append(e,r),Zn(e,r),t}function K(t,e){t!==null&&t.before(e)}let So=!0;function fe(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function wg(t,e){return kg(t,e)}const jn=new Map;function kg(t,{target:e,anchor:r,props:n={},events:s,context:i,intro:a=!0}){zm();var o=new Set,l=f=>{for(var h=0;h<f.length;h++){var g=f[h];if(!o.has(g)){o.add(g);var y=hg(g);e.addEventListener(g,Ti,{passive:y});var b=jn.get(g);b===void 0?(document.addEventListener(g,Ti,{passive:y}),jn.set(g,1)):jn.set(g,b+1)}}};l(Pl(Yf)),ko.add(l);var c=void 0,d=Hm(()=>{var f=r??e.appendChild(Gi());return Xr(()=>{if(i){Je({});var h=Re;h.c=i}s&&(n.$$events=s),So=a,c=t(f,n)||{},So=!0,i&&Ge()}),()=>{var y;for(var h of o){e.removeEventListener(h,Ti);var g=jn.get(h);--g===0?(document.removeEventListener(h,Ti),jn.delete(h)):jn.set(h,g)}ko.delete(l),f!==r&&((y=f.parentNode)==null||y.removeChild(f))}});return Sg.set(c,d),c}let Sg=new WeakMap;function ie(t,e,[r,n]=[0,0]){var s=t,i=null,a=null,o=pt,l=r>0?Ji:0,c=!1;const d=(h,g=!0)=>{c=!0,f(g,h)},f=(h,g)=>{o!==(o=h)&&(o?(i?$s(i):g&&(i=Xr(()=>g(s))),a&&Xn(a,()=>{a=null})):(a?$s(a):g&&(a=Xr(()=>g(s,[r+1,n]))),i&&Xn(i,()=>{i=null})))};Mn(()=>{c=!1,e(d),c||f(null,null)},l)}function Xf(t,e,r){var n=t,s=pt,i,a=ci()?gm:Ol;Mn(()=>{a(s,s=e())&&(i&&Xn(i),i=Xr(()=>r(n)))})}function Zf(t,e){return e}function Eg(t,e,r,n){for(var s=[],i=e.length,a=0;a<i;a++)Dl(e[a].e,s,!0);var o=i>0&&s.length===0&&r!==null;if(o){var l=r.parentNode;Bm(l),l.append(r),n.clear(),Br(t,e[0].prev,e[i-1].next)}Bf(s,()=>{for(var c=0;c<i;c++){var d=e[c];o||(n.delete(d.k),Br(t,d.prev,d.next)),Pr(d.e,!o)}})}function Bs(t,e,r,n,s,i=null){var a=t,o={flags:e,items:new Map,first:null},l=(e&Of)!==0;if(l){var c=t;a=c.appendChild(Gi())}var d=null,f=!1,h=ye(()=>{var g=r();return oa(g)?g:g==null?[]:Pl(g)});Mn(()=>{var g=p(h),y=g.length;f&&y===0||(f=y===0,Cg(g,o,a,s,e,n,r),i!==null&&(y===0?d?$s(d):d=Xr(()=>i(a)):d!==null&&Xn(d,()=>{d=null})),p(h))})}function Cg(t,e,r,n,s,i,a){var F,W,Y,Q;var o=(s&Om)!==0,l=(s&(Ll|Il))!==0,c=t.length,d=e.items,f=e.first,h=f,g,y=null,b,_=[],A=[],C,P,w,k;if(o)for(k=0;k<c;k+=1)C=t[k],P=i(C,k),w=d.get(P),w!==void 0&&((F=w.a)==null||F.measure(),(b??(b=new Set)).add(w));for(k=0;k<c;k+=1){if(C=t[k],P=i(C,k),w=d.get(P),w===void 0){var T=h?h.e.nodes_start:r;y=Ag(T,e,y,y===null?e.first:y.next,C,P,k,n,s,a),d.set(P,y),_=[],A=[],h=y.next;continue}if(l&&Tg(w,C,k,s),(w.e.f&Tr)!==0&&($s(w.e),o&&((W=w.a)==null||W.unfix(),(b??(b=new Set)).delete(w))),w!==h){if(g!==void 0&&g.has(w)){if(_.length<A.length){var O=A[0],I;y=O.prev;var z=_[0],V=_[_.length-1];for(I=0;I<_.length;I+=1)xc(_[I],O,r);for(I=0;I<A.length;I+=1)g.delete(A[I]);Br(e,z.prev,V.next),Br(e,y,z),Br(e,V,O),h=O,y=V,k-=1,_=[],A=[]}else g.delete(w),xc(w,h,r),Br(e,w.prev,w.next),Br(e,w,y===null?e.first:y.next),Br(e,y,w),y=w;continue}for(_=[],A=[];h!==null&&h.k!==P;)(h.e.f&Tr)===0&&(g??(g=new Set)).add(h),A.push(h),h=h.next;if(h===null)continue;w=h}_.push(w),y=w,h=w.next}if(h!==null||g!==void 0){for(var D=g===void 0?[]:Pl(g);h!==null;)(h.e.f&Tr)===0&&D.push(h),h=h.next;var B=D.length;if(B>0){var M=(s&Of)!==0&&c===0?r:null;if(o){for(k=0;k<B;k+=1)(Y=D[k].a)==null||Y.measure();for(k=0;k<B;k+=1)(Q=D[k].a)==null||Q.fix()}Eg(e,D,M,d)}}o&&Yi(()=>{var X;if(b!==void 0)for(w of b)(X=w.a)==null||X.apply()}),Me.first=e.first&&e.first.e,Me.last=y&&y.e}function Tg(t,e,r,n){(n&Ll)!==0&&go(t.v,e),(n&Il)!==0?go(t.i,r):t.i=r}function Ag(t,e,r,n,s,i,a,o,l,c){var d=(l&Ll)!==0,f=(l&Mm)===0,h=d?f?da(s):Pt(s):s,g=(l&Il)===0?a:Pt(a),y={i:g,v:h,k:i,a:null,e:null,prev:r,next:n};try{return y.e=Xr(()=>o(t,h,g,c),qm),y.e.prev=r&&r.e,y.e.next=n&&n.e,r===null?e.first=y:(r.next=y,r.e.next=y.e),n!==null&&(n.prev=y,n.e.prev=y.e),y}finally{}}function xc(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,s=e?e.e.nodes_start:r,i=t.e.nodes_start;i!==n;){var a=fa(i);s.before(i),i=a}}function Br(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function xr(t,e,r,n,s){var i=t,a="",o;Mn(()=>{a!==(a=e()??"")&&(o!==void 0&&(Pr(o),o=void 0),a!==""&&(o=Xr(()=>{var l=a+"";r&&(l=`<svg>${l}</svg>`);var c=Fl(l);if((r||n)&&(c=sr(c)),Zn(sr(c),c.lastChild),r||n)for(;sr(c);)i.before(sr(c));else i.before(c)})))})}function Pg(t,e,r){var n=t,s,i;Mn(()=>{s!==(s=e())&&(i&&(Xn(i),i=null),s&&(i=Xr(()=>r(n,s))))},Ji)}function xg(t,e,r){di(()=>{var n=Rt(()=>e(t,r==null?void 0:r())||{});if(n!=null&&n.destroy)return()=>n.destroy()})}function eh(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=eh(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Og(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=eh(t))&&(n&&(n+=" "),n+=e);return n}function th(t){return typeof t=="object"?Og(t):t??""}const Oc=[...` 	
\r\f \v\uFEFF`];function Mg(t,e,r){var n=t==null?"":""+t;if(e&&(n=n?n+" "+e:e),r){for(var s in r)if(r[s])n=n?n+" "+s:s;else if(n.length)for(var i=s.length,a=0;(a=n.indexOf(s,a))>=0;){var o=a+i;(a===0||Oc.includes(n[a-1]))&&(o===n.length||Oc.includes(n[o]))?n=(a===0?"":n.substring(0,a))+n.substring(o+1):a=o}}return n===""?null:n}function Mc(t,e=!1){var r=e?" !important;":";",n="";for(var s in t){var i=t[s];i!=null&&i!==""&&(n+=" "+s+": "+i+r)}return n}function Da(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Lg(t,e){if(e){var r="",n,s;if(Array.isArray(e)?(n=e[0],s=e[1]):n=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,a=0,o=!1,l=[];n&&l.push(...Object.keys(n).map(Da)),s&&l.push(...Object.keys(s).map(Da));var c=0,d=-1;const b=t.length;for(var f=0;f<b;f++){var h=t[f];if(o?h==="/"&&t[f-1]==="*"&&(o=!1):i?i===h&&(i=!1):h==="/"&&t[f+1]==="*"?o=!0:h==='"'||h==="'"?i=h:h==="("?a++:h===")"&&a--,!o&&i===!1&&a===0){if(h===":"&&d===-1)d=f;else if(h===";"||f===b-1){if(d!==-1){var g=Da(t.substring(c,d).trim());if(!l.includes(g)){h!==";"&&f++;var y=t.substring(c,f).trim();r+=" "+y+";"}}c=f+1,d=-1}}}}return n&&(r+=Mc(n)),s&&(r+=Mc(s,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function he(t,e,r,n,s,i){var a=t.__className;if(a!==r){var o=Mg(r,n,i);o==null?t.removeAttribute("class"):e?t.className=o:t.setAttribute("class",o),t.__className=r}else if(i&&s!==i)for(var l in i){var c=!!i[l];(s==null||c!==!!s[l])&&t.classList.toggle(l,c)}return i}function Na(t,e={},r,n){for(var s in r){var i=r[s];e[s]!==i&&(r[s]==null?t.style.removeProperty(s):t.style.setProperty(s,i,n))}}function dn(t,e,r,n){var s=t.__style;if(s!==e){var i=Lg(e,n);i==null?t.removeAttribute("style"):t.style.cssText=i,t.__style=e}else n&&(Array.isArray(n)?(Na(t,r==null?void 0:r[0],n[0]),Na(t,r==null?void 0:r[1],n[1],"important")):Na(t,r,n));return n}const _i=Symbol("class"),bi=Symbol("style"),rh=Symbol("is custom element"),nh=Symbol("is html");function Ig(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function Ye(t,e,r,n){var s=ih(t);s[e]!==(s[e]=r)&&(e==="loading"&&(t[mm]=r),r==null?t.removeAttribute(e):typeof r!="string"&&sh(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function jg(t,e,r,n,s=!1){var i=ih(t),a=i[rh],o=!i[nh],l=e||{},c=t.tagName==="OPTION";for(var d in e)d in r||(r[d]=null);r.class?r.class=th(r.class):r[_i]&&(r.class=null),r[bi]&&(r.style??(r.style=null));var f=sh(t);for(const C in r){let P=r[C];if(c&&C==="value"&&P==null){t.value=t.__value="",l[C]=P;continue}if(C==="class"){var h=t.namespaceURI==="http://www.w3.org/1999/xhtml";he(t,h,P,n,e==null?void 0:e[_i],r[_i]),l[C]=P,l[_i]=r[_i];continue}if(C==="style"){dn(t,P,e==null?void 0:e[bi],r[bi]),l[C]=P,l[bi]=r[bi];continue}var g=l[C];if(P!==g){l[C]=P;var y=C[0]+C[1];if(y!=="$$")if(y==="on"){const w={},k="$$"+C;let T=C.slice(2);var b=cg(T);if(og(T)&&(T=T.slice(0,-7),w.capture=!0),!b&&g){if(P!=null)continue;t.removeEventListener(T,l[k],w),l[k]=null}if(P!=null)if(b)t[`__${T}`]=P,gg([T]);else{let O=function(I){l[C].call(this,I)};l[k]=Kf(T,t,O,w)}else b&&(t[`__${T}`]=void 0)}else if(C==="style")Ye(t,C,P);else if(C==="autofocus")pg(t,!!P);else if(!a&&(C==="__value"||C==="value"&&P!=null))t.value=t.__value=P;else if(C==="selected"&&c)Ig(t,P);else{var _=C;o||(_=dg(_));var A=_==="defaultValue"||_==="defaultChecked";if(P==null&&!a&&!A)if(i[C]=null,_==="value"||_==="checked"){let w=t;const k=e===void 0;if(_==="value"){let T=w.defaultValue;w.removeAttribute(_),w.defaultValue=T,w.value=w.__value=k?T:null}else{let T=w.defaultChecked;w.removeAttribute(_),w.defaultChecked=T,w.checked=k?T:!1}}else t.removeAttribute(C);else A||f.includes(_)&&(a||typeof P!="string")?t[_]=P:typeof P!="function"&&Ye(t,_,P)}}}return l}function ih(t){return t.__attributes??(t.__attributes={[rh]:t.nodeName.includes("-"),[nh]:t.namespaceURI===Fm})}var Lc=new Map;function sh(t){var e=Lc.get(t.nodeName);if(e)return e;Lc.set(t.nodeName,e=[]);for(var r,n=t,s=Element.prototype;s!==n;){r=Sf(n);for(var i in r)r[i].set&&e.push(i);n=xl(n)}return e}const Rg=()=>performance.now(),wr={tick:t=>requestAnimationFrame(t),now:()=>Rg(),tasks:new Set};function ah(){const t=wr.now();wr.tasks.forEach(e=>{e.c(t)||(wr.tasks.delete(e),e.f())}),wr.tasks.size!==0&&wr.tick(ah)}function Dg(t){let e;return wr.tasks.size===0&&wr.tick(ah),{promise:new Promise(r=>{wr.tasks.add(e={c:t,f:r})}),abort(){wr.tasks.delete(e)}}}function is(t,e){$l(()=>{t.dispatchEvent(new CustomEvent(e))})}function Ng(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Ic(t){const e={},r=t.split(";");for(const n of r){const[s,i]=n.split(":");if(!s||i===void 0)break;const a=Ng(s.trim());e[a]=i.trim()}return e}const $g=t=>t;function Vs(t,e,r,n){var s=(t&Dm)!==0,i="both",a,o=e.inert,l=e.style.overflow,c,d;function f(){var _=je,A=Me;ur(null),dr(null);try{return a??(a=r()(e,(n==null?void 0:n())??{},{direction:i}))}finally{ur(_),dr(A)}}var h={is_global:s,in(){e.inert=o,is(e,"introstart"),c=Eo(e,f(),d,1,()=>{is(e,"introend"),c==null||c.abort(),c=a=void 0,e.style.overflow=l})},out(_){e.inert=!0,is(e,"outrostart"),d=Eo(e,f(),c,0,()=>{is(e,"outroend"),_==null||_()})},stop:()=>{c==null||c.abort(),d==null||d.abort()}},g=Me;if((g.transitions??(g.transitions=[])).push(h),So){var y=s;if(!y){for(var b=g.parent;b&&(b.f&Ji)!==0;)for(;(b=b.parent)&&(b.f&ca)===0;);y=!b||(b.f&Cf)!==0}y&&di(()=>{Rt(()=>h.in())})}}function Eo(t,e,r,n,s){var i=n===1;if(qn(e)){var a,o=!1;return Yi(()=>{if(!o){var _=e({direction:i?"in":"out"});a=Eo(t,_,r,n,s)}}),{abort:()=>{o=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(r==null||r.deactivate(),!(e!=null&&e.duration))return s(),{abort:zt,deactivate:zt,reset:zt,t:()=>n};const{delay:l=0,css:c,tick:d,easing:f=$g}=e;var h=[];if(i&&r===void 0&&(d&&d(0,1),c)){var g=Ic(c(0,1));h.push(g,g)}var y=()=>1-n,b=t.animate(h,{duration:l});return b.onfinish=()=>{var _=(r==null?void 0:r.t())??1-n;r==null||r.abort();var A=n-_,C=e.duration*Math.abs(A),P=[];if(C>0){var w=!1;if(c)for(var k=Math.ceil(C/16.666666666666668),T=0;T<=k;T+=1){var O=_+A*f(T/k),I=Ic(c(O,1-O));P.push(I),w||(w=I.overflow==="hidden")}w&&(t.style.overflow="hidden"),y=()=>{var z=b.currentTime;return _+A*f(z/C)},d&&Dg(()=>{if(b.playState!=="running")return!1;var z=y();return d(z,1-z),!0})}b=t.animate(P,{duration:C,fill:"forwards"}),b.onfinish=()=>{y=()=>n,d==null||d(n,1-n),s()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=zt)},deactivate:()=>{s=zt},reset:()=>{n===0&&(d==null||d(1,0))},t:()=>y()}}function As(t,e,r=e){var n=ci();mg(t,"input",s=>{var i=s?t.defaultValue:t.value;if(i=$a(t)?Fa(i):i,r(i),n&&i!==(i=e())){var a=t.selectionStart,o=t.selectionEnd;t.value=i??"",o!==null&&(t.selectionStart=a,t.selectionEnd=Math.min(o,t.value.length))}}),Rt(e)==null&&t.value&&r($a(t)?Fa(t.value):t.value),Hi(()=>{var s=e();$a(t)&&s===Fa(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function $a(t){var e=t.type;return e==="number"||e==="range"}function Fa(t){return t===""?null:+t}function Fg(t,e,r){var n=Cr(t,e);n&&n.set&&(t[e]=r,Rl(()=>{t[e]=null}))}function jc(t,e){return t===e||(t==null?void 0:t[Kr])===e}function Xe(t={},e,r,n){return di(()=>{var s,i;return Hi(()=>{s=i,i=(n==null?void 0:n())||[],Rt(()=>{t!==r(...i)&&(e(t,...i),s&&jc(r(...s),t)&&e(null,...s))})}),()=>{Yi(()=>{i&&jc(r(...i),t)&&e(null,...i)})}}),t}function Ws(t){return function(...e){var r=e[0];return r.preventDefault(),t==null?void 0:t.apply(this,e)}}function Qe(t=!1){const e=Re,r=e.l.u;if(!r)return;let n=()=>Ci(e.s);if(t){let s=0,i={};const a=Fi(()=>{let o=!1;const l=e.s;for(const c in l)l[c]!==i[c]&&(i[c]=l[c],o=!0);return o&&s++,s});n=()=>p(a)}r.b.length&&Gm(()=>{Rc(e,n),mo(r.b)}),_o(()=>{const s=Rt(()=>r.m.map(pm));return()=>{for(const i of s)typeof i=="function"&&i()}}),r.a.length&&_o(()=>{Rc(e,n),mo(r.a)})}function Rc(t,e){if(t.l.s)for(const r of t.l.s)p(r);e()}function Ug(t,e){var i;var r=(i=t.$$events)==null?void 0:i[e.type],n=oa(r)?r.slice():r==null?[]:[r];for(var s of n)s.call(this,e)}function oh(t,e,r){if(t==null)return e(void 0),zt;const n=Rt(()=>t.subscribe(e,r));return n.unsubscribe?()=>n.unsubscribe():n}const Rn=[];function Ul(t,e=zt){let r=null;const n=new Set;function s(o){if(Ol(t,o)&&(t=o,r)){const l=!Rn.length;for(const c of n)c[1](),Rn.push(c,t);if(l){for(let c=0;c<Rn.length;c+=2)Rn[c][0](Rn[c+1]);Rn.length=0}}}function i(o){s(o(t))}function a(o,l=zt){const c=[o,l];return n.add(c),n.size===1&&(r=e(s,i)||zt),o(t),()=>{n.delete(c),n.size===0&&r&&(r(),r=null)}}return{set:s,update:i,subscribe:a}}function wn(t){let e;return oh(t,r=>e=r)(),e}let ss=!1,Co=Symbol();function qg(t,e,r){const n=r[e]??(r[e]={store:null,source:da(void 0),unsubscribe:zt});if(n.store!==t&&!(Co in r))if(n.unsubscribe(),n.store=t??null,t==null)n.source.v=void 0,n.unsubscribe=zt;else{var s=!0;n.unsubscribe=oh(t,i=>{s?n.source.v=i:j(n.source,i)}),s=!1}return t&&Co in r?wn(t):p(n.source)}function zg(){const t={};function e(){Rl(()=>{for(var r in t)t[r].unsubscribe();kf(t,Co,{enumerable:!1,value:!0})})}return[t,e]}function Bg(t){var e=ss;try{return ss=!1,[t(),ss]}finally{ss=e}}const Vg={get(t,e){if(!t.exclude.includes(e))return p(t.version),e in t.special?t.special[e]():t.props[e]},set(t,e,r){return e in t.special||(t.special[e]=ne({get[e](){return t.props[e]}},e,Mf)),t.special[e](r),Cc(t.version),!0},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},deleteProperty(t,e){return t.exclude.includes(e)||(t.exclude.push(e),Cc(t.version)),!0},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function Dc(t,e){return new Proxy({props:t,exclude:e,special:{},version:Pt(0)},Vg)}const Wg={get(t,e){let r=t.props.length;for(;r--;){let n=t.props[r];if(qn(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n)return n[e]}},set(t,e,r){let n=t.props.length;for(;n--;){let s=t.props[n];qn(s)&&(s=s());const i=Cr(s,e);if(i&&i.set)return i.set(r),!0}return!1},getOwnPropertyDescriptor(t,e){let r=t.props.length;for(;r--;){let n=t.props[r];if(qn(n)&&(n=n()),typeof n=="object"&&n!==null&&e in n){const s=Cr(n,e);return s&&!s.configurable&&(s.configurable=!0),s}}},has(t,e){if(e===Kr||e===Pf)return!1;for(let r of t.props)if(qn(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(t){const e=[];for(let r of t.props){qn(r)&&(r=r());for(const n in r)e.includes(n)||e.push(n)}return e}};function Jg(...t){return new Proxy({props:t},Wg)}function ne(t,e,r,n){var T;var s=(r&Lm)!==0,i=!li||(r&Im)!==0,a=(r&jm)!==0,o=(r&Rm)!==0,l=!1,c;a?[c,l]=Bg(()=>t[e]):c=t[e];var d=Kr in t||Pf in t,f=a&&(((T=Cr(t,e))==null?void 0:T.set)??(d&&e in t&&(O=>t[e]=O)))||void 0,h=n,g=!0,y=!1,b=()=>(y=!0,g&&(g=!1,o?h=Rt(n):h=n),h);c===void 0&&n!==void 0&&(f&&i&&Sm(),c=b(),f&&f(c));var _;if(i)_=()=>{var O=t[e];return O===void 0?b():(g=!0,y=!1,O)};else{var A=(s?Fi:ye)(()=>t[e]);A.f|=vm,_=()=>{var O=p(A);return O!==void 0&&(h=void 0),O===void 0?h:O}}if((r&Mf)===0)return _;if(f){var C=t.$$legacy;return function(O,I){return arguments.length>0?((!i||!I||C||l)&&f(I?_():O),O):_()}}var P=!1,w=da(c),k=Fi(()=>{var O=_(),I=p(w);return P?(P=!1,I):w.v=O});return s||(k.equals=Ml),function(O,I){if(arguments.length>0){const z=I?p(k):i&&a?zn(O):O;return k.equals(z)||(P=!0,j(w,z),y&&h!==void 0&&(h=z),Rt(()=>p(k))),O}return p(k)}}function rt(t){Re===null&&jl(),li&&Re.l!==null?lh(Re).m.push(t):_o(()=>{const e=Rt(t);if(typeof e=="function")return e})}function Gg(t){Re===null&&jl(),rt(()=>()=>Rt(t))}function Ki(t){Re===null&&jl(),Re.l===null&&km(),lh(Re).a.push(t)}function lh(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Hg="5";var wf;typeof window<"u"&&((wf=window.__svelte??(window.__svelte={})).v??(wf.v=new Set)).add(Hg);xm();var Yg=ee('<nav class="nav svelte-z6pn53"><div class="nav-container svelte-z6pn53"><div class="nav-logo svelte-z6pn53"><a href="/" class="svelte-z6pn53"><img alt="xnham logo" title="xnham" class="svelte-z6pn53"></a></div> <button aria-label="Toggle navigation menu"><span class="hamburger-line svelte-z6pn53"></span> <span class="hamburger-line svelte-z6pn53"></span> <span class="hamburger-line svelte-z6pn53"></span></button> <ul><li><a href="/">Portfolio</a></li> <li><a href="/next">Next</a></li> <li><a href="/writing">Writing</a></li> <li><a href="/about">About</a></li> <li><a href="/contact">Contact</a></li></ul></div></nav>');function Kg(t,e){Je(e,!1);let r=ne(e,"currentPage",8,"home"),n=H(!1),s=!0,i=H(!1);const a="/images/eggs_ham.png",o="/images/eggs_ham_animated.gif";function l(){j(n,!p(n))}function c(){j(n,!1)}function d(be){(be.key==="Enter"||be.key===" ")&&l(),be.key==="Escape"&&c()}function f(){s=window.innerWidth>768,s&&c()}rt(()=>(f(),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)})),Qe();var h=Yg(),g=x(h),y=x(g),b=x(y),_=x(b),A=N(y,2);let C;var P=N(A,2);let w;var k=x(P),T=x(k);let O;var I=N(k,2),z=x(I);let V;var D=N(I,2),B=x(D);let M;var F=N(D,2),W=x(F);let Y;var Q=N(F,2),X=x(Q);let pe;_e((be,$,De,Z,u,m,v)=>{Ye(_,"src",p(i)?o:a),C=he(A,1,"nav-hamburger svelte-z6pn53",null,C,be),Ye(A,"aria-expanded",p(n)),w=he(P,1,"nav-links svelte-z6pn53",null,w,$),O=he(T,1,"svelte-z6pn53",null,O,De),V=he(z,1,"svelte-z6pn53",null,V,Z),M=he(B,1,"svelte-z6pn53",null,M,u),Y=he(W,1,"svelte-z6pn53",null,Y,m),pe=he(X,1,"svelte-z6pn53",null,pe,v)},[()=>({active:p(n)}),()=>({active:p(n)}),()=>({active:r()==="home"}),()=>({active:r()==="next"}),()=>({active:r()==="writing"}),()=>({active:r()==="about"}),()=>({active:r()==="contact"})],ye),de("mouseenter",_,()=>j(i,!0)),de("mouseleave",_,()=>j(i,!1)),de("click",A,l),de("keydown",A,d),de("click",T,c),de("click",z,c),de("click",B,c),de("click",W,c),de("click",X,c),K(t,h),Ge()}var Qg=ee('<footer class="svelte-1kdtlwx"><p class="footer-nav svelte-1kdtlwx"><a href="/" class="svelte-1kdtlwx">Portfolio</a> | <a href="/next" class="svelte-1kdtlwx">Next</a> | <a href="/writing" class="svelte-1kdtlwx">Writing</a> | <a href="/about" class="svelte-1kdtlwx">About</a> | <a href="/contact" class="svelte-1kdtlwx">Contact</a></p> <p></p></footer>');function Xg(t,e){Je(e,!1);const r=new Date().getFullYear();Qe();var n=Qg(),s=N(x(n),2);s.textContent=`© Wendy Ham ${r??""}`,K(t,n),Ge()}var Zg=ee(`<header><h1 class="title svelte-n55gc9"><span class="title-part svelte-n55gc9">Weekend</span> <span class="title-part svelte-n55gc9">Projects</span><span class="rotating-text svelte-n55gc9"> </span></h1> <div class="intro-wrapper svelte-n55gc9"><div class="intro-text two-columns svelte-n55gc9"><div class="column svelte-n55gc9"><p class="svelte-n55gc9">Building and maintaining software used to be expensive, which meant custom solutions were mainly accessible to large enterprises.</p> <p class="svelte-n55gc9">That has changed. Now, pretty much anyone can create production-grade software using everyday language (a.k.a. by vibe coding). It's becoming completely normal for small businesses, families, and individuals to deploy bespoke software that's precisely tailored—even adaptive—to their needs.</p> <p class="svelte-n55gc9">Through Weekend Projects, I hope to deepen and share my understanding of this exciting era of software long tail. Empowered by Claude, Cursor, and other AI tools, I started building various pieces of 'software for one' to squash small yet pesky problems that were bugging me and my family.</p></div> <div class="column svelte-n55gc9"><p class="svelte-n55gc9">Before these powerful AI assistants came along, owing to my disjointed coding skills, I would've had to hire a developer or toil for months to build each piece of software, which would have been a silly use of resources.</p> <p class="svelte-n55gc9">I'm curious: Have the economic forces now enabled, maybe even favored, hyperpersonal software creation? Can someone with my patchy technical background build software that's actually worth using?</p> <p class="svelte-n55gc9">Btw, one of the things I made was an AI voice agent called Sunny, designed to help spark project ideas. If you'd love to streamline some aspects of your life, or just see what talking to a robot is like, how about <a href="/sunny">giving it a call</a>?</p></div></div></div> <div class="divider"></div></header>`);function ey(t,e){Je(e,!1);const r=["^Claude","^Cursor","^Replit","^n8n","^AutoGPT","^Gumloop","^VAPI"];let n=H(""),s=0,i=H(null);function a(h,g){let y;do y=Math.floor(Math.random()*g);while(y===h);return y}function o(){p(i)&&(Ve(i,p(i).style.opacity="0"),setTimeout(()=>{s=a(s,r.length),j(n,r[s]),p(i)&&Ve(i,p(i).style.opacity="1")},500))}rt(()=>{o();const h=setInterval(o,3e3);return()=>clearInterval(h)}),Qe();var l=Zg(),c=x(l),d=N(x(c),3),f=x(d);Xe(d,h=>j(i,h),()=>p(i)),_e(()=>fe(f,p(n))),K(t,l),Ge()}function ty(t){const{beat:e,fade:r,beatFade:n,bounce:s,shake:i,flash:a,spin:o,spinPulse:l,spinReverse:c,pulse:d,fixedWidth:f,inverse:h,border:g,listItem:y,flip:b,size:_,rotation:A,pull:C}=t,P={"fa-beat":e,"fa-fade":r,"fa-beat-fade":n,"fa-bounce":s,"fa-shake":i,"fa-flash":a,"fa-spin":o,"fa-spin-reverse":c,"fa-spin-pulse":l,"fa-pulse":d,"fa-fw":f,"fa-inverse":h,"fa-border":g,"fa-li":y,"fa-flip":b===!0,"fa-flip-horizontal":b==="horizontal"||b==="both","fa-flip-vertical":b==="vertical"||b==="both",[`fa-${_}`]:typeof _<"u"&&_!==null,[`fa-rotate-${A}`]:typeof A<"u"&&A!==null&&A!==0,[`fa-pull-${C}`]:typeof C<"u"&&C!==null,"fa-swap-opacity":t.swapOpacity};return Object.keys(P).map(w=>P[w]?w:null).filter(w=>w)}function ry(t){return t=t-0,t===t}function ny(t){return ry(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,r){return r?r.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}function iy(t){return typeof t=="string"?t:Object.keys(t).reduce((e,r)=>e+r.split(/(?=[A-Z])/).join("-").toLowerCase()+":"+t[r]+";","")}function ch(t,e,r={}){if(typeof e=="string")return e;const n=(e.children||[]).map(i=>ch(t,i)),s=Object.keys(e.attributes||{}).reduce((i,a)=>{const o=e.attributes[a];return a==="style"?i.attrs.style=iy(o):a.indexOf("aria-")===0||a.indexOf("data-")===0?i.attrs[a.toLowerCase()]=o:i.attrs[ny(a)]=o,i},{attrs:{}});return t(e.tag,{...s.attrs},n)}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function sy(t,e,r){return(e=oy(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function J(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nc(Object(r),!0).forEach(function(n){sy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ay(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oy(t){var e=ay(t,"string");return typeof e=="symbol"?e:e+""}const $c=()=>{};let ql={},uh={},dh=null,fh={mark:$c,measure:$c};try{typeof window<"u"&&(ql=window),typeof document<"u"&&(uh=document),typeof MutationObserver<"u"&&(dh=MutationObserver),typeof performance<"u"&&(fh=performance)}catch{}const{userAgent:Fc=""}=ql.navigator||{},Zr=ql,We=uh,Uc=dh,as=fh;Zr.document;const jr=!!We.documentElement&&!!We.head&&typeof We.addEventListener=="function"&&typeof We.createElement=="function",hh=~Fc.indexOf("MSIE")||~Fc.indexOf("Trident/");var ly=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,cy=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,ph={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},uy={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},vh=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],ct="classic",ma="duotone",dy="sharp",fy="sharp-duotone",mh=[ct,ma,dy,fy],hy={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},py={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},vy=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),my={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},gy=["fak","fa-kit","fakd","fa-kit-duotone"],qc={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},yy=["kit"],_y={kit:{"fa-kit":"fak"}},by=["fak","fakd"],wy={kit:{fak:"fa-kit"}},zc={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},os={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ky=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Sy=["fak","fa-kit","fakd","fa-kit-duotone"],Ey={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Cy={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},Ty={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},To={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},Ay=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Ao=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...ky,...Ay],Py=["solid","regular","light","thin","duotone","brands"],gh=[1,2,3,4,5,6,7,8,9,10],xy=gh.concat([11,12,13,14,15,16,17,18,19,20]),Oy=[...Object.keys(Ty),...Py,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",os.GROUP,os.SWAP_OPACITY,os.PRIMARY,os.SECONDARY].concat(gh.map(t=>"".concat(t,"x"))).concat(xy.map(t=>"w-".concat(t))),My={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Or="___FONT_AWESOME___",Po=16,yh="fa",_h="svg-inline--fa",kn="data-fa-i2svg",xo="data-fa-pseudo-element",Ly="data-fa-pseudo-element-pending",zl="data-prefix",Bl="data-icon",Bc="fontawesome-i2svg",Iy="async",jy=["HTML","HEAD","STYLE","SCRIPT"],bh=(()=>{try{return!0}catch{return!1}})();function Qi(t){return new Proxy(t,{get(e,r){return r in e?e[r]:e[ct]}})}const wh=J({},ph);wh[ct]=J(J(J(J({},{"fa-duotone":"duotone"}),ph[ct]),qc.kit),qc["kit-duotone"]);const Ry=Qi(wh),Oo=J({},my);Oo[ct]=J(J(J(J({},{duotone:"fad"}),Oo[ct]),zc.kit),zc["kit-duotone"]);const Vc=Qi(Oo),Mo=J({},To);Mo[ct]=J(J({},Mo[ct]),wy.kit);const Vl=Qi(Mo),Lo=J({},Cy);Lo[ct]=J(J({},Lo[ct]),_y.kit);Qi(Lo);const Dy=ly,kh="fa-layers-text",Ny=cy,$y=J({},hy);Qi($y);const Fy=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ua=uy,Uy=[...yy,...Oy],Ii=Zr.FontAwesomeConfig||{};function qy(t){var e=We.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function zy(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}We&&typeof We.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[r,n]=e;const s=zy(qy(r));s!=null&&(Ii[n]=s)});const Sh={styleDefault:"solid",familyDefault:ct,cssPrefix:yh,replacementClass:_h,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ii.familyPrefix&&(Ii.cssPrefix=Ii.familyPrefix);const ei=J(J({},Sh),Ii);ei.autoReplaceSvg||(ei.observeMutations=!1);const re={};Object.keys(Sh).forEach(t=>{Object.defineProperty(re,t,{enumerable:!0,set:function(e){ei[t]=e,ji.forEach(r=>r(re))},get:function(){return ei[t]}})});Object.defineProperty(re,"familyPrefix",{enumerable:!0,set:function(t){ei.cssPrefix=t,ji.forEach(e=>e(re))},get:function(){return ei.cssPrefix}});Zr.FontAwesomeConfig=re;const ji=[];function By(t){return ji.push(t),()=>{ji.splice(ji.indexOf(t),1)}}const $r=Po,ar={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Vy(t){if(!t||!jr)return;const e=We.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const r=We.head.childNodes;let n=null;for(let s=r.length-1;s>-1;s--){const i=r[s],a=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(n=i)}return We.head.insertBefore(e,n),t}const Wy="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ui(){let t=12,e="";for(;t-- >0;)e+=Wy[Math.random()*62|0];return e}function hi(t){const e=[];for(let r=(t||[]).length>>>0;r--;)e[r]=t[r];return e}function Wl(t){return t.classList?hi(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function Eh(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Jy(t){return Object.keys(t||{}).reduce((e,r)=>e+"".concat(r,'="').concat(Eh(t[r]),'" '),"").trim()}function ga(t){return Object.keys(t||{}).reduce((e,r)=>e+"".concat(r,": ").concat(t[r].trim(),";"),"")}function Jl(t){return t.size!==ar.size||t.x!==ar.x||t.y!==ar.y||t.rotate!==ar.rotate||t.flipX||t.flipY}function Gy(t){let{transform:e,containerWidth:r,iconWidth:n}=t;const s={transform:"translate(".concat(r/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(i," ").concat(a," ").concat(o)},c={transform:"translate(".concat(n/2*-1," -256)")};return{outer:s,inner:l,path:c}}function Hy(t){let{transform:e,width:r=Po,height:n=Po,startCentered:s=!1}=t,i="";return s&&hh?i+="translate(".concat(e.x/$r-r/2,"em, ").concat(e.y/$r-n/2,"em) "):s?i+="translate(calc(-50% + ".concat(e.x/$r,"em), calc(-50% + ").concat(e.y/$r,"em)) "):i+="translate(".concat(e.x/$r,"em, ").concat(e.y/$r,"em) "),i+="scale(".concat(e.size/$r*(e.flipX?-1:1),", ").concat(e.size/$r*(e.flipY?-1:1),") "),i+="rotate(".concat(e.rotate,"deg) "),i}var Yy=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Ch(){const t=yh,e=_h,r=re.cssPrefix,n=re.replacementClass;let s=Yy;if(r!==t||n!==e){const i=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),o=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(r,"-")).replace(a,"--".concat(r,"-")).replace(o,".".concat(n))}return s}let Wc=!1;function qa(){re.autoAddCss&&!Wc&&(Vy(Ch()),Wc=!0)}var Ky={mixout(){return{dom:{css:Ch,insertCss:qa}}},hooks(){return{beforeDOMElementCreation(){qa()},beforeI2svg(){qa()}}}};const Mr=Zr||{};Mr[Or]||(Mr[Or]={});Mr[Or].styles||(Mr[Or].styles={});Mr[Or].hooks||(Mr[Or].hooks={});Mr[Or].shims||(Mr[Or].shims=[]);var or=Mr[Or];const Th=[],Ah=function(){We.removeEventListener("DOMContentLoaded",Ah),Js=1,Th.map(t=>t())};let Js=!1;jr&&(Js=(We.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(We.readyState),Js||We.addEventListener("DOMContentLoaded",Ah));function Qy(t){jr&&(Js?setTimeout(t,0):Th.push(t))}function Xi(t){const{tag:e,attributes:r={},children:n=[]}=t;return typeof t=="string"?Eh(t):"<".concat(e," ").concat(Jy(r),">").concat(n.map(Xi).join(""),"</").concat(e,">")}function Jc(t,e,r){if(t&&t[e]&&t[e][r])return{prefix:e,iconName:r,icon:t[e][r]}}var za=function(e,r,n,s){var i=Object.keys(e),a=i.length,o=r,l,c,d;for(n===void 0?(l=1,d=e[i[0]]):(l=0,d=n);l<a;l++)c=i[l],d=o(d,e[c],c,e);return d};function Xy(t){const e=[];let r=0;const n=t.length;for(;r<n;){const s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){const i=t.charCodeAt(r++);(i&64512)==56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e}function Io(t){const e=Xy(t);return e.length===1?e[0].toString(16):null}function Zy(t,e){const r=t.length;let n=t.charCodeAt(e),s;return n>=55296&&n<=56319&&r>e+1&&(s=t.charCodeAt(e+1),s>=56320&&s<=57343)?(n-55296)*1024+s-56320+65536:n}function Gc(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return!!n.icon?e[n.iconName]=n.icon:e[r]=n,e},{})}function jo(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:n=!1}=r,s=Gc(e);typeof or.hooks.addPack=="function"&&!n?or.hooks.addPack(t,Gc(e)):or.styles[t]=J(J({},or.styles[t]||{}),s),t==="fas"&&jo("fa",e)}const{styles:qi,shims:e_}=or,Ph=Object.keys(Vl),t_=Ph.reduce((t,e)=>(t[e]=Object.keys(Vl[e]),t),{});let Gl=null,xh={},Oh={},Mh={},Lh={},Ih={};function r_(t){return~Uy.indexOf(t)}function n_(t,e){const r=e.split("-"),n=r[0],s=r.slice(1).join("-");return n===t&&s!==""&&!r_(s)?s:null}const jh=()=>{const t=n=>za(qi,(s,i,a)=>(s[a]=za(i,n,{}),s),{});xh=t((n,s,i)=>(s[3]&&(n[s[3]]=i),s[2]&&s[2].filter(o=>typeof o=="number").forEach(o=>{n[o.toString(16)]=i}),n)),Oh=t((n,s,i)=>(n[i]=i,s[2]&&s[2].filter(o=>typeof o=="string").forEach(o=>{n[o]=i}),n)),Ih=t((n,s,i)=>{const a=s[2];return n[i]=i,a.forEach(o=>{n[o]=i}),n});const e="far"in qi||re.autoFetchSvg,r=za(e_,(n,s)=>{const i=s[0];let a=s[1];const o=s[2];return a==="far"&&!e&&(a="fas"),typeof i=="string"&&(n.names[i]={prefix:a,iconName:o}),typeof i=="number"&&(n.unicodes[i.toString(16)]={prefix:a,iconName:o}),n},{names:{},unicodes:{}});Mh=r.names,Lh=r.unicodes,Gl=ya(re.styleDefault,{family:re.familyDefault})};By(t=>{Gl=ya(t.styleDefault,{family:re.familyDefault})});jh();function Hl(t,e){return(xh[t]||{})[e]}function i_(t,e){return(Oh[t]||{})[e]}function pn(t,e){return(Ih[t]||{})[e]}function Rh(t){return Mh[t]||{prefix:null,iconName:null}}function s_(t){const e=Lh[t],r=Hl("fas",t);return e||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function en(){return Gl}const Dh=()=>({prefix:null,iconName:null,rest:[]});function a_(t){let e=ct;const r=Ph.reduce((n,s)=>(n[s]="".concat(re.cssPrefix,"-").concat(s),n),{});return mh.forEach(n=>{(t.includes(r[n])||t.some(s=>t_[n].includes(s)))&&(e=n)}),e}function ya(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:r=ct}=e,n=Ry[r][t];if(r===ma&&!t)return"fad";const s=Vc[r][t]||Vc[r][n],i=t in or.styles?t:null;return s||i||null}function o_(t){let e=[],r=null;return t.forEach(n=>{const s=n_(re.cssPrefix,n);s?r=s:n&&e.push(n)}),{iconName:r,rest:e}}function Hc(t){return t.sort().filter((e,r,n)=>n.indexOf(e)===r)}function _a(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:r=!1}=e;let n=null;const s=Ao.concat(Sy),i=Hc(t.filter(f=>s.includes(f))),a=Hc(t.filter(f=>!Ao.includes(f))),o=i.filter(f=>(n=f,!vh.includes(f))),[l=null]=o,c=a_(i),d=J(J({},o_(a)),{},{prefix:ya(l,{family:c})});return J(J(J({},d),d_({values:t,family:c,styles:qi,config:re,canonical:d,givenPrefix:n})),l_(r,n,d))}function l_(t,e,r){let{prefix:n,iconName:s}=r;if(t||!n||!s)return{prefix:n,iconName:s};const i=e==="fa"?Rh(s):{},a=pn(n,s);return s=i.iconName||a||s,n=i.prefix||n,n==="far"&&!qi.far&&qi.fas&&!re.autoFetchSvg&&(n="fas"),{prefix:n,iconName:s}}const c_=mh.filter(t=>t!==ct||t!==ma),u_=Object.keys(To).filter(t=>t!==ct).map(t=>Object.keys(To[t])).flat();function d_(t){const{values:e,family:r,canonical:n,givenPrefix:s="",styles:i={},config:a={}}=t,o=r===ma,l=e.includes("fa-duotone")||e.includes("fad"),c=a.familyDefault==="duotone",d=n.prefix==="fad"||n.prefix==="fa-duotone";if(!o&&(l||c||d)&&(n.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(n.prefix="fab"),!n.prefix&&c_.includes(r)&&(Object.keys(i).find(h=>u_.includes(h))||a.autoFetchSvg)){const h=vy.get(r).defaultShortPrefixId;n.prefix=h,n.iconName=pn(n.prefix,n.iconName)||n.iconName}return(n.prefix==="fa"||s==="fa")&&(n.prefix=en()||"fas"),n}class f_{constructor(){this.definitions={}}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const s=r.reduce(this._pullDefinitions,{});Object.keys(s).forEach(i=>{this.definitions[i]=J(J({},this.definitions[i]||{}),s[i]),jo(i,s[i]);const a=Vl[ct][i];a&&jo(a,s[i]),jh()})}reset(){this.definitions={}}_pullDefinitions(e,r){const n=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(n).map(s=>{const{prefix:i,iconName:a,icon:o}=n[s],l=o[2];e[i]||(e[i]={}),l.length>0&&l.forEach(c=>{typeof c=="string"&&(e[i][c]=o)}),e[i][a]=o}),e}}let Yc=[],Wn={};const Gn={},h_=Object.keys(Gn);function p_(t,e){let{mixoutsTo:r}=e;return Yc=t,Wn={},Object.keys(Gn).forEach(n=>{h_.indexOf(n)===-1&&delete Gn[n]}),Yc.forEach(n=>{const s=n.mixout?n.mixout():{};if(Object.keys(s).forEach(i=>{typeof s[i]=="function"&&(r[i]=s[i]),typeof s[i]=="object"&&Object.keys(s[i]).forEach(a=>{r[i]||(r[i]={}),r[i][a]=s[i][a]})}),n.hooks){const i=n.hooks();Object.keys(i).forEach(a=>{Wn[a]||(Wn[a]=[]),Wn[a].push(i[a])})}n.provides&&n.provides(Gn)}),r}function Ro(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s];return(Wn[t]||[]).forEach(a=>{e=a.apply(null,[e,...n])}),e}function Sn(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];(Wn[t]||[]).forEach(i=>{i.apply(null,r)})}function tn(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Gn[t]?Gn[t].apply(null,e):void 0}function Do(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const r=t.prefix||en();if(e)return e=pn(r,e)||e,Jc(Nh.definitions,r,e)||Jc(or.styles,r,e)}const Nh=new f_,v_=()=>{re.autoReplaceSvg=!1,re.observeMutations=!1,Sn("noAuto")},m_={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return jr?(Sn("beforeI2svg",t),tn("pseudoElements2svg",t),tn("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;re.autoReplaceSvg===!1&&(re.autoReplaceSvg=!0),re.observeMutations=!0,Qy(()=>{y_({autoReplaceSvgRoot:e}),Sn("watch",t)})}},g_={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:pn(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],r=ya(t[0]);return{prefix:r,iconName:pn(r,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(re.cssPrefix,"-"))>-1||t.match(Dy))){const e=_a(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||en(),iconName:pn(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=en();return{prefix:e,iconName:pn(e,t)||t}}}},Ot={noAuto:v_,config:re,dom:m_,parse:g_,library:Nh,findIconDefinition:Do,toHtml:Xi},y_=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=We}=t;(Object.keys(or.styles).length>0||re.autoFetchSvg)&&jr&&re.autoReplaceSvg&&Ot.dom.i2svg({node:e})};function ba(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(r=>Xi(r))}}),Object.defineProperty(t,"node",{get:function(){if(!jr)return;const r=We.createElement("div");return r.innerHTML=t.html,r.children}}),t}function __(t){let{children:e,main:r,mask:n,attributes:s,styles:i,transform:a}=t;if(Jl(a)&&r.found&&!n.found){const{width:o,height:l}=r,c={x:o/l/2,y:.5};s.style=ga(J(J({},i),{},{"transform-origin":"".concat(c.x+a.x/16,"em ").concat(c.y+a.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function b_(t){let{prefix:e,iconName:r,children:n,attributes:s,symbol:i}=t;const a=i===!0?"".concat(e,"-").concat(re.cssPrefix,"-").concat(r):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:J(J({},s),{},{id:a}),children:n}]}]}function Yl(t){const{icons:{main:e,mask:r},prefix:n,iconName:s,transform:i,symbol:a,title:o,maskId:l,titleId:c,extra:d,watchable:f=!1}=t,{width:h,height:g}=r.found?r:e,y=by.includes(n),b=[re.replacementClass,s?"".concat(re.cssPrefix,"-").concat(s):""].filter(k=>d.classes.indexOf(k)===-1).filter(k=>k!==""||!!k).concat(d.classes).join(" ");let _={children:[],attributes:J(J({},d.attributes),{},{"data-prefix":n,"data-icon":s,class:b,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h," ").concat(g)})};const A=y&&!~d.classes.indexOf("fa-fw")?{width:"".concat(h/g*16*.0625,"em")}:{};f&&(_.attributes[kn]=""),o&&(_.children.push({tag:"title",attributes:{id:_.attributes["aria-labelledby"]||"title-".concat(c||Ui())},children:[o]}),delete _.attributes.title);const C=J(J({},_),{},{prefix:n,iconName:s,main:e,mask:r,maskId:l,transform:i,symbol:a,styles:J(J({},A),d.styles)}),{children:P,attributes:w}=r.found&&e.found?tn("generateAbstractMask",C)||{children:[],attributes:{}}:tn("generateAbstractIcon",C)||{children:[],attributes:{}};return C.children=P,C.attributes=w,a?b_(C):__(C)}function Kc(t){const{content:e,width:r,height:n,transform:s,title:i,extra:a,watchable:o=!1}=t,l=J(J(J({},a.attributes),i?{title:i}:{}),{},{class:a.classes.join(" ")});o&&(l[kn]="");const c=J({},a.styles);Jl(s)&&(c.transform=Hy({transform:s,startCentered:!0,width:r,height:n}),c["-webkit-transform"]=c.transform);const d=ga(c);d.length>0&&(l.style=d);const f=[];return f.push({tag:"span",attributes:l,children:[e]}),i&&f.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),f}function w_(t){const{content:e,title:r,extra:n}=t,s=J(J(J({},n.attributes),r?{title:r}:{}),{},{class:n.classes.join(" ")}),i=ga(n.styles);i.length>0&&(s.style=i);const a=[];return a.push({tag:"span",attributes:s,children:[e]}),r&&a.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),a}const{styles:Ba}=or;function No(t){const e=t[0],r=t[1],[n]=t.slice(4);let s=null;return Array.isArray(n)?s={tag:"g",attributes:{class:"".concat(re.cssPrefix,"-").concat(Ua.GROUP)},children:[{tag:"path",attributes:{class:"".concat(re.cssPrefix,"-").concat(Ua.SECONDARY),fill:"currentColor",d:n[0]}},{tag:"path",attributes:{class:"".concat(re.cssPrefix,"-").concat(Ua.PRIMARY),fill:"currentColor",d:n[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:n}},{found:!0,width:e,height:r,icon:s}}const k_={found:!1,width:512,height:512};function S_(t,e){!bh&&!re.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function $o(t,e){let r=e;return e==="fa"&&re.styleDefault!==null&&(e=en()),new Promise((n,s)=>{if(r==="fa"){const i=Rh(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&Ba[e]&&Ba[e][t]){const i=Ba[e][t];return n(No(i))}S_(t,e),n(J(J({},k_),{},{icon:re.showMissingIcons&&t?tn("missingIconAbstract")||{}:{}}))})}const Qc=()=>{},Fo=re.measurePerformance&&as&&as.mark&&as.measure?as:{mark:Qc,measure:Qc},Ai='FA "6.7.2"',E_=t=>(Fo.mark("".concat(Ai," ").concat(t," begins")),()=>$h(t)),$h=t=>{Fo.mark("".concat(Ai," ").concat(t," ends")),Fo.measure("".concat(Ai," ").concat(t),"".concat(Ai," ").concat(t," begins"),"".concat(Ai," ").concat(t," ends"))};var Kl={begin:E_,end:$h};const Ps=()=>{};function Xc(t){return typeof(t.getAttribute?t.getAttribute(kn):null)=="string"}function C_(t){const e=t.getAttribute?t.getAttribute(zl):null,r=t.getAttribute?t.getAttribute(Bl):null;return e&&r}function T_(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(re.replacementClass)}function A_(){return re.autoReplaceSvg===!0?xs.replace:xs[re.autoReplaceSvg]||xs.replace}function P_(t){return We.createElementNS("http://www.w3.org/2000/svg",t)}function x_(t){return We.createElement(t)}function Fh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:r=t.tag==="svg"?P_:x_}=e;if(typeof t=="string")return We.createTextNode(t);const n=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(i){n.setAttribute(i,t.attributes[i])}),(t.children||[]).forEach(function(i){n.appendChild(Fh(i,{ceFn:r}))}),n}function O_(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const xs={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(r=>{e.parentNode.insertBefore(Fh(r),e)}),e.getAttribute(kn)===null&&re.keepOriginalSource){let r=We.createComment(O_(e));e.parentNode.replaceChild(r,e)}else e.remove()},nest:function(t){const e=t[0],r=t[1];if(~Wl(e).indexOf(re.replacementClass))return xs.replace(t);const n=new RegExp("".concat(re.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){const i=r[0].attributes.class.split(" ").reduce((a,o)=>(o===re.replacementClass||o.match(n)?a.toSvg.push(o):a.toNode.push(o),a),{toNode:[],toSvg:[]});r[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",i.toNode.join(" "))}const s=r.map(i=>Xi(i)).join(`
`);e.setAttribute(kn,""),e.innerHTML=s}};function Zc(t){t()}function Uh(t,e){const r=typeof e=="function"?e:Ps;if(t.length===0)r();else{let n=Zc;re.mutateApproach===Iy&&(n=Zr.requestAnimationFrame||Zc),n(()=>{const s=A_(),i=Kl.begin("mutate");t.map(s),i(),r()})}}let Ql=!1;function qh(){Ql=!0}function Uo(){Ql=!1}let Gs=null;function eu(t){if(!Uc||!re.observeMutations)return;const{treeCallback:e=Ps,nodeCallback:r=Ps,pseudoElementsCallback:n=Ps,observeMutationsRoot:s=We}=t;Gs=new Uc(i=>{if(Ql)return;const a=en();hi(i).forEach(o=>{if(o.type==="childList"&&o.addedNodes.length>0&&!Xc(o.addedNodes[0])&&(re.searchPseudoElements&&n(o.target),e(o.target)),o.type==="attributes"&&o.target.parentNode&&re.searchPseudoElements&&n(o.target.parentNode),o.type==="attributes"&&Xc(o.target)&&~Fy.indexOf(o.attributeName))if(o.attributeName==="class"&&C_(o.target)){const{prefix:l,iconName:c}=_a(Wl(o.target));o.target.setAttribute(zl,l||a),c&&o.target.setAttribute(Bl,c)}else T_(o.target)&&r(o.target)})}),jr&&Gs.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function M_(){Gs&&Gs.disconnect()}function L_(t){const e=t.getAttribute("style");let r=[];return e&&(r=e.split(";").reduce((n,s)=>{const i=s.split(":"),a=i[0],o=i.slice(1);return a&&o.length>0&&(n[a]=o.join(":").trim()),n},{})),r}function I_(t){const e=t.getAttribute("data-prefix"),r=t.getAttribute("data-icon"),n=t.innerText!==void 0?t.innerText.trim():"";let s=_a(Wl(t));return s.prefix||(s.prefix=en()),e&&r&&(s.prefix=e,s.iconName=r),s.iconName&&s.prefix||(s.prefix&&n.length>0&&(s.iconName=i_(s.prefix,t.innerText)||Hl(s.prefix,Io(t.innerText))),!s.iconName&&re.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function j_(t){const e=hi(t.attributes).reduce((s,i)=>(s.name!=="class"&&s.name!=="style"&&(s[i.name]=i.value),s),{}),r=t.getAttribute("title"),n=t.getAttribute("data-fa-title-id");return re.autoA11y&&(r?e["aria-labelledby"]="".concat(re.replacementClass,"-title-").concat(n||Ui()):(e["aria-hidden"]="true",e.focusable="false")),e}function R_(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ar,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function tu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:r,prefix:n,rest:s}=I_(t),i=j_(t),a=Ro("parseNodeAttributes",{},t);let o=e.styleParser?L_(t):[];return J({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:n,transform:ar,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:o,attributes:i}},a)}const{styles:D_}=or;function zh(t){const e=re.autoReplaceSvg==="nest"?tu(t,{styleParser:!1}):tu(t);return~e.extra.classes.indexOf(kh)?tn("generateLayersText",t,e):tn("generateSvgReplacementMutation",t,e)}function N_(){return[...gy,...Ao]}function ru(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!jr)return Promise.resolve();const r=We.documentElement.classList,n=d=>r.add("".concat(Bc,"-").concat(d)),s=d=>r.remove("".concat(Bc,"-").concat(d)),i=re.autoFetchSvg?N_():vh.concat(Object.keys(D_));i.includes("fa")||i.push("fa");const a=[".".concat(kh,":not([").concat(kn,"])")].concat(i.map(d=>".".concat(d,":not([").concat(kn,"])"))).join(", ");if(a.length===0)return Promise.resolve();let o=[];try{o=hi(t.querySelectorAll(a))}catch{}if(o.length>0)n("pending"),s("complete");else return Promise.resolve();const l=Kl.begin("onTree"),c=o.reduce((d,f)=>{try{const h=zh(f);h&&d.push(h)}catch(h){bh||h.name==="MissingIcon"&&console.error(h)}return d},[]);return new Promise((d,f)=>{Promise.all(c).then(h=>{Uh(h,()=>{n("active"),n("complete"),s("pending"),typeof e=="function"&&e(),l(),d()})}).catch(h=>{l(),f(h)})})}function $_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;zh(t).then(r=>{r&&Uh([r],e)})}function F_(t){return function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=(e||{}).icon?e:Do(e||{});let{mask:s}=r;return s&&(s=(s||{}).icon?s:Do(s||{})),t(n,J(J({},r),{},{mask:s}))}}const U_=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:r=ar,symbol:n=!1,mask:s=null,maskId:i=null,title:a=null,titleId:o=null,classes:l=[],attributes:c={},styles:d={}}=e;if(!t)return;const{prefix:f,iconName:h,icon:g}=t;return ba(J({type:"icon"},t),()=>(Sn("beforeDOMElementCreation",{iconDefinition:t,params:e}),re.autoA11y&&(a?c["aria-labelledby"]="".concat(re.replacementClass,"-title-").concat(o||Ui()):(c["aria-hidden"]="true",c.focusable="false")),Yl({icons:{main:No(g),mask:s?No(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f,iconName:h,transform:J(J({},ar),r),symbol:n,title:a,maskId:i,titleId:o,extra:{attributes:c,styles:d,classes:l}})))};var q_={mixout(){return{icon:F_(U_)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=ru,t.nodeCallback=$_,t}}},provides(t){t.i2svg=function(e){const{node:r=We,callback:n=()=>{}}=e;return ru(r,n)},t.generateSvgReplacementMutation=function(e,r){const{iconName:n,title:s,titleId:i,prefix:a,transform:o,symbol:l,mask:c,maskId:d,extra:f}=r;return new Promise((h,g)=>{Promise.all([$o(n,a),c.iconName?$o(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(y=>{let[b,_]=y;h([e,Yl({icons:{main:b,mask:_},prefix:a,iconName:n,transform:o,symbol:l,maskId:d,title:s,titleId:i,extra:f,watchable:!0})])}).catch(g)})},t.generateAbstractIcon=function(e){let{children:r,attributes:n,main:s,transform:i,styles:a}=e;const o=ga(a);o.length>0&&(n.style=o);let l;return Jl(i)&&(l=tn("generateAbstractTransformGrouping",{main:s,transform:i,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:n}}}},z_={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:r=[]}=e;return ba({type:"layer"},()=>{Sn("beforeDOMElementCreation",{assembler:t,params:e});let n=[];return t(s=>{Array.isArray(s)?s.map(i=>{n=n.concat(i.abstract)}):n=n.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(re.cssPrefix,"-layers"),...r].join(" ")},children:n}]})}}}},B_={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:r=null,classes:n=[],attributes:s={},styles:i={}}=e;return ba({type:"counter",content:t},()=>(Sn("beforeDOMElementCreation",{content:t,params:e}),w_({content:t.toString(),title:r,extra:{attributes:s,styles:i,classes:["".concat(re.cssPrefix,"-layers-counter"),...n]}})))}}}},V_={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:r=ar,title:n=null,classes:s=[],attributes:i={},styles:a={}}=e;return ba({type:"text",content:t},()=>(Sn("beforeDOMElementCreation",{content:t,params:e}),Kc({content:t,transform:J(J({},ar),r),title:n,extra:{attributes:i,styles:a,classes:["".concat(re.cssPrefix,"-layers-text"),...s]}})))}}},provides(t){t.generateLayersText=function(e,r){const{title:n,transform:s,extra:i}=r;let a=null,o=null;if(hh){const l=parseInt(getComputedStyle(e).fontSize,10),c=e.getBoundingClientRect();a=c.width/l,o=c.height/l}return re.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,Kc({content:e.innerHTML,width:a,height:o,transform:s,title:n,extra:i,watchable:!0})])}}};const W_=new RegExp('"',"ug"),nu=[1105920,1112319],iu=J(J(J(J({},{FontAwesome:{normal:"fas",400:"fas"}}),py),My),Ey),qo=Object.keys(iu).reduce((t,e)=>(t[e.toLowerCase()]=iu[e],t),{}),J_=Object.keys(qo).reduce((t,e)=>{const r=qo[e];return t[e]=r[900]||[...Object.entries(r)][0][1],t},{});function G_(t){const e=t.replace(W_,""),r=Zy(e,0),n=r>=nu[0]&&r<=nu[1],s=e.length===2?e[0]===e[1]:!1;return{value:Io(s?e[0]:e),isSecondary:n||s}}function H_(t,e){const r=t.replace(/^['"]|['"]$/g,"").toLowerCase(),n=parseInt(e),s=isNaN(n)?"normal":n;return(qo[r]||{})[s]||J_[r]}function su(t,e){const r="".concat(Ly).concat(e.replace(":","-"));return new Promise((n,s)=>{if(t.getAttribute(r)!==null)return n();const a=hi(t.children).filter(h=>h.getAttribute(xo)===e)[0],o=Zr.getComputedStyle(t,e),l=o.getPropertyValue("font-family"),c=l.match(Ny),d=o.getPropertyValue("font-weight"),f=o.getPropertyValue("content");if(a&&!c)return t.removeChild(a),n();if(c&&f!=="none"&&f!==""){const h=o.getPropertyValue("content");let g=H_(l,d);const{value:y,isSecondary:b}=G_(h),_=c[0].startsWith("FontAwesome");let A=Hl(g,y),C=A;if(_){const P=s_(y);P.iconName&&P.prefix&&(A=P.iconName,g=P.prefix)}if(A&&!b&&(!a||a.getAttribute(zl)!==g||a.getAttribute(Bl)!==C)){t.setAttribute(r,C),a&&t.removeChild(a);const P=R_(),{extra:w}=P;w.attributes[xo]=e,$o(A,g).then(k=>{const T=Yl(J(J({},P),{},{icons:{main:k,mask:Dh()},prefix:g,iconName:C,extra:w,watchable:!0})),O=We.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(O,t.firstChild):t.appendChild(O),O.outerHTML=T.map(I=>Xi(I)).join(`
`),t.removeAttribute(r),n()}).catch(s)}else n()}else n()})}function Y_(t){return Promise.all([su(t,"::before"),su(t,"::after")])}function K_(t){return t.parentNode!==document.head&&!~jy.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(xo)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function au(t){if(jr)return new Promise((e,r)=>{const n=hi(t.querySelectorAll("*")).filter(K_).map(Y_),s=Kl.begin("searchPseudoElements");qh(),Promise.all(n).then(()=>{s(),Uo(),e()}).catch(()=>{s(),Uo(),r()})})}var Q_={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=au,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:r=We}=e;re.searchPseudoElements&&au(r)}}};let ou=!1;var X_={mixout(){return{dom:{unwatch(){qh(),ou=!0}}}},hooks(){return{bootstrap(){eu(Ro("mutationObserverCallbacks",{}))},noAuto(){M_()},watch(t){const{observeMutationsRoot:e}=t;ou?Uo():eu(Ro("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const lu=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((r,n)=>{const s=n.toLowerCase().split("-"),i=s[0];let a=s.slice(1).join("-");if(i&&a==="h")return r.flipX=!0,r;if(i&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(i){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},e)};var Z_={mixout(){return{parse:{transform:t=>lu(t)}}},hooks(){return{parseNodeAttributes(t,e){const r=e.getAttribute("data-fa-transform");return r&&(t.transform=lu(r)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:r,transform:n,containerWidth:s,iconWidth:i}=e;const a={transform:"translate(".concat(s/2," 256)")},o="translate(".concat(n.x*32,", ").concat(n.y*32,") "),l="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),c="rotate(".concat(n.rotate," 0 0)"),d={transform:"".concat(o," ").concat(l," ").concat(c)},f={transform:"translate(".concat(i/2*-1," -256)")},h={outer:a,inner:d,path:f};return{tag:"g",attributes:J({},h.outer),children:[{tag:"g",attributes:J({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:J(J({},r.icon.attributes),h.path)}]}]}}}};const Va={x:0,y:0,width:"100%",height:"100%"};function cu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function eb(t){return t.tag==="g"?t.children:[t]}var tb={hooks(){return{parseNodeAttributes(t,e){const r=e.getAttribute("data-fa-mask"),n=r?_a(r.split(" ").map(s=>s.trim())):Dh();return n.prefix||(n.prefix=en()),t.mask=n,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:r,attributes:n,main:s,mask:i,maskId:a,transform:o}=e;const{width:l,icon:c}=s,{width:d,icon:f}=i,h=Gy({transform:o,containerWidth:d,iconWidth:l}),g={tag:"rect",attributes:J(J({},Va),{},{fill:"white"})},y=c.children?{children:c.children.map(cu)}:{},b={tag:"g",attributes:J({},h.inner),children:[cu(J({tag:c.tag,attributes:J(J({},c.attributes),h.path)},y))]},_={tag:"g",attributes:J({},h.outer),children:[b]},A="mask-".concat(a||Ui()),C="clip-".concat(a||Ui()),P={tag:"mask",attributes:J(J({},Va),{},{id:A,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[g,_]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:C},children:eb(f)},P]};return r.push(w,{tag:"rect",attributes:J({fill:"currentColor","clip-path":"url(#".concat(C,")"),mask:"url(#".concat(A,")")},Va)}),{children:r,attributes:n}}}},rb={provides(t){let e=!1;Zr.matchMedia&&(e=Zr.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const r=[],n={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:J(J({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=J(J({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:J(J({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||a.children.push({tag:"animate",attributes:J(J({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:J(J({},i),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:J(J({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:J(J({},i),{},{values:"1;0;0;0;0;1;"})}]}),e||r.push({tag:"path",attributes:J(J({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:J(J({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},nb={hooks(){return{parseNodeAttributes(t,e){const r=e.getAttribute("data-fa-symbol"),n=r===null?!1:r===""?!0:r;return t.symbol=n,t}}}},ib=[Ky,q_,z_,B_,V_,Q_,X_,Z_,tb,rb,nb];p_(ib,{mixoutsTo:Ot});Ot.noAuto;Ot.config;const sb=Ot.library;Ot.dom;const zo=Ot.parse;Ot.findIconDefinition;Ot.toHtml;const ab=Ot.icon;Ot.layer;Ot.text;Ot.counter;let Bh=!1;try{Bh=!0}catch{}function ob(...t){!Bh&&console&&typeof console.error=="function"&&console.error(...t)}function uu(t){if(t&&typeof t=="object"&&t.prefix&&t.iconName&&t.icon)return t;if(zo.icon)return zo.icon(t);if(t===null)return null;if(t&&typeof t=="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function Wa(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?{[t]:e}:{}}var lb=_g("<svg><!></svg>");function cb(t,e){var b;Je(e,!1);let r=ne(e,"tag",8),n=ne(e,"props",8),s=ne(e,"children",8),i=ne(e,"style",8,null),a=ne(e,"ref",12,null);if(r()!=="svg")throw new Error('SvgElement requires a tag of "svg"');function o(_){return(_==null?void 0:_.reduce((A,C)=>A+(C.tag?l(C):C),""))||""}function l({tag:_,props:A,children:C}){const P=Object.keys(A).map(w=>`${w}="${A[w]}"`).join(" ");return`<${_} ${P}>${o(C)}</${_}>`}const c=o(s()),d=(b=n())!=null&&b.style?`${n().style}${i()||""}`:i(),f={...n(),style:d};Qe();var h=lb();let g;var y=x(h);xr(y,()=>c,!0,!1),Xe(h,_=>a(_),()=>a()),_e(()=>g=jg(h,g,{...f})),K(t,h),Ge()}function tt(t,e){const r=Dc(e,["children","$$slots","$$events","$$legacy"]),n=Dc(r,["border","mask","maskId","fixedWidth","inverse","flip","icon","listItem","pull","pulse","rotation","size","spin","spinPulse","spinReverse","beat","fade","beatFade","bounce","shake","symbol","title","titleId","transform","swapOpacity","ref","style"]);Je(e,!1),ne(e,"border",8,!1);let s=ne(e,"mask",8,null),i=ne(e,"maskId",8,null);ne(e,"fixedWidth",8,!1),ne(e,"inverse",8,!1),ne(e,"flip",8,!1);let a=ne(e,"icon",8,null);ne(e,"listItem",8,!1),ne(e,"pull",8,null),ne(e,"pulse",8,!1),ne(e,"rotation",8,null),ne(e,"size",8,null),ne(e,"spin",8,!1),ne(e,"spinPulse",8,!1),ne(e,"spinReverse",8,!1),ne(e,"beat",8,!1),ne(e,"fade",8,!1),ne(e,"beatFade",8,!1),ne(e,"bounce",8,!1),ne(e,"shake",8,!1);let o=ne(e,"symbol",8,!1),l=ne(e,"title",8,""),c=ne(e,"titleId",8,null),d=ne(e,"transform",8,null);ne(e,"swapOpacity",8,!1);let f=ne(e,"ref",12,null),h=ne(e,"style",8,null);const g=uu(a()),y=Wa("classes",[...ty(r),...(r.class||"").split(" ")]),b=Wa("transform",typeof d()=="string"?zo.transform(d()):d()),_=Wa("mask",uu(s())),A=ab(g,{...y,...b,..._,symbol:o(),title:l(),titleId:c(),maskId:i()});let C=H(null);if(!A)ob("Could not find icon",g);else{const{abstract:T}=A;j(C,ch((O,I,z)=>({tag:O,props:I,children:z}),T[0],n))}Qe();var P=Ar(),w=Ze(P);{var k=T=>{cb(T,Jg(()=>p(C),{get style(){return h()},get ref(){return f()},set ref(O){f(O)},$$legacy:!0}))};ie(w,T=>{p(C)&&T(k)})}K(t,P),Ge()}var ub=ee('<span class="rotating-use-text svelte-xa9m8v"> </span>'),db=ee('<div class="time-calculator-container svelte-xa9m8v"><div class="time-calculator-tabs svelte-xa9m8v"><button>Time saved so far</button> <button>Time saved per year</button> <div></div></div> <div class="time-calculator-content svelte-xa9m8v"><div class="slides-container svelte-xa9m8v"><div id="time-saved-per-year"><div class="time-calculator-slide-content svelte-xa9m8v"><div class="time-annual-value svelte-xa9m8v"> </div> <div class="time-alternative-use svelte-xa9m8v">One could use this time to <div class="rotating-use-text-wrapper svelte-xa9m8v"><!></div></div></div></div> <div id="time-saved-so-far"><div class="time-calculator-slide-content svelte-xa9m8v"><div class="time-counter svelte-xa9m8v"><table class="time-counter-table svelte-xa9m8v"><tbody><tr class="time-counter-values svelte-xa9m8v"><td class="svelte-xa9m8v"><span class="hours">0</span></td><td class="time-counter-separator svelte-xa9m8v">:</td><td class="svelte-xa9m8v"><span class="minutes">00</span></td><td class="time-counter-separator svelte-xa9m8v">:</td><td class="svelte-xa9m8v"><span class="seconds">00</span></td></tr><tr class="time-counter-labels svelte-xa9m8v"><td class="svelte-xa9m8v">hrs</td><td class="time-counter-separator svelte-xa9m8v"></td><td class="svelte-xa9m8v">mins</td><td class="time-counter-separator svelte-xa9m8v"></td><td class="svelte-xa9m8v">secs</td></tr></tbody></table></div> <div class="time-launch-date svelte-xa9m8v"> </div></div></div></div></div></div>');function fb(t,e){Je(e,!1);let r=ne(e,"daily",8,0),n=ne(e,"weekly",8,0),s=ne(e,"launchDate",24,()=>new Date("1900-01-01")),i=ne(e,"alternativeUses",24,()=>[]),a=H(null),o=H(null),l=H(null),c=H(0),d=!1,f=H(null),h=H("time-saved-so-far");rt(()=>{console.log("TimeImpactCalculator mounted with launch date:",s()),y(),_()});function g(oe){j(h,oe)}function y(){const oe=r()||0,Se=n()||0,Le=oe+Se/7,Ue=new Date,Ce=s()||new Date("1900-01-01");console.log("Using launch date:",Ce);const ue=(Ue.getTime()-Ce.getTime())/(1e3*60*60*24);let Ee=Le*ue;console.log("Minutes saved calculation:",{dailyMinutes:Le,daysSinceLaunch:ue,minutesSaved:Ee}),p(a)&&p(o)&&p(l)?b(Ee):console.warn("Counter elements not found during initialization");const qe=Le/(24*60*60*100);setInterval(()=>{Ee+=qe,b(Ee)},10)}function b(oe){if(!p(a)||!p(o)||!p(l))return;const Se=Math.floor(oe/60),Le=oe%60,Ue=Math.floor(Le),Ce=(Le-Ue)*60;Ve(a,p(a).textContent=Se.toString()),Ve(o,p(o).textContent=Ue<10?`0${Ue}`:`${Ue}`),Ve(l,p(l).textContent=Ce.toFixed(3))}function _(){if(!i()||i().length<=1){console.warn("Not enough alternative uses to rotate");return}const oe=setInterval(()=>{d||(d=!0,setTimeout(()=>{j(c,(p(c)+1)%i().length),setTimeout(()=>{d=!1},500)},400))},3e3);return()=>{clearInterval(oe)}}function A(){const oe=r()||0,Se=n()||0,Ue=(oe*365+Se*52)/60,Ce=(Ue/8).toFixed(1);return`${Math.round(Ue)} hours or ${Ce} workdays`}function C(oe){try{if(!oe)return"January 1, 1900";const Se={month:"long",day:"numeric",year:"numeric"};return oe.toLocaleDateString("en-US",Se)}catch(Se){return console.error("Error formatting date:",Se),"January 1, 1900"}}Ki(()=>{p(a)&&p(o)&&p(l)&&p(a).textContent==="0"&&p(o).textContent==="00"&&(console.log("Reinitializing counter with bound elements"),y())}),Qe();var P=db(),w=x(P),k=x(w);let T;var O=N(k,2);let I;var z=N(O,2);let V;var D=N(w,2),B=x(D),M=x(B);let F;var W=x(M),Y=x(W),Q=x(Y),X=N(Y,2),pe=N(x(X)),be=x(pe);Xf(be,()=>p(c),oe=>{var Se=ub(),Le=x(Se);_e(()=>fe(Le,i().length>0?i()[p(c)]:"hike 220 miles")),K(oe,Se)}),Xe(pe,oe=>j(f,oe),()=>p(f));var $=N(M,2);let De;var Z=x($),u=x(Z),m=x(u),v=x(m),E=x(v),S=x(E),R=x(S);Xe(R,oe=>j(a,oe),()=>p(a));var L=N(S,2),U=x(L);Xe(U,oe=>j(o,oe),()=>p(o));var G=N(L,2),ae=x(G);Xe(ae,oe=>j(l,oe),()=>p(l));var te=N(u,2),we=x(te);_e((oe,Se,Le,Ue,Ce,ue,Ee)=>{T=he(k,1,"time-tab svelte-xa9m8v",null,T,oe),I=he(O,1,"time-tab svelte-xa9m8v",null,I,Se),V=he(z,1,"tab-slider svelte-xa9m8v",null,V,Le),F=he(M,1,"time-calculator-slide svelte-xa9m8v",null,F,Ue),fe(Q,Ce),De=he($,1,"time-calculator-slide svelte-xa9m8v",null,De,ue),fe(we,`since launch on ${Ee??""}`)},[()=>({active:p(h)==="time-saved-so-far"}),()=>({active:p(h)==="time-saved-per-year"}),()=>({"slide-right":p(h)==="time-saved-per-year"}),()=>({active:p(h)==="time-saved-per-year"}),A,()=>({active:p(h)==="time-saved-so-far"}),()=>C(s())],ye),de("click",k,()=>g("time-saved-so-far")),de("click",O,()=>g("time-saved-per-year")),K(t,P),Ge()}var hb=ee('<span class="rotating-use-text svelte-141ul8v"> </span>'),pb=ee('<div class="money-calculator-container svelte-141ul8v"><div class="money-calculator-tabs svelte-141ul8v"><button>Money saved so far</button> <button>Money saved per year</button> <div></div></div> <div class="money-calculator-content svelte-141ul8v"><div class="slides-container svelte-141ul8v"><div id="money-saved-per-year"><div class="money-calculator-slide-content svelte-141ul8v"><div class="money-counter svelte-141ul8v"><table class="money-counter-table svelte-141ul8v"><tbody><tr class="money-counter-values svelte-141ul8v"><td class="svelte-141ul8v"><span class="dollar-sign svelte-141ul8v">$</span><span class="dollars svelte-141ul8v"> </span></td><td class="money-counter-separator svelte-141ul8v">.</td><td class="svelte-141ul8v"><span class="cents svelte-141ul8v"> </span></td></tr></tbody></table></div> <div class="money-alternative-use svelte-141ul8v">One could use this money to <div class="rotating-use-text-wrapper svelte-141ul8v"><!></div></div></div></div> <div id="money-saved-so-far"><div class="money-calculator-slide-content svelte-141ul8v"><div class="money-counter svelte-141ul8v"><table class="money-counter-table svelte-141ul8v"><tbody><tr class="money-counter-values svelte-141ul8v"><td class="svelte-141ul8v"><span class="dollar-sign svelte-141ul8v">$</span><span class="dollars svelte-141ul8v">0</span></td><td class="money-counter-separator svelte-141ul8v">.</td><td class="svelte-141ul8v"><span class="cents svelte-141ul8v">00</span></td></tr></tbody></table></div> <div class="money-launch-date svelte-141ul8v"> </div></div></div></div></div></div>');function vb(t,e){Je(e,!1);let r=ne(e,"daily",8,0),n=ne(e,"weekly",8,0),s=ne(e,"launchDate",24,()=>new Date("1900-01-01")),i=ne(e,"alternativeUses",24,()=>[]),a=H(null),o=H(null),l=H(0),c=!1,d=H(null),f=H("money-saved-so-far");rt(()=>{g(),b()});function h(ue){j(f,ue)}function g(){const ue=r()||0,Ee=n()||0,qe=ue+Ee/7,at=new Date,Mt=new Date(s()||new Date("1900-01-01")),fr=Math.max(0,(at.getTime()-Mt.getTime())/(1e3*60*60*24));let ut=qe*fr;y(ut);const He=qe/(24*60*60*100);setInterval(()=>{ut+=He,y(ut)},10)}function y(ue){if(!p(a)||!p(o))return;const Ee=Math.floor(ue),qe=ue-Ee,at=Math.round(qe*1e5);Ve(a,p(a).textContent=Ee.toLocaleString()),Ve(o,p(o).textContent=at.toString().padStart(5,"0"))}function b(){if(!i()||i().length<=1){console.warn("Not enough alternative uses to rotate");return}const ue=setInterval(()=>{c||(c=!0,setTimeout(()=>{j(l,(p(l)+1)%i().length),setTimeout(()=>{c=!1},500)},400))},3e3);return()=>{clearInterval(ue)}}function _(ue){try{if(!ue)return"January 1, 1900";const Ee={month:"long",day:"numeric",year:"numeric"};return ue.toLocaleDateString("en-US",Ee)}catch(Ee){return console.error("Error formatting date:",Ee),"January 1, 1900"}}function A(){const ue=r()||0,Ee=n()||0;return ue*365+Ee*52}Qe();var C=pb(),P=x(C),w=x(P);let k;var T=N(w,2);let O;var I=N(T,2);let z;var V=N(P,2),D=x(V),B=x(D);let M;var F=x(B),W=x(F),Y=x(W),Q=x(Y),X=x(Q),pe=x(X),be=N(x(pe)),$=x(be),De=N(pe,2),Z=x(De),u=x(Z),m=N(W,2),v=N(x(m)),E=x(v);Xf(E,()=>p(l),ue=>{var Ee=hb(),qe=x(Ee);_e(()=>fe(qe,i().length>0?i()[p(l)]:"a high-end laptop")),K(ue,Ee)}),Xe(v,ue=>j(d,ue),()=>p(d));var S=N(B,2);let R;var L=x(S),U=x(L),G=x(U),ae=x(G),te=x(ae),we=x(te),oe=N(x(we));Xe(oe,ue=>j(a,ue),()=>p(a));var Se=N(we,2),Le=x(Se);Xe(Le,ue=>j(o,ue),()=>p(o));var Ue=N(U,2),Ce=x(Ue);_e((ue,Ee,qe,at,Mt,fr,ut,He)=>{k=he(w,1,"money-tab svelte-141ul8v",null,k,ue),O=he(T,1,"money-tab svelte-141ul8v",null,O,Ee),z=he(I,1,"tab-slider svelte-141ul8v",null,z,qe),M=he(B,1,"money-calculator-slide svelte-141ul8v",null,M,at),fe($,Mt),fe(u,fr),R=he(S,1,"money-calculator-slide svelte-141ul8v",null,R,ut),fe(Ce,`since launch on ${He??""}`)},[()=>({active:p(f)==="money-saved-so-far"}),()=>({active:p(f)==="money-saved-per-year"}),()=>({"slide-right":p(f)==="money-saved-per-year"}),()=>({active:p(f)==="money-saved-per-year"}),()=>Math.floor(A()).toLocaleString(),()=>(A()%1*100).toFixed(0).padStart(2,"0"),()=>({active:p(f)==="money-saved-so-far"}),()=>_(s())],ye),de("click",w,()=>h("money-saved-so-far")),de("click",T,()=>h("money-saved-per-year")),K(t,C),Ge()}var mb=ee('<div class="insight-impact-container svelte-e56hho"><div class="insight-impact-tabs svelte-e56hho"><button>Before</button> <button>After</button> <div></div></div> <div class="insight-impact-content svelte-e56hho"><div class="slides-container svelte-e56hho"><div><!></div> <div><!></div></div></div></div>');function gb(t,e){Je(e,!1);let r=ne(e,"beforeImpact",8,"Before impact description."),n=ne(e,"afterImpact",8,"After impact description."),s=H("before"),i=H(),a=H(),o=H();function l(D){j(s,D)}function c(D){return D.split(`

`).map(B=>`<p>${B}</p>`).join("")}function d(){if(!p(i)||!p(a)||!p(o))return;Ve(i,p(i).style.opacity="1"),Ve(a,p(a).style.opacity="1");const D=p(i).scrollHeight,B=p(a).scrollHeight,M=Math.max(D,B);Ve(o,p(o).style.height=`${M}px`),Ve(i,p(i).style.opacity=p(s)==="before"?"1":"0.5"),Ve(a,p(a).style.opacity=p(s)==="after"?"1":"0.5")}rt(()=>(d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d))),Ki(d),Qe();var f=mb(),h=x(f),g=x(h);let y;var b=N(g,2);let _;var A=N(b,2);let C;var P=N(h,2),w=x(P),k=x(w);let T;var O=x(k);xr(O,()=>c(n()),!1,!1),Xe(k,D=>j(a,D),()=>p(a));var I=N(k,2);let z;var V=x(I);xr(V,()=>c(r()),!1,!1),Xe(I,D=>j(i,D),()=>p(i)),Xe(P,D=>j(o,D),()=>p(o)),_e((D,B,M,F,W)=>{y=he(g,1,"insight-tab svelte-e56hho",null,y,D),_=he(b,1,"insight-tab svelte-e56hho",null,_,B),C=he(A,1,"tab-slider svelte-e56hho",null,C,M),T=he(k,1,"insight-slide svelte-e56hho",null,T,F),z=he(I,1,"insight-slide svelte-e56hho",null,z,W)},[()=>({active:p(s)==="before"}),()=>({active:p(s)==="after"}),()=>({"slide-right":p(s)==="after"}),()=>({active:p(s)==="after"}),()=>({active:p(s)==="before"})],ye),de("click",g,()=>l("before")),de("click",b,()=>l("after")),K(t,f),Ge()}var yb=ee('<div class="sanity-impact-container svelte-zx0349"><div class="sanity-impact-tabs svelte-zx0349"><button>Before</button> <button>After</button> <div></div></div> <div class="sanity-impact-content svelte-zx0349"><div class="slides-container svelte-zx0349"><div><!></div> <div><!></div></div></div></div>');function _b(t,e){Je(e,!1);let r=ne(e,"beforeImpact",8,"Before impact description."),n=ne(e,"afterImpact",8,"After impact description."),s=H("before"),i=H(),a=H(),o=H();function l(D){j(s,D)}function c(D){return D.split(`

`).map(B=>`<p>${B}</p>`).join("")}function d(){if(!p(i)||!p(a)||!p(o))return;Ve(i,p(i).style.opacity="1"),Ve(a,p(a).style.opacity="1");const D=p(i).scrollHeight,B=p(a).scrollHeight,M=Math.max(D,B);Ve(o,p(o).style.height=`${M}px`),Ve(i,p(i).style.opacity=p(s)==="before"?"1":"0.5"),Ve(a,p(a).style.opacity=p(s)==="after"?"1":"0.5")}rt(()=>(d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d))),Ki(d),Qe();var f=yb(),h=x(f),g=x(h);let y;var b=N(g,2);let _;var A=N(b,2);let C;var P=N(h,2),w=x(P),k=x(w);let T;var O=x(k);xr(O,()=>c(n()),!1,!1),Xe(k,D=>j(a,D),()=>p(a));var I=N(k,2);let z;var V=x(I);xr(V,()=>c(r()),!1,!1),Xe(I,D=>j(i,D),()=>p(i)),Xe(P,D=>j(o,D),()=>p(o)),_e((D,B,M,F,W)=>{y=he(g,1,"sanity-tab svelte-zx0349",null,y,D),_=he(b,1,"sanity-tab svelte-zx0349",null,_,B),C=he(A,1,"tab-slider svelte-zx0349",null,C,M),T=he(k,1,"sanity-slide svelte-zx0349",null,T,F),z=he(I,1,"sanity-slide svelte-zx0349",null,z,W)},[()=>({active:p(s)==="before"}),()=>({active:p(s)==="after"}),()=>({"slide-right":p(s)==="after"}),()=>({active:p(s)==="after"}),()=>({active:p(s)==="before"})],ye),de("click",g,()=>l("before")),de("click",b,()=>l("after")),K(t,f),Ge()}var bb=ee('<div class="fun-impact-container svelte-y7ywm5"><div class="fun-impact-tabs svelte-y7ywm5"><button>Before</button> <button>After</button> <div></div></div> <div class="fun-impact-content svelte-y7ywm5"><div><p class="svelte-y7ywm5"> </p></div> <div><p class="svelte-y7ywm5"> </p></div></div></div>');function wb(t,e){let r=ne(e,"beforeImpact",8,"Before impact description."),n=ne(e,"afterImpact",8,"After impact description."),s=H("before");function i(O){j(s,O)}var a=bb(),o=x(a),l=x(o);let c;var d=N(l,2);let f;var h=N(d,2);let g;var y=N(o,2),b=x(y);let _;var A=x(b),C=x(A),P=N(b,2);let w;var k=x(P),T=x(k);_e((O,I,z,V,D)=>{c=he(l,1,"fun-tab svelte-y7ywm5",null,c,O),f=he(d,1,"fun-tab svelte-y7ywm5",null,f,I),g=he(h,1,"tab-slider svelte-y7ywm5",null,g,z),_=he(b,1,"fun-slide svelte-y7ywm5",null,_,V),fe(C,r()),w=he(P,1,"fun-slide svelte-y7ywm5",null,w,D),fe(T,n())},[()=>({active:p(s)==="before"}),()=>({active:p(s)==="after"}),()=>({"slide-right":p(s)==="after"}),()=>({active:p(s)==="before"}),()=>({active:p(s)==="after"})],ye),de("click",l,()=>i("before")),de("click",d,()=>i("after")),K(t,a)}var kb=ee('<div class="calculator-wrapper svelte-bzvjp4"><!></div>'),Sb=ee('<div class="calculator-wrapper svelte-bzvjp4"><!></div>'),Eb=ee('<div class="calculator-wrapper svelte-bzvjp4"><!></div>'),Cb=ee('<div class="calculator-wrapper svelte-bzvjp4"><!></div>'),Tb=ee('<div class="calculator-wrapper svelte-bzvjp4"><!></div>');function Ab(t,e){Je(e,!1);let r=ne(e,"project",8);function n(){return r().value==="time"&&r().timeSaved?"time":r().value==="money"&&r().moneySaved?"money":r().value==="insight"?"insight":r().value==="sanity"?"sanity":r().value==="fun"?"fun":null}const s=n();function i(){var f;return((f=r().timeSaved)==null?void 0:f.alternativeUses)||["hike 220 miles","watch 45 movies","read 18 novels","learn a new language","complete 6 online courses"]}function a(){var f;return((f=r().moneySaved)==null?void 0:f.alternativeUses)||["a high-end laptop","a weekend getaway","a year of streaming services","dinner at 12 nice restaurants","300 cups of coffee"]}Qe();var o=Ar(),l=Ze(o);{var c=f=>{var h=kb(),g=x(h);const y=ye(()=>r().timeSaved.daily||0),b=ye(()=>r().timeSaved.weekly||0),_=ye(()=>r().launchDate||new Date("1900-01-01")),A=ye(i);fb(g,{get daily(){return p(y)},get weekly(){return p(b)},get launchDate(){return p(_)},get alternativeUses(){return p(A)}}),K(f,h)},d=(f,h)=>{{var g=b=>{var _=Sb(),A=x(_);const C=ye(()=>r().moneySaved.daily||0),P=ye(()=>r().moneySaved.weekly||0),w=ye(()=>r().launchDate||new Date("1900-01-01")),k=ye(a);vb(A,{get daily(){return p(C)},get weekly(){return p(P)},get launchDate(){return p(w)},get alternativeUses(){return p(k)}}),K(b,_)},y=(b,_)=>{{var A=P=>{var w=Eb(),k=x(w);const T=ye(()=>r().beforeImpact||"Before impact description."),O=ye(()=>r().afterImpact||"After impact description.");gb(k,{get beforeImpact(){return p(T)},get afterImpact(){return p(O)}}),K(P,w)},C=(P,w)=>{{var k=O=>{var I=Cb(),z=x(I);const V=ye(()=>r().beforeImpact||"Before impact description."),D=ye(()=>r().afterImpact||"After impact description.");_b(z,{get beforeImpact(){return p(V)},get afterImpact(){return p(D)}}),K(O,I)},T=(O,I)=>{{var z=V=>{var D=Tb(),B=x(D);const M=ye(()=>r().beforeImpact||"Before impact description."),F=ye(()=>r().afterImpact||"After impact description.");wb(B,{get beforeImpact(){return p(M)},get afterImpact(){return p(F)}}),K(V,D)};ie(O,V=>{s==="fun"&&V(z)},I)}};ie(P,O=>{s==="sanity"?O(k):O(T,!1)},w)}};ie(b,P=>{s==="insight"?P(A):P(C,!1)},_)}};ie(f,b=>{s==="money"&&r().moneySaved?b(g):b(y,!1)},h)}};ie(l,f=>{s==="time"&&r().timeSaved?f(c):f(d,!1)})}K(t,o),Ge()}const Pb="modulepreload",xb=function(t){return"/"+t},du={},ot=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=xb(l),l in du)return;du[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Pb,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},Ob=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ot(async()=>{const{default:n}=await Promise.resolve().then(()=>Zi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Xl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Mb extends Xl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Lb extends Xl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ib extends Xl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Bo;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Bo||(Bo={}));var jb=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class Rb{constructor(e,{headers:r={},customFetch:n,region:s=Bo.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Ob(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return jb(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(o["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(o["Content-Type"]="application/json",c=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:c}).catch(y=>{throw new Mb(y)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Lb(d);if(!d.ok)throw new Ib(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield d.json():h==="application/octet-stream"?g=yield d.blob():h==="text/event-stream"?g=d:h==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Db=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ti=Db();const Nb=ti.fetch,Zl=ti.fetch.bind(ti),Vh=ti.Headers,$b=ti.Request,Fb=ti.Response,Zi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Vh,Request:$b,Response:Fb,default:Zl,fetch:Nb},Symbol.toStringTag,{value:"Module"}));class Ub{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Zl:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let c=null,d=null,f=null,h=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const A=await i.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=A:d=JSON.parse(A))}const b=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),_=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");b&&_&&_.length>1&&(f=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await i.text();try{c=JSON.parse(b),Array.isArray(c)&&i.status===404&&(d=[],c=null,h=200,g="OK")}catch{i.status===404&&b===""?(h=204,g="No Content"):c={message:b}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,g="OK"),c&&this.shouldThrowOnError)throw c}return{error:c,data:d,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}}class qb extends Ub{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,r,{foreignTable:n}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){const o=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Bn extends qb{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=r.map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}}class zb{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Bn({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Bn({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Bn({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Bn({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Bn({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Bb="1.8.5",Vb={"X-Client-Info":`postgrest-js/${Bb}`};class ec{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Vb),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new zb(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ec(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,count:s}={}){let i;const a=new URL(`${this.url}/rpc/${e}`);let o;n?(i="HEAD",Object.entries(r).forEach(([c,d])=>{a.searchParams.append(c,`${d}`)})):(i="POST",o=r);const l=Object.assign({},this.headers);return s&&(l.Prefer=`count=${s}`),new Bn({method:i,url:a,headers:l,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}}const Wb="2.11.2",Jb={"X-Client-Info":`realtime-js/${Wb}`},Gb="1.0.0",Wh=1e4,Hb=1e3;var Hn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Hn||(Hn={}));var At;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(At||(At={}));var qt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(qt||(qt={}));var Vo;(function(t){t.websocket="websocket"})(Vo||(Vo={}));var hn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(hn||(hn={}));class Yb{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+s));a=a+s;const l=n.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class Jh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ze||(ze={}));const fu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=Kb(a,t,e,s),i),{})},Kb=(t,e,r,n)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?Gh(i,a):Wo(a)},Gh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return e0(e,r)}switch(t){case ze.bool:return Qb(e);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return Xb(e);case ze.json:case ze.jsonb:return Zb(e);case ze.timestamp:return t0(e);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Wo(e);default:return Wo(e)}},Wo=t=>t,Qb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Xb=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Zb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},e0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Gh(e,o))}return t},t0=t=>typeof t=="string"?t.replace(" ","T"):t,Hh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ja{constructor(e,r,n={},s=Wh){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var hu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(hu||(hu={}));class Ri{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ri.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Ri.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ri.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(i,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const f=i[c];if(f){const h=d.map(_=>_.presence_ref),g=f.map(_=>_.presence_ref),y=d.filter(_=>g.indexOf(_.presence_ref)<0),b=f.filter(_=>h.indexOf(_.presence_ref)<0);y.length>0&&(o[c]=y),b.length>0&&(l[c]=b)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var c;const d=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),d.length>0){const f=e[o].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);e[o].unshift(...h)}n(o,d,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=c,s(o,c,l),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(pu||(pu={}));var vu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(vu||(vu={}));var gr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(gr||(gr={}));class tc{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=At.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ja(this,qt.join,this.params,this.timeout),this.rejoinTimer=new Jh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=At.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=At.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ri(this),this.broadcastEndpointURL=Hh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>e==null?void 0:e(gr.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(gr.CLOSED));const l={},c={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(gr.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let b=0;b<g;b++){const _=h[b],{filter:{event:A,schema:C,table:P,filter:w}}=_,k=d&&d[b];if(k&&k.event===A&&k.schema===C&&k.table===P&&k.filter===w)y.push(Object.assign(Object.assign({},_),{id:k.id}));else{this.unsubscribe(),e==null||e(gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(gr.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=At.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Ja(this,qt.leave,{},e);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ja(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=qt;if(n&&[o,l,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,b,_;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(b=g.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(g=>g.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(g=>{var y,b,_,A,C,P;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const w=g.id,k=(y=g.filter)===null||y===void 0?void 0:y.event;return w&&((b=r.ids)===null||b===void 0?void 0:b.includes(w))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const w=(C=(A=g==null?void 0:g.filter)===null||A===void 0?void 0:A.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return w==="*"||w===((P=r==null?void 0:r.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:b,table:_,commit_timestamp:A,type:C,errors:P}=y;h=Object.assign(Object.assign({},{schema:b,table:_,commit_timestamp:A,eventType:C,new:{},old:{},errors:P}),this._getPayloadRecords(y))}g.callback(h,n)})}_isClosed(){return this.state===At.closed}_isJoined(){return this.state===At.joined}_isJoining(){return this.state===At.joining}_isLeaving(){return this.state===At.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&tc.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qt.close,{},e)}_onError(e){this._on(qt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=At.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=fu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=fu(e.columns,e.old_record)),r}}const r0=()=>{},n0=typeof WebSocket<"u",i0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class s0{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Jb,this.params={},this.timeout=Wh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=r0,this.conn=null,this.sendBuffer=[],this.serializer=new Yb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>ot(async()=>{const{default:l}=await Promise.resolve().then(()=>Zi);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${Vo.websocket}`,this.httpEndpoint=Hh(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Jh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(n0){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new a0(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ot(async()=>{const{default:e}=await import("./browser-B31zLnAr.js").then(r=>r.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gb}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Hn.connecting:return hn.Connecting;case Hn.open:return hn.Open;case Hn.closing:return hn.Closing;default:return hn.Closed}}isConnected(){return this.connectionState()===hn.Open}channel(e,r={config:{}}){const n=new tc(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(qt.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Hb,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(qt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([i0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class a0{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Hn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class rc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function et(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class o0 extends rc{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Jo extends rc{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var l0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const Yh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ot(async()=>{const{default:n}=await Promise.resolve().then(()=>Zi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},c0=()=>l0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ot(()=>Promise.resolve().then(()=>Zi),void 0)).Response:Response}),Go=t=>{if(Array.isArray(t))return t.map(r=>Go(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Go(n)}),e};var Ln=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const Ga=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),u0=(t,e,r)=>Ln(void 0,void 0,void 0,function*(){const n=yield c0();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new o0(Ga(s),t.status||500))}).catch(s=>{e(new Jo(Ga(s),s))}):e(new Jo(Ga(t),t))}),d0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function es(t,e,r,n,s,i){return Ln(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,d0(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>u0(l,o,n))})})}function Hs(t,e,r,n){return Ln(this,void 0,void 0,function*(){return es(t,"GET",e,r,n)})}function Vr(t,e,r,n,s){return Ln(this,void 0,void 0,function*(){return es(t,"POST",e,n,s,r)})}function f0(t,e,r,n,s){return Ln(this,void 0,void 0,function*(){return es(t,"PUT",e,n,s,r)})}function h0(t,e,r,n){return Ln(this,void 0,void 0,function*(){return es(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Kh(t,e,r,n,s){return Ln(this,void 0,void 0,function*(){return es(t,"DELETE",e,n,s,r)})}var gt=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const p0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class v0{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Yh(s)}uploadOrUpdate(e,r,n,s){return gt(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},mu),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(et(i))return{data:null,error:i};throw i}})}upload(e,r,n){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return gt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:mu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(et(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return gt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Vr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new rc("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}update(e,r,n){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return gt(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}copy(e,r,n){return gt(this,void 0,void 0,function*(){try{return{data:{path:(yield Vr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return gt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Vr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return gt(this,void 0,void 0,function*(){try{const s=yield Vr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}download(e,r){return gt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Hs(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(et(o))return{data:null,error:o};throw o}})}info(e){return gt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Hs(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Go(n),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}exists(e){return gt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield h0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(et(n)&&n instanceof Jo){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return gt(this,void 0,void 0,function*(){try{return{data:yield Kh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}list(e,r,n){return gt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},p0),r),{prefix:e||""});return{data:yield Vr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const m0="2.7.1",g0={"X-Client-Info":`storage-js/${m0}`};var Dn=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class y0{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},g0),r),this.fetch=Yh(n)}listBuckets(){return Dn(this,void 0,void 0,function*(){try{return{data:yield Hs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(et(e))return{data:null,error:e};throw e}})}getBucket(e){return Dn(this,void 0,void 0,function*(){try{return{data:yield Hs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Dn(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Dn(this,void 0,void 0,function*(){try{return{data:yield f0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Dn(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Dn(this,void 0,void 0,function*(){try{return{data:yield Kh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}}class _0 extends y0{constructor(e,r={},n){super(e,r,n)}from(e){return new v0(this.url,this.headers,e,this.fetch)}}const b0="2.38.4";let Pi="";typeof Deno<"u"?Pi="deno":typeof document<"u"?Pi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pi="react-native":Pi="node";const w0={"X-Client-Info":`supabase-js-${Pi}/${b0}`};var k0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const S0=t=>{let e;return t?e=t:typeof fetch>"u"?e=Zl:e=fetch,(...r)=>e(...r)},E0=()=>typeof Headers>"u"?Vh:Headers,C0=(t,e,r)=>{const n=S0(r),s=E0();return(i,a)=>k0(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};function T0(t){return t.replace(/\/$/,"")}function A0(t,e){const{db:r,auth:n,realtime:s,global:i}=t,{db:a,auth:o,realtime:l,global:c}=e;return{db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i)}}const Qh="2.69.1",Vn=30*1e3,Ho=3,Ha=Ho*Vn,P0="http://localhost:9999",x0="supabase.auth.token",O0={"X-Client-Info":`gotrue-js/${Qh}`},Yo="X-Supabase-Api-Version",Xh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},M0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,L0=6e5;class nc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ve(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class I0 extends nc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function j0(t){return ve(t)&&t.name==="AuthApiError"}class Zh extends nc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class sn extends nc{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Fr extends sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function R0(t){return ve(t)&&t.name==="AuthSessionMissingError"}class Ya extends sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ls extends sn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class cs extends sn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function D0(t){return ve(t)&&t.name==="AuthImplicitGrantRedirectError"}class gu extends sn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ko extends sn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ka(t){return ve(t)&&t.name==="AuthRetryableFetchError"}class yu extends sn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Di extends sn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const _u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bu=` 	
\r=`.split(""),N0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<bu.length;e+=1)t[bu[e].charCodeAt(0)]=-2;for(let e=0;e<_u.length;e+=1)t[_u[e].charCodeAt(0)]=e;return t})();function ep(t,e,r){const n=N0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function wu(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{U0(a,n,r)};for(let a=0;a<t.length;a+=1)ep(t.charCodeAt(a),s,i);return e.join("")}function $0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function F0(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}$0(n,e)}}function U0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function q0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)ep(t.charCodeAt(s),r,n);return new Uint8Array(e)}function z0(t){const e=[];return F0(t,r=>e.push(r)),new Uint8Array(e)}function B0(t){return Math.round(Date.now()/1e3)+t}function V0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const tr=()=>typeof window<"u"&&typeof document<"u",on={tested:!1,writable:!1},Ni=()=>{if(!tr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(on.tested)return on.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),on.tested=!0,on.writable=!0}catch{on.tested=!0,on.writable=!1}return on.writable};function W0(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const tp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ot(async()=>{const{default:n}=await Promise.resolve().then(()=>Zi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},J0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",rp=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},us=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ds=async(t,e)=>{await t.removeItem(e)};class wa{constructor(){this.promise=new wa.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}wa.promiseConstructor=Promise;function Qa(t){const e=t.split(".");if(e.length!==3)throw new Di("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!M0.test(e[n]))throw new Di("JWT not in base64url format");return{header:JSON.parse(wu(e[0])),payload:JSON.parse(wu(e[1])),signature:q0(e[2]),raw:{header:e[0],payload:e[1]}}}async function G0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function H0(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function Y0(t){return("0"+t.toString(16)).substr(-2)}function K0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Y0).join("")}async function Q0(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function X0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Q0(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nn(t,e,r=!1){const n=K0();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await rp(t,`${e}-code-verifier`,s);const i=await X0(n);return[i,n===i?"plain":"s256"]}const Z0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ew(t){const e=t.headers.get(Yo);if(!e||!e.match(Z0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function tw(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function rw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var nw=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const fn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iw=[502,503,504];async function ku(t){var e;if(!J0(t))throw new Ko(fn(t),0);if(iw.includes(t.status))throw new Ko(fn(t),t.status);let r;try{r=await t.json()}catch(i){throw new Zh(fn(i),i)}let n;const s=ew(t);if(s&&s.getTime()>=Xh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new yu(fn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Fr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new yu(fn(r),t.status,r.weak_password.reasons);throw new I0(fn(r),t.status||500,n)}const sw=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Te(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Yo]||(i[Yo]=Xh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await aw(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function aw(t,e,r,n,s,i){const a=sw(e,n,s,i);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new Ko(fn(l),0)}if(o.ok||await ku(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await ku(l)}}function Ur(t){var e;let r=null;uw(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=B0(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Su(t){const e=Ur(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Gr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ow(t){return{data:t,error:null}}function lw(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=nw(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function cw(t){return t}function uw(t){return t.access_token&&t.refresh_token&&t.expires_in}var dw=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class fw{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=tp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Gr})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=dw(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:lw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Gr})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:cw});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);c[`${_}Page`]=b}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ve(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Gr})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Gr})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Gr})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await Te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}}const hw={getItem:t=>Ni()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ni()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ni()&&globalThis.localStorage.removeItem(t)}};function Eu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function pw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const $n={debug:!!(globalThis&&Ni()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class np extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class vw extends np{}async function mw(t,e,r){$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),$n.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw $n.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new vw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if($n.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}pw();const gw={url:P0,storageKey:x0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:O0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Cu(t,e,r){return await r()}class zi{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zi.nextInstanceID,zi.nextInstanceID+=1,this.instanceID>0&&tr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},gw),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new fw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=tp(s.fetch),this.lock=s.lock||Cu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:tr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=mw:this.lock=Cu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ni()?this.storage=hw:(this.memoryStorage={},this.storage=Eu(this.memoryStorage)):(this.memoryStorage={},this.storage=Eu(this.memoryStorage)),tr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=W0(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),tr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),D0(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ve(r)?{error:r}:{error:new Zh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ur}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Nn(this.storage,this.storageKey)),i=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:y},xform:Ur})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ur})}else throw new ls("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:o}=e;r=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Su})}else if("phone"in e){const{phone:i,password:a,options:o}=e;r=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Su})}else throw new ls("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ya}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await us(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ur});if(await ds(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ya}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(ve(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,o=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ur}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ya}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Nn(this.storage,this.storageKey));const{error:f}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:d}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ls("You must provide either an email or phone number.")}catch(o){if(ve(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ur});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Nn(this.storage,this.storageKey)),await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:ow})}catch(i){if(ve(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Fr;const{error:s}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ve(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await Te(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await Te(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new ls("You must provide either an email or phone number and a type")}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await us(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ha:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Gr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fr}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Gr})})}catch(r){if(ve(r))return R0(r)&&(await this._removeSession(),await ds(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Fr;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Nn(this.storage,this.storageKey));const{data:c,error:d}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Gr});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Qa(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ve(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Fr;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!tr())throw new cs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new cs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gu("No code detected.");const{data:C,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!i||!o||!a||!c)throw new cs("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const g=h-d;g*1e3<=Vn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:b,error:_}=await this._getUser(i);if(_)throw _;const A={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:c,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:e.type},error:null}}catch(n){if(ve(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await us(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(j0(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await ds(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=V0(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Nn(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ve(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,c,d;const{data:f,error:h}=i;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return tr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ve(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await H0(async s=>(s>0&&await G0(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ur})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Ka(i)&&Date.now()+a-n<Vn})}catch(n){if(this._debug(r,"error",n),ve(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),tr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await us(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Ha;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ha}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Ka(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Fr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new wa;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Fr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),ve(i)){const a={session:null,error:i};return Ka(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await rp(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ds(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Vn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Vn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Vn}ms, refresh threshold is ${Ho} ticks`),s<=Ho&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof np)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Nn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Qa(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n||(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+L0>Date.now()))return n;const{data:s,error:i}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Di("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===e),!n)throw new Di("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:g,error:y}=await this.getSession();if(y||!g.session)return{data:null,error:y};n=g.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=Qa(n);if(tw(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:a},error:null}}const c=rw(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,a,z0(`${o}.${l}`)))throw new Di("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}}zi.nextInstanceID=0;class yw extends zi{constructor(e){super(e)}}var _w=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const bw={headers:w0},ww={schema:"public"},kw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sw={};class Ew{constructor(e,r,n){var s,i,a,o,l,c,d,f;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const h=T0(e);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,y={db:ww,realtime:Sw,auth:Object.assign(Object.assign({},kw),{storageKey:g}),global:bw},b=A0(n??{},y);this.storageKey=(i=(s=b.auth)===null||s===void 0?void 0:s.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=(a=b.global)===null||a===void 0?void 0:a.headers)!==null&&o!==void 0?o:{},this.auth=this._initSupabaseAuthClient((l=b.auth)!==null&&l!==void 0?l:{},this.headers,(c=b.global)===null||c===void 0?void 0:c.fetch),this.fetch=C0(r,this._getAccessToken.bind(this),(d=b.global)===null||d===void 0?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},b.realtime)),this.rest=new ec(`${h}/rest/v1`,{headers:this.headers,schema:(f=b.db)===null||f===void 0?void 0:f.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Rb(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new _0(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return _w(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,debug:o},l,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yw({url:this.authUrl,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,debug:o,fetch:c})}_initRealtimeClient(e){return new s0(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Cw=(t,e,r)=>new Ew(t,e,r),Tw="https://hazfuihckyddmtfvruud.supabase.co",Aw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhhemZ1aWhja3lkZG10ZnZydXVkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2MzIxMDMsImV4cCI6MjA1OTIwODEwM30.YL338Bdt7aXzbWgmIjk5X7mNbPysnSREEYhrJoSYVXc",ce=Cw(Tw,Aw);var Lt=(t=>(t.PROJECT="project",t))(Lt||{});const Vt=Ul({likes:{},follows:{},userEmail:void 0,initialized:!1}),ka=()=>new Promise(t=>{let e=localStorage.getItem("device_id");e||(e=crypto.randomUUID(),localStorage.setItem("device_id",e)),t(e)}),ip=async()=>{try{const t=await ka(),{data:e,error:r}=await ce.from("project_interactions").select("project_id, has_liked, has_followed, email").eq("device_id",t);if(r){console.error("Error fetching interactions:",r);return}const n={},s={};let i;e.forEach(a=>{const o=`project:${a.project_id}`;n[o]=a.has_liked||!1,s[o]=a.has_followed||!1,a.email&&(i=a.email)}),Vt.update(a=>({...a,likes:n,follows:s,userEmail:i,initialized:!0})),console.log("Initialized interaction state:",{likes:n,follows:s,userEmail:i})}catch(t){console.error("Failed to initialize interactions:",t)}},Ys=(t,e)=>`${t}:${e}`,sp=t=>(wn(Vt).initialized||ip(),Vt.subscribe(t)),ap=async(t,e)=>{try{const r=Ys(t,e),n=await ka(),i=wn(Vt).likes[r]||!1;Vt.update(l=>{const c={...l.likes};return c[r]=!i,{...l,likes:c}}),console.log(`Toggling like for ${t}:${e} to ${!i}`);const{data:a,error:o}=await ce.from("project_interactions").select("*").eq("device_id",n).eq("project_id",e).maybeSingle();if(o)throw console.error("Error fetching interaction:",o),o;if(console.log("Existing interaction:",a),a){const{error:l}=await ce.from("project_interactions").update({has_liked:!i,updated_at:new Date().toISOString()}).eq("device_id",n).eq("project_id",e);if(l)throw console.error("Error updating interaction:",l),l;console.log("Interaction updated successfully")}else{const{error:l}=await ce.from("project_interactions").insert({device_id:n,project_id:e,has_liked:!i,has_followed:!1});if(l)throw console.error("Error inserting interaction:",l),l;console.log("New interaction created successfully")}if(i){const{error:l}=await ce.rpc("decrement_project_likes",{project_id:e}).single();if(l){console.log("RPC failed (expected), using fallback method:",l.message);const{data:c,error:d}=await ce.from("projects").select("likes").eq("id",e).single();if(d)throw console.error("Error fetching project:",d),d;console.log("Current project data:",c);const f=(c==null?void 0:c.likes)||0,h=Math.max(0,f-1);console.log(`Updating likes from ${f} to ${h}`);const{error:g}=await ce.from("projects").update({likes:h}).eq("id",e);if(g)throw console.error("Error updating project likes:",g),g;console.log("Project likes updated successfully")}}else{const{error:l}=await ce.rpc("increment_project_likes",{project_id:e}).single();if(l){console.log("RPC failed (expected), using fallback method:",l.message);const{data:c,error:d}=await ce.from("projects").select("likes").eq("id",e).single();if(d)throw console.error("Error fetching project:",d),d;console.log("Current project data:",c);const f=(c==null?void 0:c.likes)||0,h=f+1;console.log(`Updating likes from ${f} to ${h}`);const{error:g}=await ce.from("projects").update({likes:h}).eq("id",e);if(g)throw console.error("Error updating project likes:",g),g;console.log("Project likes updated successfully")}}return!i}catch(r){console.error("Failed to toggle like:",r);const n=Ys(t,e),i=wn(Vt).likes[n]||!1;return Vt.update(a=>{const o={...a.likes};return o[n]=i,{...a,likes:o}}),i}},Tu=async(t,e,r)=>{try{const n=await ka(),s=Ys(t,e),i=wn(Vt),a=i.follows[s]||!1;if(!a&&!r&&!i.userEmail)return{success:!1,needsEmail:!0,newState:!1};if(Vt.update(o=>{const l={...o.follows};l[s]=!a;const c=r||o.userEmail;return{...o,follows:l,userEmail:c}}),a){const{error:o}=await ce.from("project_interactions").update({has_followed:!1,updated_at:new Date().toISOString()}).eq("device_id",n).eq("project_id",e);if(o)throw o;const{error:l}=await ce.rpc("decrement_project_follows",{project_id:e}).single();if(l){console.warn("RPC failed, using fallback method:",l);const{data:c,error:d}=await ce.from("projects").select("follows").eq("id",e).single();if(d)throw d;if(c&&c.follows>0){const f=c.follows-1,{error:h}=await ce.from("projects").update({follows:f}).eq("id",e);if(h)throw h}}}else{const o=r||i.userEmail,{data:l,error:c}=await ce.from("project_interactions").select("id").eq("device_id",n).eq("project_id",e).single();if(c&&c.code!=="PGRST116")throw c;if(l){const{error:f}=await ce.from("project_interactions").update({has_followed:!0,email:o,updated_at:new Date().toISOString()}).eq("device_id",n).eq("project_id",e);if(f)throw f}else{const{error:f}=await ce.from("project_interactions").insert({device_id:n,project_id:e,has_liked:!1,has_followed:!0,email:o});if(f)throw f}const{error:d}=await ce.rpc("increment_project_follows",{project_id:e}).single();if(d){console.warn("RPC failed, using fallback method:",d);const{data:f,error:h}=await ce.from("projects").select("follows").eq("id",e).single();if(h)throw h;const y=((f==null?void 0:f.follows)||0)+1,{error:b}=await ce.from("projects").update({follows:y}).eq("id",e);if(b)throw b}if(o){const{error:f}=await ce.from("project_interactions").update({email:o}).eq("device_id",n);f&&console.error("Error updating email for all device interactions:",f)}}return{success:!0,needsEmail:!1,newState:!a}}catch(n){console.error("Error toggling follow:",n);const s=Ys(t,e),a=wn(Vt).follows[s]||!1;return Vt.update(o=>{const l={...o.follows};return l[s]=a,{...o,follows:l}}),{success:!1,needsEmail:!1,newState:a}}};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const Pw={prefix:"fas",iconName:"person",icon:[320,512,[129485,"male"],"f183","M112 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm40 304l0 128c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-223.1L59.4 304.5c-9.1 15.1-28.8 20-43.9 10.9s-20-28.8-10.9-43.9l58.3-97c17.4-28.9 48.6-46.6 82.3-46.6l29.7 0c33.7 0 64.9 17.7 82.3 46.6l58.3 97c9.1 15.1 4.2 34.8-10.9 43.9s-34.8 4.2-43.9-10.9L232 256.9 232 480c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-128-16 0z"]},xw={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},Ow={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},Mw={prefix:"fas",iconName:"arrow-up-right-from-square",icon:[512,512,["external-link"],"f08e","M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l82.7 0L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3l0 82.7c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160c0-17.7-14.3-32-32-32L320 0zM80 32C35.8 32 0 67.8 0 112L0 432c0 44.2 35.8 80 80 80l320 0c44.2 0 80-35.8 80-80l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16L80 448c-8.8 0-16-7.2-16-16l0-320c0-8.8 7.2-16 16-16l112 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 32z"]},op={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]},Lw={prefix:"fas",iconName:"comment",icon:[512,512,[128489,61669],"f075","M512 240c0 114.9-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6C73.6 471.1 44.7 480 16 480c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c0 0 0 0 0 0s0 0 0 0s0 0 0 0c0 0 0 0 0 0l.3-.3c.3-.3 .7-.7 1.3-1.4c1.1-1.2 2.8-3.1 4.9-5.7c4.1-5 9.6-12.4 15.2-21.6c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208z"]},Iw={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},jw=Iw,lp={prefix:"fas",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32l0 19.2C119 66 64 130.6 64 208l0 18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S19.4 416 32 416l384 0c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3C401.3 319.2 384 273.9 384 226.8l0-18.8c0-77.4-55-142-128-156.8L256 32c0-17.7-14.3-32-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z"]},Rw={prefix:"fas",iconName:"tree-city",icon:[640,512,[],"e587","M288 48c0-26.5 21.5-48 48-48l96 0c26.5 0 48 21.5 48 48l0 144 40 0 0-72c0-13.3 10.7-24 24-24s24 10.7 24 24l0 72 24 0c26.5 0 48 21.5 48 48l0 224c0 26.5-21.5 48-48 48l-160 0-96 0c-26.5 0-48-21.5-48-48l0-416zm64 32l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm16 80c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM352 272l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm176-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM512 368l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zM224 160c0 6-1 11-2 16c20 14 34 38 34 64c0 45-36 80-80 80l-16 0 0 160c0 18-15 32-32 32c-18 0-32-14-32-32l0-160-16 0c-45 0-80-35-80-80c0-26 13-50 33-64c-1-5-1-10-1-16c0-53 42-96 96-96c53 0 96 43 96 96z"]},cp={prefix:"fas",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M352 224l-46.5 0c-45 0-81.5 36.5-81.5 81.5c0 22.3 10.3 34.3 19.2 40.5c6.8 4.7 12.8 12 12.8 20.3c0 9.8-8 17.8-17.8 17.8l-2.5 0c-2.4 0-4.8-.4-7.1-1.4C210.8 374.8 128 333.4 128 240c0-79.5 64.5-144 144-144l80 0 0-61.3C352 15.5 367.5 0 386.7 0c8.6 0 16.8 3.2 23.2 8.9L548.1 133.3c7.6 6.8 11.9 16.5 11.9 26.7s-4.3 19.9-11.9 26.7l-139 125.1c-5.9 5.3-13.5 8.2-21.4 8.2l-3.7 0c-17.7 0-32-14.3-32-32l0-64zM80 96c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-48c0-17.7 14.3-32 32-32s32 14.3 32 32l0 48c0 44.2-35.8 80-80 80L80 512c-44.2 0-80-35.8-80-80L0 112C0 67.8 35.8 32 80 32l48 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 96z"]},Dw={prefix:"fas",iconName:"house-chimney-window",icon:[576,512,[],"e00d","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c.2 35.5-28.5 64.3-64 64.3l-320.4 0c-35.3 0-64-28.7-64-64l0-160.4-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L416 100.7 416 64c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32l0 121 52.8 46.4c8 7 12 15 11 24zM248 192c-13.3 0-24 10.7-24 24l0 80c0 13.3 10.7 24 24 24l80 0c13.3 0 24-10.7 24-24l0-80c0-13.3-10.7-24-24-24l-80 0z"]},Nw={prefix:"fas",iconName:"angle-left",icon:[320,512,[8249],"f104","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},$w={prefix:"fas",iconName:"briefcase",icon:[512,512,[128188],"f0b1","M184 48l144 0c4.4 0 8 3.6 8 8l0 40L176 96l0-40c0-4.4 3.6-8 8-8zm-56 8l0 40L64 96C28.7 96 0 124.7 0 160l0 96 192 0 128 0 192 0 0-96c0-35.3-28.7-64-64-64l-64 0 0-40c0-30.9-25.1-56-56-56L184 0c-30.9 0-56 25.1-56 56zM512 288l-192 0 0 32c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32l0-32L0 288 0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-128z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const up={prefix:"far",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8l0-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5l0 3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20-.1-.1s0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5l0 3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2l0-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"]},Fw={prefix:"far",iconName:"comment",icon:[512,512,[128489,61669],"f075","M123.6 391.3c12.9-9.4 29.6-11.8 44.6-6.4c26.5 9.6 56.2 15.1 87.8 15.1c124.7 0 208-80.5 208-160s-83.3-160-208-160S48 160.5 48 240c0 32 12.4 62.8 35.7 89.2c8.6 9.7 12.8 22.5 11.8 35.5c-1.4 18.1-5.7 34.7-11.3 49.4c17-7.9 31.1-16.7 39.4-22.7zM21.2 431.9c1.8-2.7 3.5-5.4 5.1-8.1c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208s-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6c-15.1 6.6-32.3 12.6-50.1 16.1c-.8 .2-1.6 .3-2.4 .5c-4.4 .8-8.7 1.5-13.2 1.9c-.2 0-.5 .1-.7 .1c-5.1 .5-10.2 .8-15.3 .8c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c4.1-4.2 7.8-8.7 11.3-13.5c1.7-2.3 3.3-4.6 4.8-6.9l.3-.5z"]},dp={prefix:"far",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32l0 19.2C119 66 64 130.6 64 208l0 25.4c0 45.4-15.5 89.5-43.8 124.9L5.3 377c-5.8 7.2-6.9 17.1-2.9 25.4S14.8 416 24 416l400 0c9.2 0 17.6-5.3 21.6-13.6s2.9-18.2-2.9-25.4l-14.9-18.6C399.5 322.9 384 278.8 384 233.4l0-25.4c0-77.4-55-142-128-156.8L256 32c0-17.7-14.3-32-32-32zm0 96c61.9 0 112 50.1 112 112l0 25.4c0 47.9 13.9 94.6 39.7 134.6L72.3 368C98.1 328 112 281.3 112 233.4l0-25.4c0-61.9 50.1-112 112-112zm64 352l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7s18.7-28.3 18.7-45.3z"]},fp={prefix:"far",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M400 255.4l0-15.4 0-32c0-8.8-7.2-16-16-16l-32 0-16 0-46.5 0c-50.9 0-93.9 33.5-108.3 79.6c-3.3-9.4-5.2-19.8-5.2-31.6c0-61.9 50.1-112 112-112l48 0 16 0 32 0c8.8 0 16-7.2 16-16l0-32 0-15.4L506 160 400 255.4zM336 240l16 0 0 48c0 17.7 14.3 32 32 32l3.7 0c7.9 0 15.5-2.9 21.4-8.2l139-125.1c7.6-6.8 11.9-16.5 11.9-26.7s-4.3-19.9-11.9-26.7L409.9 8.9C403.5 3.2 395.3 0 386.7 0C367.5 0 352 15.5 352 34.7L352 80l-16 0-32 0-16 0c-88.4 0-160 71.6-160 160c0 60.4 34.6 99.1 63.9 120.9c5.9 4.4 11.5 8.1 16.7 11.2c4.4 2.7 8.5 4.9 11.9 6.6c3.4 1.7 6.2 3 8.2 3.9c2.2 1 4.6 1.4 7.1 1.4l2.5 0c9.8 0 17.8-8 17.8-17.8c0-7.8-5.3-14.7-11.6-19.5c0 0 0 0 0 0c-.4-.3-.7-.5-1.1-.8c-1.7-1.1-3.4-2.5-5-4.1c-.8-.8-1.7-1.6-2.5-2.6s-1.6-1.9-2.4-2.9c-1.8-2.5-3.5-5.3-5-8.5c-2.6-6-4.3-13.3-4.3-22.4c0-36.1 29.3-65.5 65.5-65.5l14.5 0 32 0zM72 32C32.2 32 0 64.2 0 104L0 440c0 39.8 32.2 72 72 72l336 0c39.8 0 72-32.2 72-72l0-64c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 64c0 13.3-10.7 24-24 24L72 464c-13.3 0-24-10.7-24-24l0-336c0-13.3 10.7-24 24-24l64 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L72 32z"]};var Uw=ee('<span class="text svelte-hxgolk"> </span>'),qw=ee('<span class="count svelte-hxgolk"> </span>'),zw=ee('<button><span class="icon-container svelte-hxgolk"><!></span> <!> <!></button>');function En(t,e){Je(e,!1);const r=H();let n=ne(e,"type",8),s=ne(e,"active",8,!1),i=ne(e,"count",8,void 0),a=ne(e,"showText",8,!0),o=ne(e,"iconSize",8,void 0),l=ne(e,"loading",8,!1);const c={like:{active:op,inactive:up},share:{active:cp,inactive:fp},follow:{active:lp,inactive:dp}},d={like:{active:"Liked",inactive:"Like"},share:{active:"Shared",inactive:"Share"},follow:{active:"Following",inactive:"Follow"}};let f=H(s()),h=H(!1);bt(()=>(p(f),Ci(s()),Ci(n())),()=>{p(f)&&!s()&&n()==="like"&&(j(h,!0),setTimeout(()=>{j(h,!1)},500)),j(f,s())}),bt(()=>(Ci(s()),Ci(n())),()=>{j(r,s()?`btn-${n()==="follow"?"followed":`${n()}d`}`:"")}),On();var g=zw(),y=x(g),b=x(y);{var _=T=>{var O=Ar(),I=Ze(O);{var z=D=>{const B=ye(()=>o()||"sm");tt(D,{get icon(){return c.like.active},get size(){return p(B)}})},V=D=>{const B=ye(()=>o()||"sm");tt(D,{get icon(){return c.like.inactive},get size(){return p(B)}})};ie(I,D=>{s()?D(z):D(V,!1)})}K(T,O)},A=(T,O)=>{{var I=V=>{var D=Ar(),B=Ze(D);{var M=W=>{const Y=ye(()=>o()||"sm");tt(W,{get icon(){return c.follow.active},get size(){return p(Y)}})},F=W=>{const Y=ye(()=>o()||"sm");tt(W,{get icon(){return c.follow.inactive},get size(){return p(Y)}})};ie(B,W=>{s()?W(M):W(F,!1)})}K(V,D)},z=(V,D)=>{{var B=M=>{var F=Ar(),W=Ze(F);{var Y=X=>{const pe=ye(()=>o()||"sm");tt(X,{get icon(){return c.share.active},get size(){return p(pe)}})},Q=X=>{const pe=ye(()=>o()||"sm");tt(X,{get icon(){return c.share.inactive},get size(){return p(pe)}})};ie(W,X=>{s()?X(Y):X(Q,!1)})}K(M,F)};ie(V,M=>{n()==="share"&&M(B)},D)}};ie(T,V=>{n()==="follow"?V(I):V(z,!1)},O)}};ie(b,T=>{n()==="like"?T(_):T(A,!1)})}var C=N(y,2);{var P=T=>{var O=Uw(),I=x(O);_e(()=>fe(I,d[n()][s()?"active":"inactive"])),K(T,O)};ie(C,T=>{a()!==!1&&T(P)})}var w=N(C,2);{var k=T=>{var O=qw(),I=x(O);_e(()=>fe(I,i())),K(T,O)};ie(w,T=>{i()!==void 0&&T(k)})}_e(()=>{he(g,1,`interaction-btn ${(s()?"active":"")??""} ${n()??""}-btn ${(p(h)?"unlike-animation":"")??""} ${(l()?"loading":"")??""}`,"svelte-hxgolk"),Ye(g,"aria-label",`${n()??""} ${(s()?"active":"inactive")??""}`),g.disabled=l()}),de("click",g,function(T){Ug.call(this,e,T)}),K(t,g),Ge()}var Bw=ee('<div class="loading-state svelte-zb2l74">Loading projects...</div>'),Vw=ee('<div class="error-state svelte-zb2l74"> </div>'),Ww=ee('<div class="like-count svelte-zb2l74"> </div>'),Jw=ee('<div class="slider-slide svelte-zb2l74"><div class="completed-project-impact svelte-zb2l74"><div class="impact-container svelte-zb2l74"><!></div></div></div>'),Gw=ee('<p class="extra-content-title svelte-zb2l74"> </p>'),Hw=ee('<div class="slider-slide svelte-zb2l74"><div class="completed-project-extra svelte-zb2l74"><!> <!></div></div>'),Yw=ee('<button aria-label="Go to slide 2"></button>'),Kw=ee("<button></button>"),Qw=ee('<div class="slider-controls svelte-zb2l74"><div class="slider-links svelte-zb2l74"><div class="slider-back svelte-zb2l74"><a href="#back" class="slider-back-link svelte-zb2l74" aria-label="Go to previous slide"><span class="link-arrow svelte-zb2l74">&lt;</span><span class="link-text svelte-zb2l74">Back</span></a></div> <div class="slider-forward svelte-zb2l74"><a href="#next" class="slider-link svelte-zb2l74" aria-label="Go to next slide"><span class="link-text svelte-zb2l74"> </span><span class="link-arrow svelte-zb2l74"> </span></a></div></div> <div class="slider-nav svelte-zb2l74"><button aria-label="Go to slide 1"></button> <!> <!></div></div>'),Xw=ee('<span class="completed-project-tool svelte-zb2l74"> </span>'),Zw=ee('<div class="completed-project-card svelte-zb2l74"><div class="completed-project-header svelte-zb2l74"><div class="completed-project-header-left svelte-zb2l74"><div class="dual-pill-label svelte-zb2l74"><span class="beneficiary-side svelte-zb2l74"><!> </span> <span> </span></div> <div class="completed-project-title svelte-zb2l74"> </div></div> <div class="completed-project-icon svelte-zb2l74"><!> <!> </div></div> <div class="completed-project-content svelte-zb2l74"><div class="completed-project-left-column svelte-zb2l74"><div class="slider-outer-container svelte-zb2l74"><button class="slider-arrow-button slider-arrow-left outside-positioned svelte-zb2l74" aria-label="Previous slide"><!></button> <div class="completed-project-slider-wrapper svelte-zb2l74"><div class="completed-project-slider svelte-zb2l74"><div class="slider-container svelte-zb2l74"><div class="slider-track svelte-zb2l74"><div class="slider-slide svelte-zb2l74"><div class="completed-project-description svelte-zb2l74"><!></div></div> <!> <!></div> <!></div></div></div> <button class="slider-arrow-button slider-arrow-right outside-positioned svelte-zb2l74" aria-label="Next slide"><!></button></div></div> <div class="completed-project-image-column svelte-zb2l74"><img class="svelte-zb2l74"></div></div> <div class="completed-project-tools svelte-zb2l74"></div></div>'),e1=ee('<div id="completed-projects" class="completed-projects svelte-zb2l74"><!></div>');function t1(t,e){Je(e,!1);const r=H();let n=H([]),s=H(!0),i=H(null),a=H({likes:{},follows:{},userEmail:void 0,initialized:!1});rt(()=>{const M=sp(Y=>{j(a,Y)});async function F(){try{const{data:Y,error:Q}=await ce.from("projects").select("*").eq("status","completed").eq("show",!0).order("order",{ascending:!1});if(Q)throw Q;j(n,Y.map(X=>({...X,launchDate:X.launchDate?new Date(X.launchDate):null,impact:typeof X.impact=="string"?X.impact==="true":!!X.impact}))),p(n).forEach(X=>{Ve(o,p(o)[X.id]=0)}),j(s,!1)}catch(Y){console.error("Error loading projects:",Y),j(i,Y instanceof Error?Y.message:"Failed to load projects"),j(s,!1)}}F(),document.fonts.ready.then(()=>{console.log("Fonts loaded"),_()});const W=()=>{_()};return window.addEventListener("resize",W),()=>{window.removeEventListener("resize",W),M()}});let o=H({}),l=0,c=0,d=H({}),f=H({}),h=H({});function g(M){l=M.touches[0].clientX}function y(M){c=M.touches[0].clientX}function b(M,F){const Y=c-l;Math.abs(Y)>50&&(Y>0?T(M):k(M,F)),l=0,c=0}function _(){p(n).forEach(M=>{const F=p(d)[M.id],W=p(f)[M.id],Y=p(h)[M.id];if(F&&W&&Y){const Q=F.getBoundingClientRect(),X=Q.top+Q.height/2,pe=F.closest(".slider-outer-container");if(pe){const be=pe.getBoundingClientRect(),$=X-be.top;W.style.top=`${$}px`,W.style.transform="translateY(-50%)",Y.style.top=`${$}px`,Y.style.transform="translateY(-50%)"}}})}Ki(()=>{_()});function A(M){return M.split(`

`).map(F=>`<p>${F}</p>`).join("")}function C(M){return M.impact===!0}function P(M){let F=1;return C(M)&&F++,M.extraContent&&F++,F}function w(M,F){Ve(o,p(o)[M]=F)}function k(M,F){const W=P(F);p(o)[M]<W-1&&Ve(o,p(o)[M]++)}function T(M){p(o)[M]>0&&Ve(o,p(o)[M]--)}function O(M,F){return F===0?{main:(M.linkText||"See more").replace(/\s+>$/,""),arrow:">"}:{main:(M.extraContentLinkText||"Next").replace(/\s+>$/,""),arrow:">"}}function I(M){var Y;const F=p(n).find(Q=>Q.id===M);if(!F)return;const W=((Y=p(a))==null?void 0:Y.likes[`${Lt.PROJECT}:${M}`])||!1;F.likes!==void 0?F.likes=W?Math.max(0,F.likes-1):F.likes+1:W||(F.likes=1),j(n,[...p(n)]),ap(Lt.PROJECT,M)}bt(()=>(p(n),p(a),Lt),()=>{j(r,p(n).reduce((M,F)=>{var W;return M[F.id]=((W=p(a))==null?void 0:W.likes[`${Lt.PROJECT}:${F.id}`])||!1,M},{}))}),On(),Qe();var z=e1(),V=x(z);{var D=M=>{var F=Bw();K(M,F)},B=(M,F)=>{{var W=Q=>{var X=Vw(),pe=x(X);_e(()=>fe(pe,`Error: ${p(i)??""}`)),K(Q,X)},Y=Q=>{var X=Ar(),pe=Ze(X);Bs(pe,1,()=>p(n),be=>be.id,(be,$)=>{var De=Zw(),Z=x(De),u=x(Z),m=x(u),v=x(m),E=x(v);{var S=ke=>{tt(ke,{icon:["fas","person"],size:"sm"})},R=(ke,Pe)=>{{var dt=ft=>{tt(ft,{icon:["fas","house-chimney-window"],size:"sm"})},mt=(ft,Nr)=>{{var Ft=Zt=>{tt(Zt,{icon:["fas","briefcase"],size:"sm"})},an=(Zt,La)=>{{var Ia=yi=>{tt(yi,{icon:["fas","tree-city"],size:"sm"})};ie(Zt,yi=>{p($).beneficiary==="community"&&yi(Ia)},La)}};ie(ft,Zt=>{p($).beneficiary==="work/business"?Zt(Ft):Zt(an,!1)},Nr)}};ie(ke,ft=>{p($).beneficiary==="household"?ft(dt):ft(mt,!1)},Pe)}};ie(E,ke=>{p($).beneficiary==="personal"?ke(S):ke(R,!1)})}var L=N(E),U=N(v,2),G=x(U),ae=N(m,2),te=x(ae),we=N(u,2),oe=x(we);En(oe,{type:"like",get active(){return p(r)[p($).id]},count:void 0,showText:!1,iconSize:"lg",$$events:{click:()=>I(p($).id)}});var Se=N(oe,2);{var Le=ke=>{var Pe=Ww(),dt=x(Pe);_e(()=>fe(dt,`${p($).likes??""} ${(p($).likes===1?"like":"likes")??""}`)),K(ke,Pe)};ie(Se,ke=>{p($).likes&&p($).likes>0&&ke(Le)})}var Ue=N(Se),Ce=N(Z,2),ue=x(Ce),Ee=x(ue),qe=x(Ee),at=x(qe);tt(at,{icon:["fas","angle-left"]}),Xe(qe,(ke,Pe)=>Ve(f,p(f)[Pe.id]=ke),ke=>{var Pe;return(Pe=p(f))==null?void 0:Pe[ke.id]},()=>[p($)]);var Mt=N(qe,2),fr=x(Mt),ut=x(fr),He=x(ut),Nt=x(He),hr=x(Nt),Rr=x(hr);xr(Rr,()=>A(p($).longDescription),!1,!1),Xe(hr,(ke,Pe)=>Ve(d,p(d)[Pe.id]=ke),ke=>{var Pe;return(Pe=p(d))==null?void 0:Pe[ke.id]},()=>[p($)]);var kt=N(Nt,2);{var St=ke=>{var Pe=Jw(),dt=x(Pe),mt=x(dt),ft=x(mt);Ab(ft,{get project(){return p($)}}),_e(Nr=>dn(Pe,`min-width: ${Nr??""}%`),[()=>100/P(p($))],ye),K(ke,Pe)};ie(kt,ke=>{C(p($))&&ke(St)})}var $t=N(kt,2);{var mi=ke=>{var Pe=Hw(),dt=x(Pe),mt=x(dt);{var ft=Ft=>{var an=Gw(),Zt=x(an);_e(()=>fe(Zt,p($).extraContentTitle)),K(Ft,an)};ie(mt,Ft=>{p($).extraContentTitle&&Ft(ft)})}var Nr=N(mt,2);xr(Nr,()=>A(p($).extraContent),!1,!1),_e(Ft=>dn(Pe,`min-width: ${Ft??""}%`),[()=>100/P(p($))],ye),K(ke,Pe)};ie($t,ke=>{p($).extraContent&&ke(mi)})}var Dr=N(He,2);{var Ma=ke=>{var Pe=Qw(),dt=x(Pe),mt=x(dt),ft=x(mt),Nr=N(mt,2),Ft=x(Nr),an=x(Ft),Zt=x(an),La=N(an),Ia=x(La),yi=N(dt,2),ja=x(yi),kc=N(ja,2);{var sm=Et=>{var er=Yw();_e(()=>he(er,1,`slider-dot ${(p(o)[p($).id]===1?"active":"")??""}`,"svelte-zb2l74")),de("click",er,()=>w(p($).id,1)),K(Et,er)};ie(kc,Et=>{C(p($))&&Et(sm)})}var am=N(kc,2);{var om=Et=>{var er=Kw();_e((Ra,lm)=>{he(er,1,`slider-dot ${Ra??""}`,"svelte-zb2l74"),Ye(er,"aria-label",`Go to slide ${lm??""}`)},[()=>p(o)[p($).id]===(C(p($))?2:1)?"active":"",()=>C(p($))?3:2],ye),de("click",er,()=>w(p($).id,C(p($))?2:1)),K(Et,er)};ie(am,Et=>{p($).extraContent&&Et(om)})}_e((Et,er,Ra)=>{dn(mt,`display: ${(p(o)[p($).id]===0?"none":"block")??""}`),dn(Nr,`display: ${Et??""}`),fe(Zt,er),fe(Ia,Ra),he(ja,1,`slider-dot ${(p(o)[p($).id]===0?"active":"")??""}`,"svelte-zb2l74")},[()=>p(o)[p($).id]===P(p($))-1?"none":"block",()=>O(p($),p(o)[p($).id]).main,()=>O(p($),p(o)[p($).id]).arrow],ye),de("click",ft,Ws(()=>T(p($).id))),de("keydown",ft,Et=>Et.key==="Enter"&&T(p($).id)),de("click",Ft,Ws(()=>k(p($).id,p($)))),de("keydown",Ft,Et=>Et.key==="Enter"&&k(p($).id,p($))),de("click",ja,()=>w(p($).id,0)),K(ke,Pe)};ie(Dr,ke=>{P(p($))>1&&ke(Ma)})}var In=N(Mt,2),gi=x(In);tt(gi,{icon:["fas","angle-right"]}),Xe(In,(ke,Pe)=>Ve(h,p(h)[Pe.id]=ke),ke=>{var Pe;return(Pe=p(h))==null?void 0:Pe[ke.id]},()=>[p($)]);var nm=N(ue,2),wc=x(nm),im=N(Ce,2);Bs(im,5,()=>p($).tools,Zf,(ke,Pe)=>{var dt=Xw(),mt=x(dt);_e(()=>fe(mt,p(Pe))),K(ke,dt)}),_e((ke,Pe,dt,mt,ft)=>{Ye(De,"data-project-id",p($).id),fe(L,` ${p($).beneficiary??""}`),he(U,1,`value-side ${p($).value??""}`,"svelte-zb2l74"),fe(G,`↑ ${p($).value??""}`),fe(te,p($).title),fe(Ue,` ${ke??""}`),qe.disabled=p(o)[p($).id]===0,dn(He,`width: ${Pe??""}%; 
                                transform: translateX(-${dt??""}%);`),dn(Nt,`min-width: ${mt??""}%`),In.disabled=ft,Ye(wc,"src",`images/${p($).image??""}`),Ye(wc,"alt",p($).title)},[()=>String(p($).id).padStart(2,"0"),()=>P(p($))*100,()=>p(o)[p($).id]*(100/P(p($))),()=>100/P(p($)),()=>p(o)[p($).id]===P(p($))-1],ye),de("click",qe,()=>T(p($).id)),de("touchstart",ut,g),de("touchmove",ut,y),de("touchend",ut,()=>b(p($).id,p($))),de("click",In,()=>k(p($).id,p($))),K(be,De)}),K(Q,X)};ie(M,Q=>{p(i)?Q(W):Q(Y,!1)},F)}};ie(V,M=>{p(s)?M(D):M(B,!1)})}K(t,z),Ge()}const hp={title:"Wendy Ham's Weekend Projects",description:"Experiments in creating bespoke 'software for one' using AI tools. A look into the rising accessibility of hyperpersonal software for supercharging life tasks.",image:"/images/og-image.png",type:"website",twitterCard:"summary_large_image",canonicalUrl:"https://xnham.com/"},ic=Ul(hp);function pi(t){ic.update(e=>({...e,...t}))}function r1(){ic.set(hp)}var n1=ee('<section class="container"><!></section> <section class="container"><!></section>',1);function i1(t,e){Je(e,!1),rt(()=>{pi({title:"Wendy Ham's Weekend Projects",description:"Experiments in creating bespoke 'software for one' using AI tools. A look into the rising accessibility of hyperpersonal software for supercharging life tasks.",canonicalUrl:"https://xnham.com/"})}),Qe();var r=n1(),n=Ze(r),s=x(n);ey(s,{});var i=N(n,2),a=x(i);t1(a,{}),K(t,r),Ge()}var s1=ee('<div class="loading-state svelte-zxwqg0">Loading projects...</div>'),a1=ee('<div class="error-state svelte-zxwqg0"> </div>'),o1=ee('<div class="inline-notification svelte-zxwqg0" role="status"><div class="notification-content svelte-zxwqg0"><!> <span class="svelte-zxwqg0"> </span></div> <button class="dismiss-notification svelte-zxwqg0" aria-label="Dismiss notification">&times;</button></div>'),l1=ee('<div class="future-project-card svelte-zxwqg0"><div class="future-project-card-header svelte-zxwqg0"><div class="dual-pill-label svelte-zxwqg0"><span class="beneficiary-side svelte-zxwqg0"><!> </span> <span> </span></div></div> <h3 class="future-project-card-title svelte-zxwqg0"> </h3> <div class="future-project-card-details svelte-zxwqg0"><!></div> <div class="future-project-card-actions svelte-zxwqg0"><div class="future-project-buttons svelte-zxwqg0"><!> <!> <button class="future-project-comment-button svelte-zxwqg0" aria-label="Comment on this project"><!> <span class="svelte-zxwqg0">Comment</span></button></div> <div class="future-project-counters svelte-zxwqg0"> </div></div> <!></div>'),c1=ee('<div class="future-project-modal svelte-zxwqg0"><div class="future-project-modal-content svelte-zxwqg0"><button class="future-project-close-modal svelte-zxwqg0" aria-label="Close modal">&times;</button> <div class="future-project-modal-inner-content svelte-zxwqg0"><h3 class="future-project-modal-title svelte-zxwqg0">Get updates about your favorite projects</h3> <div class="future-project-form-and-button svelte-zxwqg0"><div class="future-project-form-group svelte-zxwqg0"><form class="svelte-zxwqg0"><input type="email" placeholder="Your email address" required class="follow-email-input svelte-zxwqg0"> <button type="submit" class="modal-action-btn svelte-zxwqg0"> </button></form></div> <p class="future-project-privacy-note svelte-zxwqg0">Low volume. Unsubscribe anytime.</p></div></div></div></div>'),u1=ee('<div class="future-projects svelte-zxwqg0" id="projectList"><!></div> <!>',1);function d1(t,e){Je(e,!1);const r=H(),n=H();let s=H([]),i=H(!0),a=H(null),o=H({}),l=H(!1),c=null,d=H(""),f=H(!1),h=H({likes:{},follows:{},userEmail:void 0,initialized:!1});Ki(()=>{p(h).initialized&&console.log("Interaction state initialized:",{likes:p(h).likes,follows:p(h).follows,likedStatus:p(r),followStatus:p(n)})}),rt(()=>{async function M(){try{console.log("Starting to fetch projects from Supabase...");const{data:W,error:Y}=await ce.from("projects").select("*").eq("status","future").eq("show",!0).order("order",{ascending:!0});if(console.log("Supabase query result:",{data:W,fetchError:Y}),Y)throw Y;j(s,W||[]),console.log("Projects loaded:",p(s).length),console.log("Projects loaded:",p(s)),setTimeout(()=>{console.log("Current interaction state:",{initialized:p(h).initialized,likes:p(h).likes,follows:p(h).follows})},1e3),j(i,!1)}catch(W){console.error("Error loading projects:",W),j(a,W instanceof Error?W.message:"Failed to load projects"),j(i,!1)}}M();const F=sp(W=>{console.log("Interaction state updated:",W),j(h,{...W,initialized:!0}),console.log("Derived like status:",p(r)),console.log("Derived follow status:",p(n))});return()=>{F()}});function g(M){const F=p(r)[M];ap(Lt.PROJECT,M),j(s,p(s).map(W=>W.id===M?{...W,likes:W.likes+(F?-1:1)}:W))}function y(M){const F=p(s).find(W=>W.id===M);return F?F.title:"this project"}async function b(M){try{const F=p(n)[M],W=!F;j(s,p(s).map(Q=>Q.id===M?{...Q,follows:Q.follows+(F?-1:1)}:Q)),A(M,W?`You are now following ${y(M)}.`:`You have unfollowed ${y(M)}.`);const Y=await Tu(Lt.PROJECT,M);Y.needsEmail?(C(M),j(l,!0),c=M,j(s,p(s).map(Q=>Q.id===M?{...Q,follows:Q.follows-1}:Q))):Y.success||(j(s,p(s).map(Q=>Q.id===M?{...Q,follows:Q.follows+(W?-1:1)}:Q)),A(M,"Sorry, we couldn't update your follow status. Please try again."))}catch(F){console.error("Failed to toggle follow:",F),A(M,"An error occurred. Please try again.")}}async function _(){if(c)try{if(j(f,!0),!p(d)||!p(d).includes("@"))return;if((await Tu(Lt.PROJECT,c,p(d))).success){const F=y(c),W=c;j(s,p(s).map(Y=>Y.id===W?{...Y,follows:Y.follows+1}:Y)),j(l,!1),c=null,setTimeout(()=>{A(W,`You are now following ${F}.`)},100)}}catch(M){console.error("Failed to submit email:",M)}finally{j(f,!1)}}function A(M,F){var W;(W=p(o)[M])!=null&&W.timer&&clearTimeout(p(o)[M].timer),Ve(o,p(o)[M]={projectId:M,message:F,timer:setTimeout(()=>{C(M)},2500)}),j(o,{...p(o)})}function C(M){p(o)[M]&&(p(o)[M].timer&&clearTimeout(p(o)[M].timer),delete p(o)[M],j(o,{...p(o)}))}function P(M,F){return M===0&&F===0?"":M>0&&F===0?`${M} ${M===1?"like":"likes"}`:M===0&&F>0?`${F} ${F===1?"follower":"followers"}`:`${M} ${M===1?"like":"likes"} & ${F} ${F===1?"follower":"followers"}`}function w(M){console.log("Comment clicked for project:",M)}function k(M){M.focus()}bt(()=>(p(s),p(h),Lt),()=>{j(r,p(s).reduce((M,F)=>{var W;return M[F.id]=((W=p(h))==null?void 0:W.likes[`${Lt.PROJECT}:${F.id}`])||!1,M},{}))}),bt(()=>(p(s),p(h),Lt),()=>{j(n,p(s).reduce((M,F)=>{var W;return M[F.id]=((W=p(h))==null?void 0:W.follows[`${Lt.PROJECT}:${F.id}`])||!1,M},{}))}),On(),Qe();var T=u1(),O=Ze(T),I=x(O);{var z=M=>{var F=s1();K(M,F)},V=(M,F)=>{{var W=Q=>{var X=a1(),pe=x(X);_e(()=>fe(pe,`Error: ${p(a)??""}`)),K(Q,X)},Y=Q=>{var X=Ar(),pe=Ze(X);Bs(pe,1,()=>p(s),be=>be.id,(be,$)=>{var De=l1(),Z=x(De),u=x(Z),m=x(u),v=x(m);{var E=He=>{tt(He,{icon:["fas","person"],size:"sm"})},S=(He,Nt)=>{{var hr=kt=>{tt(kt,{icon:["fas","house-chimney-window"],size:"sm"})},Rr=(kt,St)=>{{var $t=Dr=>{tt(Dr,{icon:["fas","briefcase"],size:"sm"})},mi=(Dr,Ma)=>{{var In=gi=>{tt(gi,{icon:["fas","tree-city"],size:"sm"})};ie(Dr,gi=>{p($).beneficiary==="community"&&gi(In)},Ma)}};ie(kt,Dr=>{p($).beneficiary==="work/business"?Dr($t):Dr(mi,!1)},St)}};ie(He,kt=>{p($).beneficiary==="household"?kt(hr):kt(Rr,!1)},Nt)}};ie(v,He=>{p($).beneficiary==="personal"?He(E):He(S,!1)})}var R=N(v),L=N(m,2),U=x(L),G=N(Z,2),ae=x(G),te=N(G,2),we=x(te);xr(we,()=>p($).longDescription,!1,!1);var oe=N(te,2),Se=x(oe),Le=x(Se);const Ue=ye(()=>!p(h).initialized);En(Le,{type:"like",get active(){return p(r)[p($).id]},count:void 0,iconSize:"sm",get loading(){return p(Ue)},$$events:{click:()=>g(p($).id)}});var Ce=N(Le,2);const ue=ye(()=>!p(h).initialized);En(Ce,{type:"follow",get active(){return p(n)[p($).id]},count:void 0,iconSize:"sm",get loading(){return p(ue)},$$events:{click:()=>b(p($).id)}});var Ee=N(Ce,2),qe=x(Ee);tt(qe,{icon:["far","comment"]});var at=N(Se,2),Mt=x(at),fr=N(oe,2);{var ut=He=>{var Nt=o1(),hr=x(Nt),Rr=x(hr);tt(Rr,{icon:["fas","info-circle"]});var kt=N(Rr,2),St=x(kt),$t=N(hr,2);_e(()=>fe(St,p(o)[p($).id].message)),de("click",$t,()=>C(p($).id)),K(He,Nt)};ie(fr,He=>{p(o)[p($).id]&&He(ut)})}_e(He=>{fe(R,` ${p($).beneficiary??""}`),he(L,1,`value-side ${p($).value??""}`,"svelte-zxwqg0"),fe(U,`↑ ${p($).value??""}`),fe(ae,p($).title),fe(Mt,He)},[()=>P(p($).likes,p($).follows)],ye),de("click",Ee,()=>w(p($).id)),K(be,De)}),K(Q,X)};ie(M,Q=>{p(a)?Q(W):Q(Y,!1)},F)}};ie(I,M=>{p(i)?M(z):M(V,!1)})}var D=N(O,2);{var B=M=>{var F=c1(),W=x(F),Y=x(W),Q=N(Y,2),X=N(x(Q),2),pe=x(X),be=x(pe),$=x(be);di(()=>As($,()=>p(d),u=>j(d,u))),xg($,u=>k==null?void 0:k(u));var De=N($,2),Z=x(De);_e(()=>{De.disabled=p(f)||!p(d),fe(Z,p(f)?"Subscribing...":"Subscribe to updates")}),de("click",Y,()=>j(l,!1)),de("submit",be,Ws(_)),K(M,F)};ie(D,M=>{p(l)&&M(B)})}K(t,T),Ge()}var f1=ee('<div class="container"><h2 class="small-bottom-margin">Tell Me What to Build <span class="purple">Next.</span></h2> <div class="future-project-intro svelte-1oapx03"><p class="svelte-1oapx03">Like the projects that resonate with you. Follow the ones you want access to.</p> <p class="svelte-1oapx03">If you have your own project idea, how about having a chat with <a href="/mr-benedict" class="svelte-1oapx03">Mr. Benedict</a>, my gentle robot? It will help you figure out how to best build it.</p></div> <!></div>');function h1(t,e){Je(e,!1),rt(()=>{pi({title:"Next | Wendy Ham's Weekend Projects",description:"Have a say in what I build next. Like the projects that resonate with you and follow the ones you want access to.",type:"website",canonicalUrl:"https://xnham.com/next"})}),Qe();var r=f1(),n=N(x(r),4);d1(n,{}),K(t,r),Ge()}const p1=(t,e,r)=>{const n=t[e];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((s,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})};async function v1(t){try{const{data:e,error:r}=await ce.from("essays").select(`
        id, title, description, date, published, excerpt, slug,
        like_count, share_count, view_count
      `).eq("slug",t).single();if(r)throw r;const n=await p1(Object.assign({"../content/essays/bye-bye-subscriptions.md":()=>ot(()=>import("./bye-bye-subscriptions-NQtEV5bI.js"),[]),"../content/essays/coding-background.md":()=>ot(()=>import("./coding-background-D8BpTWQV.js"),[]),"../content/essays/dumb-software.md":()=>ot(()=>import("./dumb-software-BExB8I5P.js"),[]),"../content/essays/growth-kills.md":()=>ot(()=>import("./growth-kills-D4-pGFJ0.js"),[]),"../content/essays/software-for-one.md":()=>ot(()=>import("./software-for-one-Babv4504.js"),[]),"../content/essays/software-should-be-small.md":()=>ot(()=>import("./software-should-be-small-BX9Kwd9J.js"),[]),"../content/essays/the-last-mile.md":()=>ot(()=>import("./the-last-mile-Bxs-mAu9.js"),[]),"../content/essays/the-value-of-taste-in-AI-age.md":()=>ot(()=>import("./the-value-of-taste-in-AI-age-CfW5R02O.js"),[]),"../content/essays/vibe-coding.md":()=>ot(()=>import("./vibe-coding-ClXyxz98.js"),[]),"../content/essays/vitamins-vs-painkillers.md":()=>ot(()=>import("./vitamins-vs-painkillers-CJuOUr33.js"),[])}),`../content/essays/${t}.md`,4),s={id:e.id,title:e.title,description:e.description,date:e.date,slug:e.slug,published:e.published,excerpt:e.excerpt||void 0,like_count:e.like_count,share_count:e.share_count,view_count:e.view_count};return{content:n.default,metadata:s,error:null}}catch(e){return console.error(`Could not find essay ${t}`,e),{content:null,metadata:null,error:`Could not find essay ${t}`}}}async function m1(){try{const{data:t,error:e}=await ce.from("essays").select(`
        id, title, description, date, published, excerpt, slug,
        like_count, share_count, view_count
      `).eq("published",!0).order("date",{ascending:!1});if(e)throw e;return t.map(r=>({id:r.id,title:r.title,description:r.description,date:r.date,slug:r.slug,published:r.published,excerpt:r.excerpt||void 0,like_count:r.like_count,share_count:r.share_count,view_count:r.view_count}))}catch(t){return console.error("Error loading essays:",t),[]}}const g1=t=>t;function y1(t){const e=t-1;return e*e*e+1}function sc(t,{delay:e=0,duration:r=400,easing:n=g1}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:n,css:i=>`opacity: ${i*s}`}}function _1(t,{delay:e=0,duration:r=400,easing:n=y1,start:s=0,opacity:i=0}={}){const a=getComputedStyle(t),o=+a.opacity,l=a.transform==="none"?"":a.transform,c=1-s,d=o*(1-i);return{delay:e,duration:r,easing:n,css:(f,h)=>`
			transform: ${l} scale(${1-c*h});
			opacity: ${o-d*h}
		`}}const nt=[];for(let t=0;t<256;++t)nt.push((t+256).toString(16).slice(1));function b1(t,e=0){return(nt[t[e+0]]+nt[t[e+1]]+nt[t[e+2]]+nt[t[e+3]]+"-"+nt[t[e+4]]+nt[t[e+5]]+"-"+nt[t[e+6]]+nt[t[e+7]]+"-"+nt[t[e+8]]+nt[t[e+9]]+"-"+nt[t[e+10]]+nt[t[e+11]]+nt[t[e+12]]+nt[t[e+13]]+nt[t[e+14]]+nt[t[e+15]]).toLowerCase()}let Xa;const w1=new Uint8Array(16);function k1(){if(!Xa){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Xa=crypto.getRandomValues.bind(crypto)}return Xa(w1)}const S1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Au={randomUUID:S1};function E1(t,e,r){var s;if(Au.randomUUID&&!t)return Au.randomUUID();t=t||{};const n=t.random??((s=t.rng)==null?void 0:s.call(t))??k1();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,b1(n)}var Qo=(t=>(t.ESSAY="essay",t))(Qo||{});const _n=Ul({likes:{},shares:{},views:{}}),Pu="device_id";async function Sa(){let t=localStorage.getItem(Pu);return t||(t=E1(),localStorage.setItem(Pu,t)),t}async function C1(){const t=await Sa();await Ea(t)}async function Ea(t){try{const{data:e,error:r}=await ce.from("essay_interactions").select("essay_id, has_liked, share_count, has_viewed").eq("device_id",t);if(r)throw r;const n={likes:{},shares:{},views:{}};e&&e.forEach(s=>{const i=`essay:${s.essay_id}`;n.likes[i]=s.has_liked,n.shares[i]=s.share_count||0,n.views[i]=s.has_viewed}),_n.set(n)}catch(e){console.error("Failed to refresh interaction state:",e)}}function pp(t){return _n.subscribe(t)}async function vp(t){const e=await Sa(),r=`essay:${t}`,s=!!wn(_n).likes[r];_n.update(i=>({...i,likes:{...i.likes,[r]:!s}}));try{const{data:i,error:a}=await ce.from("essay_interactions").select("id, has_liked").eq("device_id",e).eq("essay_id",t).single();if(a&&a.code!=="PGRST116")throw a;const o=!s;if(i){const{error:d}=await ce.from("essay_interactions").update({has_liked:o,updated_at:new Date().toISOString()}).eq("id",i.id);if(d)throw d}else{const{error:d}=await ce.from("essay_interactions").insert({device_id:e,essay_id:t,has_liked:o,share_count:0,has_viewed:!0});if(d)throw d}const l=o?1:-1,{error:c}=await ce.rpc("increment_essay_like_count",{essay_id:t,increment_by:l}).single();if(c){const{data:d,error:f}=await ce.from("essays").select("like_count").eq("id",t).single();if(f)throw f;const h=Math.max(0,(d.like_count||0)+l),{error:g}=await ce.from("essays").update({like_count:h}).eq("id",t);if(g)throw g}await Ea(e)}catch(i){throw console.error("Error toggling like:",i),_n.update(a=>({...a,likes:{...a.likes,[r]:s}})),i}}async function mp(t){const e=await Sa(),r=`essay:${t}`;_n.update(n=>{const s=n.shares[r]||0;return{...n,shares:{...n.shares,[r]:s+1}}});try{const{data:n,error:s}=await ce.from("essay_interactions").select("id, share_count").eq("device_id",e).eq("essay_id",t).single();if(s&&s.code!=="PGRST116")throw s;if(n){const a=(n.share_count||0)+1,{error:o}=await ce.from("essay_interactions").update({share_count:a,updated_at:new Date().toISOString()}).eq("id",n.id);if(o)throw o}else{const{error:a}=await ce.from("essay_interactions").insert({device_id:e,essay_id:t,has_liked:!1,share_count:1,has_viewed:!0});if(a)throw a}const{error:i}=await ce.rpc("increment_essay_share_count",{essay_id:t,increment_by:1}).single();if(i){const{data:a,error:o}=await ce.from("essays").select("share_count").eq("id",t).single();if(o)throw o;const l=(a.share_count||0)+1,{error:c}=await ce.from("essays").update({share_count:l}).eq("id",t);if(c)throw c}await Ea(e)}catch(n){throw console.error("Error recording share:",n),n}}async function T1(t){const e=await Sa(),r=`essay:${t}`;_n.update(n=>({...n,views:{...n.views,[r]:!0}}));try{const{data:n,error:s}=await ce.from("essay_interactions").select("id").eq("device_id",e).eq("essay_id",t).single();if(s&&s.code!=="PGRST116")throw s;if(n){const{error:a}=await ce.from("essay_interactions").update({has_viewed:!0,updated_at:new Date().toISOString()}).eq("id",n.id);if(a)throw a}else{const{error:a}=await ce.from("essay_interactions").insert({device_id:e,essay_id:t,has_liked:!1,share_count:0,has_viewed:!0});if(a)throw a}const{error:i}=await ce.rpc("increment_essay_view_count",{essay_id:t,increment_by:1}).single();if(i){const{data:a,error:o}=await ce.from("essays").select("view_count").eq("id",t).single();if(o)throw o;const l=(a.view_count||0)+1,{error:c}=await ce.from("essays").update({view_count:l}).eq("id",t);if(c)throw c}await Ea(e)}catch(n){console.error("Error recording view:",n)}}var A1=ee('<div class="copy-feedback svelte-wk6fl"> </div>'),P1=ee('<div class="essay-card svelte-wk6fl"><a class="essay-card-link svelte-wk6fl"><div class="essay-content svelte-wk6fl"><p class="essay-date svelte-wk6fl"> </p> <h3 class="essay-title svelte-wk6fl"> </h3> <p class="essay-description svelte-wk6fl"><!></p> <span class="read-more svelte-wk6fl"><span class="read-more-text svelte-wk6fl">Read more</span> &gt</span></div></a> <div class="essay-interaction-container svelte-wk6fl"><div class="essay-buttons svelte-wk6fl"><!> <div class="share-button-container svelte-wk6fl"><!> <!></div></div> <div class="essay-counters svelte-wk6fl"><!></div></div></div>'),x1=ee('<div class="essays svelte-wk6fl"></div>');function O1(t,e){Je(e,!1);const r=H();let n=H([]),s=H({likes:{},shares:{},views:{}}),i=H(""),a=H(""),o;rt(()=>{m1().then(C=>{j(n,C)});const _=pp(C=>{j(s,C)}),A=C=>{C.key==="Escape"&&(j(i,""),j(a,""))};return window.addEventListener("keydown",A),()=>{_(),window.removeEventListener("keydown",A),o&&clearTimeout(o)}});async function l(_){var A;try{const C=p(n).find(T=>T.id===_);if(!C)return;const P=`${Qo.ESSAY}:${_}`,k=((A=p(s))==null?void 0:A.likes[P])||!1?-1:1;C.like_count=Math.max(0,(C.like_count||0)+k),await vp(_),d(_).catch(T=>{console.error("Error refreshing essay:",T),C&&(C.like_count=Math.max(0,(C.like_count||0)-k))})}catch(C){console.error("Error toggling like:",C)}}async function c(_){try{if(!_.id)return;const A=`${window.location.origin}/writing/${_.slug}`;await navigator.clipboard.writeText(A),_.share_count=(_.share_count||0)+1,j(i,"URL copied to clipboard!"),j(a,_.id),o&&clearTimeout(o),o=setTimeout(()=>{j(i,""),j(a,"")},3e3),await mp(_.id),d(_.id).catch(C=>{console.error("Error refreshing essay:",C),_&&(_.share_count=Math.max(0,(_.share_count||0)-1))})}catch(A){console.error("Error sharing essay:",A),j(i,"Failed to copy URL"),j(a,_.id),o=setTimeout(()=>{j(i,""),j(a,"")},3e3)}}async function d(_){try{const{data:A,error:C}=await ce.from("essays").select("id, like_count, share_count, view_count").eq("id",_).single();if(C)throw C;A&&j(n,p(n).map(P=>P.id===_?{...P,like_count:A.like_count,share_count:A.share_count,view_count:A.view_count}:P))}catch(A){console.error("Failed to refresh essay:",A)}}function f(_){const[A,C,P]=_.split("-"),w=["January","February","March","April","May","June","July","August","September","October","November","December"],k=parseInt(C,10)-1,T=w[k],O=P.startsWith("0")?P.substring(1):P;return`${T} ${O}, ${A}`}function h(_){return _.like_count||0}function g(_){return _.share_count||0}function y(_){const A=h(_),C=g(_);return A===0&&C===0?"":A>0&&C===0?`${A} ${A===1?"like":"likes"}`:A===0&&C>0?`${C} ${C===1?"share":"shares"}`:`${A} ${A===1?"like":"likes"} & ${C} ${C===1?"share":"shares"}`}bt(()=>(p(n),p(s)),()=>{j(r,p(n).reduce((_,A)=>{var P;const C=`${Qo.ESSAY}:${A.id}`;return _[A.id]=((P=p(s))==null?void 0:P.likes[C])||!1,_},{}))}),On(),Qe();var b=x1();Bs(b,5,()=>p(n),Zf,(_,A)=>{var C=P1(),P=x(C),w=x(P),k=x(w),T=x(k),O=N(k,2),I=x(O),z=N(O,2),V=x(z);{var D=Z=>{var u=Li();_e(()=>fe(u,p(A).excerpt)),K(Z,u)},B=Z=>{var u=Li();_e(()=>fe(u,p(A).description)),K(Z,u)};ie(V,Z=>{p(A).excerpt?Z(D):Z(B,!1)})}var M=N(P,2),F=x(M),W=x(F);En(W,{type:"like",get active(){return p(r)[p(A).id]},count:void 0,$$events:{click:()=>l(p(A).id)}});var Y=N(W,2),Q=x(Y);En(Q,{type:"share",active:!1,count:void 0,$$events:{click:Z=>c(p(A))}});var X=N(Q,2);{var pe=Z=>{var u=A1(),m=x(u);_e(()=>fe(m,p(i))),Vs(3,u,()=>sc,()=>({duration:150})),K(Z,u)};ie(X,Z=>{p(i)&&p(a)===p(A).id&&Z(pe)})}var be=N(F,2),$=x(be);{var De=Z=>{var u=Li();_e(m=>fe(u,m),[()=>y(p(A))],ye),K(Z,u)};ie($,Z=>{p(A).id&&Z(De)})}_e(Z=>{Ye(P,"href",`/writing/${p(A).slug??""}`),fe(T,Z),fe(I,p(A).title)},[()=>f(p(A).date)],ye),K(_,C)}),K(t,b),Ge()}var M1=yg(`<script type="application/ld+json">
      {JSON.stringify(articleJsonLd)}
    <\/script><!---->`,1),L1=ee('<div class="loading svelte-11zp4mk">Loading essay...</div>'),I1=ee('<div class="error svelte-11zp4mk"> </div>'),j1=ee('<div class="copy-feedback svelte-11zp4mk"> </div>'),R1=ee('<div class="essay-container svelte-11zp4mk"><div class="essay-header-row svelte-11zp4mk"><p class="essay-date svelte-11zp4mk"> </p> <div class="essay-buttons svelte-11zp4mk"><!> <!> <!></div></div> <h2 class="essay-title svelte-11zp4mk"> </h2> <p class="essay-description svelte-11zp4mk"> </p> <div class="content svelte-11zp4mk"><!></div></div>'),D1=ee('<div class="back-button svelte-11zp4mk">&lt; <a href="/writing" class="svelte-11zp4mk"><span class="link-text svelte-11zp4mk">Back</span></a></div> <a href="/writing"><span class="arrow svelte-11zp4mk">&lt;</span> <span class="floating-link-text svelte-11zp4mk">Back</span></a> <article class="svelte-11zp4mk"><!></article> <div class="essay-stats svelte-11zp4mk"><span class="essay-stat"> </span> <span class="essay-stat"> </span> <span class="essay-stat"> </span></div>',1);function N1(t,e){Je(e,!1);const r=H(),n=H(),s=H(),i=H();let a=ne(e,"slug",8),o=H(null),l=H(null),c=H(null),d=H(!0),f=H(!1),h=H(!1),g=!1,y=H({likes:{},shares:{},views:{}}),b=H(0),_=H(0),A=H(0),C=H(!1),P=H(""),w;rt(()=>{k(),window.addEventListener("scroll",z);const L=pp(U=>{j(y,U)});return()=>{window.removeEventListener("scroll",z),L(),w&&clearTimeout(w)}});async function k(){var L;try{j(d,!0);const U=await v1(a());U.error?j(c,U.error):(j(l,U.metadata),j(o,U.content),(L=p(l))!=null&&L.id&&(await T1(p(l).id),await T()),p(l)&&pi({title:`${p(l).title} | Wendy Ham's Weekend Projects`,description:p(s),image:"/images/og-image.png",type:"article"}))}catch(U){j(c,"Failed to load essay"),console.error("Error loading essay:",U)}finally{j(d,!1)}}async function T(){var L;if((L=p(l))!=null&&L.id)try{const{data:U,error:G}=await ce.from("essays").select("like_count, share_count, view_count").eq("id",p(l).id).single();if(G)throw G;U&&j(l,{...p(l),like_count:U.like_count,share_count:U.share_count,view_count:U.view_count})}catch(U){console.error("Failed to refresh essay counts:",U)}}async function O(){var L,U;if((L=p(l))!=null&&L.id)try{const ae=!p(n)?1:-1;j(b,Math.max(0,p(b)+ae)),j(C,!0),await vp(p(l).id),T().catch(te=>console.error("Error refreshing metadata:",te))}catch(G){console.error("Failed to toggle like:",G),j(b,((U=p(l))==null?void 0:U.like_count)||0),j(C,!1)}}async function I(){var L,U;if((L=p(l))!=null&&L.id)try{await navigator.clipboard.writeText(window.location.href),j(P,"URL copied to clipboard!"),w&&clearTimeout(w),w=setTimeout(()=>{j(P,"")},3e3),j(_,p(_)+1),j(C,!0),await mp(p(l).id),T().catch(G=>console.error("Error refreshing metadata:",G))}catch(G){console.error("Failed to share essay:",G),j(P,"Failed to copy URL"),w=setTimeout(()=>{j(P,"")},3e3),j(_,((U=p(l))==null?void 0:U.share_count)||0),j(C,!1)}}function z(){g||(g=!0,requestAnimationFrame(()=>{const L=window.scrollY;document.documentElement.scrollHeight,j(f,L>300),p(f)&&!p(h)?j(h,!0):!p(f)&&p(h)&&j(h,!1),g=!1}))}function V(L){L.preventDefault(),window.history.pushState({},"","/writing"),window.dispatchEvent(new CustomEvent("spanavigate"))}function D(L){const[U,G,ae]=L.split("-"),te=["January","February","March","April","May","June","July","August","September","October","November","December"],we=parseInt(G,10)-1,oe=te[we],Se=ae.startsWith("0")?ae.substring(1):ae;return`${oe} ${Se}, ${U}`}function B(){var L;return p(C)?p(b):((L=p(l))==null?void 0:L.like_count)||0}function M(){var L;return p(C)?p(_):((L=p(l))==null?void 0:L.share_count)||0}function F(){var L;return p(C)?p(A):((L=p(l))==null?void 0:L.view_count)||0}bt(()=>p(l),()=>{var L;j(r,(L=p(l))!=null&&L.id?`essay:${p(l).id}`:"")}),bt(()=>(p(r),p(y)),()=>{j(n,p(r)?!!p(y).likes[p(r)]:!1)}),bt(()=>p(l),()=>{p(l)&&(j(b,p(l).like_count||0),j(_,p(l).share_count||0),j(A,p(l).view_count||0),j(C,!1))}),bt(()=>p(l),()=>{var L,U,G,ae;j(s,(L=p(l))!=null&&L.description&&((U=p(l))!=null&&U.excerpt)?`${p(l).description} ${p(l).excerpt}`:((G=p(l))==null?void 0:G.description)||((ae=p(l))==null?void 0:ae.excerpt)||"")}),bt(()=>(p(l),p(s)),()=>{j(i,p(l)?{"@context":"https://schema.org","@type":"Article",headline:p(l).title,description:p(s),datePublished:p(l).date,author:{"@id":"#wendyham"},publisher:{"@id":"#wendyham"},mainEntityOfPage:{"@type":"WebPage","@id":typeof window<"u"?window.location.href:""}}:null)}),On(),Qe();var W=D1();Qf(L=>{var U=Ar(),G=Ze(U);{var ae=te=>{var we=M1();N(Ze(we)),K(te,we)};ie(G,te=>{p(i)&&te(ae)})}K(L,U)});var Y=Ze(W),Q=N(x(Y)),X=N(Y,2),pe=N(X,2),be=x(pe);{var $=L=>{var U=L1();K(L,U)},De=(L,U)=>{{var G=te=>{var we=I1(),oe=x(we);_e(()=>fe(oe,p(c))),K(te,we)},ae=(te,we)=>{{var oe=Se=>{var Le=R1(),Ue=x(Le),Ce=x(Ue),ue=x(Ce),Ee=N(Ce,2),qe=x(Ee);En(qe,{type:"like",get active(){return p(n)},count:void 0,$$events:{click:O}});var at=N(qe,2);En(at,{type:"share",active:!1,count:void 0,$$events:{click:I}});var Mt=N(at,2);{var fr=St=>{var $t=j1(),mi=x($t);_e(()=>fe(mi,p(P))),Vs(3,$t,()=>sc,()=>({duration:150})),K(St,$t)};ie(Mt,St=>{p(P)&&St(fr)})}var ut=N(Ue,2),He=x(ut),Nt=N(ut,2),hr=x(Nt),Rr=N(Nt,2),kt=x(Rr);Pg(kt,()=>p(o),(St,$t)=>{$t(St,{})}),_e(St=>{fe(ue,St),fe(He,p(l).title),fe(hr,p(l).description)},[()=>D(p(l).date)],ye),K(Se,Le)};ie(te,Se=>{p(o)&&p(l)&&Se(oe)},we)}};ie(L,te=>{p(c)?te(G):te(ae,!1)},U)}};ie(be,L=>{p(d)?L($):L(De,!1)})}var Z=N(pe,2),u=x(Z),m=x(u),v=N(u,2),E=x(v),S=N(v,2),R=x(S);_e((L,U,G,ae,te,we)=>{he(X,1,`floating-back-button ${(p(h)?"visible":"hidden")??""} ${(p(f)?"":"instant-hide")??""}`,"svelte-11zp4mk"),Ye(X,"aria-hidden",!p(h)),fe(m,`${L??""} ${U??""}`),fe(E,`${G??""} ${ae??""}`),fe(R,`${te??""} ${we??""}`)},[B,()=>B()===1?"like":"likes",M,()=>M()===1?"share":"shares",F,()=>F()===1?"view":"views"],ye),de("click",Q,V),de("click",X,V),K(t,W),Ge()}var $1=ee('<h2 class="small-bottom-margin">Thoughts about <span class="purple">Software.</span></h2> <div class="future-project-intro svelte-ttl5t7"><p>How do our natural behaviors and cognitive patterns uncover opportunities to rethink software design and create tools that <span class="small-font svelte-ttl5t7">quietly</span> complement our lives?</p></div> <!>',1),F1=ee('<main class="container"><!></main>');function U1(t,e){Je(e,!1);let r=H(null);function n(){const f=window.location.pathname.match(/\/writing\/(.+)/);return f?f[1]:null}function s(){j(r,n()),p(r)||pi({title:"Writing | Wendy Ham's Weekend Projects",description:"Thoughts about creating software that quietly complements our lives.",type:"website",canonicalUrl:"https://xnham.com/writing"})}rt(()=>(s(),window.addEventListener("popstate",s),window.addEventListener("urlchange",s),window.addEventListener("spanavigate",s),()=>{window.removeEventListener("popstate",s),window.removeEventListener("urlchange",s),window.removeEventListener("spanavigate",s)}));function i(d){const h=d.target.closest("a");if(h){const g=h.getAttribute("href");g&&g.startsWith("/writing/")&&(d.preventDefault(),history.pushState({},"",g),s())}}Qe();var a=F1();de("click",yo,i);var o=x(a);{var l=d=>{N1(d,{get slug(){return p(r)}})},c=d=>{var f=$1(),h=N(Ze(f),4);O1(h,{}),K(d,f)};ie(o,d=>{p(r)?d(l):d(c,!1)})}K(t,a),Ge()}var q1=ee(`<div class="container"><h2 class="svelte-p0121w">Hi, I'm <span class="purple">Wendy Ham.</span></h2> <div class="about-layout svelte-p0121w"><div class="about-row svelte-p0121w"><div class="about-timeline svelte-p0121w"><p class="svelte-p0121w"><span class="year svelte-p0121w">2024</span> <span class="arrow svelte-p0121w">→</span></p></div> <div class="about-content svelte-p0121w"><p class="svelte-p0121w">Having accumulated a long list of business and personal
          problems, I started using AI tools to build various pieces of '<a href="/writing/software-for-one" class="essay-card-link">software for one</a>' to solve them. <span id="hide" class="svelte-p0121w">Surprised by the meaningful impact they delivered, particularly
            given their simplicity, I felt encouraged to build more hyper-custom
            solutions and uncover the implications of this new style of software
            development.</span></p></div></div> <div class="about-row svelte-p0121w"><div class="about-timeline svelte-p0121w"><p class="svelte-p0121w"><span class="year svelte-p0121w">2015</span> <span class="arrow svelte-p0121w">→</span></p></div> <div class="about-content svelte-p0121w"><p class="svelte-p0121w">I cofounded a SaaS company called <a href="https://www.ocamsclub.com" target="_blank" rel="noopener">Ocams</a>. It was among the early systems for automating video recording and
          delivery for tennis players.</p> <p class="svelte-p0121w">In my interactions with clients, I kept noticing that technology often
          faltered not because of technical shortcomings but because there
          was no interface capable of delivering it smoothly to users with
          complex and diverse behaviors, creating a '<a href="/writing/the-last-mile" class="essay-card-link">last mile</a>' problem. This observation made me feel excited about AI's
          potential to help us build software that adapts to humans, not the
          other way around.</p></div></div> <div class="about-row svelte-p0121w"><div class="about-timeline svelte-p0121w"><p class="svelte-p0121w"><span class="arrow svelte-p0121w">←</span> <span class="year svelte-p0121w">2015</span></p></div> <div class="about-content svelte-p0121w"><p class="svelte-p0121w">Before Ocams, I spent many years in academia, to a large extent due to visa restrictions.</p> <p class="svelte-p0121w">I started out studying molecular biology as an undergraduate at MIT.
          Later, I managed a neurobiology laboratory and helped develop
          case-based medical training simulations at Harvard Medical School. I
          then pursued a PhD at Wharton, where I built computational models to
          study how different choices and attributes help people learn better
          and make more accurate predictions. While at Wharton, I was also introduced to complexity science through a summer program at the Santa Fe Institute.</p> <span id="hide" class="svelte-p0121w"><p class="svelte-p0121w">In grad school, I spent a summer month at the Santa Fe Institute,
          where I was introduced to complexity science. I loved its premise:
          that universal principles can govern systems as different as ant
          colonies, economies, and weather systems. It gave me a new way to look
          past rigid disciplinary boundaries and synthesize insights across
          them.</p></span> <p class="svelte-p0121w">Around 2015, I received my green card, which allowed me to pursue projects outside academia. After years of theoretical work, I was eager to
          create something that delivered value directly to people.
          Tennis happened to be my obsession at the time, and I observed a need
          in the tennis community that prompted me to start Ocams.</p></div></div> <div class="about-row svelte-p0121w"><div class="about-timeline svelte-p0121w"><p class="svelte-p0121w"><span class="arrow svelte-p0121w">←</span> <span class="year svelte-p0121w">all that</span></p></div> <div class="about-content svelte-p0121w"><p class="svelte-p0121w">I grew up in Jakarta, Indonesia.</p></div></div></div></div>`);function z1(t,e){Je(e,!1),rt(()=>{pi({title:"About | Wendy Ham's Weekend Projects",description:"From academia to tennis and software.",type:"profile",canonicalUrl:"https://xnham.com/about"})}),Qe();var r=q1();K(t,r),Ge()}async function B1(t){try{const e={...t,created_at:new Date().toISOString()},{data:r,error:n}=await ce.from("contact_submissions").insert(e);if(n)throw n;const s=new FormData;s.append("name",t.name),s.append("email",t.email),s.append("message",t.message),s.append("_subject","New Contact Form Submission"),s.append("_replyto",t.email),s.append("_captcha","false");const i=await fetch("https://formsubmit.co/296313ad9901bdf7df20d9e5275fdf95",{method:"POST",body:s,headers:{Accept:"application/json"}});if(!i.ok)throw console.error("FormSubmit API error:",await i.text()),new Error("Failed to send email notification");return{success:!0,data:r}}catch(e){return console.error("Error submitting contact form:",e),{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}}var V1=ee('<div class="success-message svelte-jq7c4j"><p>Thank you for your getting in touch. Talk to you soon!</p></div>'),W1=ee('<div class="validation-message svelte-jq7c4j">Please enter a valid email address</div>'),J1=ee('<div class="form-group svelte-jq7c4j"><label for="name" class="svelte-jq7c4j">Name</label> <input type="text" id="name" required class="svelte-jq7c4j"></div> <div class="form-group svelte-jq7c4j"><label for="email" class="svelte-jq7c4j">Email</label> <input type="email" id="email" required> <!></div> <div class="form-group svelte-jq7c4j"><label for="message" class="svelte-jq7c4j">Message</label> <textarea id="message" rows="5" required class="svelte-jq7c4j"></textarea></div> <input type="hidden" name="_subject" value="New Contact Form Submission" class="svelte-jq7c4j"> <button type="submit">Send Message</button>',1),G1=ee(`<div class="container"><h2 class="small-bottom-margin">Tell Me about <span class="purple">You.</span></h2> <div class="contact-intro svelte-jq7c4j"><p>Please reach out if you have a collaboration idea, a tool I can
            help you build, or if you just feel like we have a common interest.
            I will respond within 24 hours.</p></div> <form class="contact-form svelte-jq7c4j"><!></form></div>`);function H1(t,e){Je(e,!1);const r=H(),n=H();let s=H(""),i=H(""),a=H(""),o=H(!1);function l(b){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(b).toLowerCase())}async function c(){if(p(n))try{(await B1({name:p(s),email:p(i),message:p(a)})).success&&(j(o,!0),setTimeout(()=>{j(s,""),j(i,""),j(a,""),j(o,!1)},3e3))}catch(b){console.error("Form submission error:",b)}finally{}}rt(()=>{pi({title:"Contact | Wendy Ham's Weekend Projects",description:"Get in touch to discuss collaboration ideas, personal software solutions, or shared interests.",type:"website",canonicalUrl:"https://xnham.com/contact"})}),bt(()=>p(i),()=>{j(r,p(i).trim()===""||l(p(i)))}),bt(()=>(p(s),p(i),p(a)),()=>{j(n,p(s).trim()!==""&&p(i).trim()!==""&&p(a).trim()!==""&&l(p(i)))}),On(),Qe();var d=G1(),f=N(x(d),4),h=x(f);{var g=b=>{var _=V1();K(b,_)},y=b=>{var _=J1(),A=Ze(_),C=N(x(A),2),P=N(A,2),w=N(x(P),2),k=N(w,2);{var T=D=>{var B=W1();K(D,B)};ie(k,D=>{p(i)&&!p(r)&&D(T)})}var O=N(P,2),I=N(x(O),2),z=N(O,2),V=N(z,2);_e(()=>{he(w,1,th(p(i)&&!p(r)?"invalid":""),"svelte-jq7c4j"),he(V,1,`submit-button ${(p(n)?"":"disabled")??""}`,"svelte-jq7c4j"),V.disabled=!p(n)}),As(C,()=>p(s),D=>j(s,D)),As(w,()=>p(i),D=>j(i,D)),As(I,()=>p(a),D=>j(a,D)),K(b,_)};ie(h,b=>{p(o)?b(g):b(y,!1)})}de("submit",f,Ws(c)),K(t,d),Ge()}function Y1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function K1(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Fn={};function xu(t,e){if(t==null)return{};var r,n,s=function(a,o){if(a==null)return{};var l,c,d={},f=Object.keys(a);for(c=0;c<f.length;c++)l=f[c],o.indexOf(l)>=0||(d[l]=a[l]);return d}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function Qt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ie(t){return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(t)}function gp(t){var e=function(r,n){if(Ie(r)!=="object"||r===null)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,n);if(Ie(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return Ie(e)==="symbol"?e:String(e)}function Ou(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gp(n.key),n)}}function Xt(t,e,r){return e&&Ou(t.prototype,e),r&&Ou(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bi(t,e){return Bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Bi(t,e)}function Ca(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bi(t,e)}function Ta(t,e){if(e&&(Ie(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vr(t)}function Kt(t){return Kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kt(t)}function br(t,e,r){return(e=gp(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mu(t,e,r,n,s,i,a){try{var o=t[i](a),l=o.value}catch(c){return void r(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function le(t){return function(){var e=this,r=arguments;return new Promise(function(n,s){var i=t.apply(e,r);function a(l){Mu(i,n,s,a,o,"next",l)}function o(l){Mu(i,n,s,a,o,"throw",l)}a(void 0)})}}function Lu(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cr(t,e){return function(r){if(Array.isArray(r))return r}(t)||function(r,n){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var i,a,o,l,c=[],d=!0,f=!1;try{if(o=(s=s.call(r)).next,n===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(i=o.call(s)).done)&&(c.push(i.value),c.length!==n);d=!0);}catch(h){f=!0,a=h}finally{try{if(!d&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(f)throw a}}return c}}(t,e)||function(r,n){if(r){if(typeof r=="string")return Lu(r,n);var s=Object.prototype.toString.call(r).slice(8,-1);return s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set"?Array.from(r):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Lu(r,n):void 0}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var yp,kr={},Q1={get exports(){return kr},set exports(t){kr=t}},Yn=typeof Reflect=="object"?Reflect:null,Iu=Yn&&typeof Yn.apply=="function"?Yn.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};yp=Yn&&typeof Yn.ownKeys=="function"?Yn.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var ju=Number.isNaN||function(t){return t!=t};function Ne(){Ne.init.call(this)}Q1.exports=Ne,kr.once=function(t,e){return new Promise(function(r,n){function s(a){t.removeListener(e,i),n(a)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),r([].slice.call(arguments))}Uu(t,e,i,{once:!0}),e!=="error"&&function(a,o,l){typeof a.on=="function"&&Uu(a,"error",o,l)}(t,s,{once:!0})})},Ne.EventEmitter=Ne,Ne.prototype._events=void 0,Ne.prototype._eventsCount=0,Ne.prototype._maxListeners=void 0;var Ru=10;function Os(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function _p(t){return t._maxListeners===void 0?Ne.defaultMaxListeners:t._maxListeners}function Du(t,e,r,n){var s,i,a,o;if(Os(r),(i=t._events)===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),a=i[e]),a===void 0)a=i[e]=r,++t._eventsCount;else if(typeof a=="function"?a=i[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(s=_p(t))>0&&a.length>s&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=a.length,o=l,console&&console.warn&&console.warn(o)}return t}function X1(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Nu(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},s=X1.bind(n);return s.listener=r,n.wrapFn=s,s}function $u(t,e,r){var n=t._events;if(n===void 0)return[];var s=n[e];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?function(i){for(var a=new Array(i.length),o=0;o<a.length;++o)a[o]=i[o].listener||i[o];return a}(s):bp(s,s.length)}function Fu(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function bp(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Uu(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else{if(typeof t.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,function s(i){n.once&&t.removeEventListener(e,s),r(i)})}}Object.defineProperty(Ne,"defaultMaxListeners",{enumerable:!0,get:function(){return Ru},set:function(t){if(typeof t!="number"||t<0||ju(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Ru=t}}),Ne.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ne.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||ju(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},Ne.prototype.getMaxListeners=function(){return _p(this)},Ne.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var o=s[t];if(o===void 0)return!1;if(typeof o=="function")Iu(o,this,e);else{var l=o.length,c=bp(o,l);for(r=0;r<l;++r)Iu(c[r],this,e)}return!0},Ne.prototype.addListener=function(t,e){return Du(this,t,e,!1)},Ne.prototype.on=Ne.prototype.addListener,Ne.prototype.prependListener=function(t,e){return Du(this,t,e,!0)},Ne.prototype.once=function(t,e){return Os(e),this.on(t,Nu(this,t,e)),this},Ne.prototype.prependOnceListener=function(t,e){return Os(e),this.prependListener(t,Nu(this,t,e)),this},Ne.prototype.removeListener=function(t,e){var r,n,s,i,a;if(Os(e),(n=this._events)===void 0)return this;if((r=n[t])===void 0)return this;if(r===e||r.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(s=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){a=r[i].listener,s=i;break}if(s<0)return this;s===0?r.shift():function(o,l){for(;l+1<o.length;l++)o[l]=o[l+1];o.pop()}(r,s),r.length===1&&(n[t]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",t,a||e)}return this},Ne.prototype.off=Ne.prototype.removeListener,Ne.prototype.removeAllListeners=function(t){var e,r,n;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var s,i=Object.keys(r);for(n=0;n<i.length;++n)(s=i[n])!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=r[t])=="function")this.removeListener(t,e);else if(e!==void 0)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},Ne.prototype.listeners=function(t){return $u(this,t,!0)},Ne.prototype.rawListeners=function(t){return $u(this,t,!1)},Ne.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Fu.call(t,e)},Ne.prototype.listenerCount=Fu,Ne.prototype.eventNames=function(){return this._eventsCount>0?yp(this._events):[]};var qu=Object.prototype.hasOwnProperty;function zu(t,e,r){for(r of t.keys())if(yt(r,e))return r}function yt(t,e){var r,n,s;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&yt(t[n],e[n]););return n===-1}if(r===Set){if(t.size!==e.size)return!1;for(n of t)if((s=n)&&typeof s=="object"&&!(s=zu(e,s))||!e.has(s))return!1;return!0}if(r===Map){if(t.size!==e.size)return!1;for(n of t)if((s=n[0])&&typeof s=="object"&&!(s=zu(e,s))||!yt(n[1],e.get(s)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(r===DataView){if((n=t.byteLength)===e.byteLength)for(;n--&&t.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(t)){if((n=t.byteLength)===e.byteLength)for(;n--&&t[n]===e[n];);return n===-1}if(!r||typeof t=="object"){for(r in n=0,t)if(qu.call(t,r)&&++n&&!qu.call(e,r)||!(r in e)||!yt(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!=t&&e!=e}const Z1={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},wp={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Ke={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},ht={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},qr={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class q{static getFirstMatch(e,r){const n=r.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,r){const n=r.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,r,n){if(e.test(r))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5))return r[0]===1&&r[1]<6?"Cupcake":r[0]===1&&r[1]>=6?"Donut":r[0]===2&&r[1]<2?"Eclair":r[0]===2&&r[1]===2?"Froyo":r[0]===2&&r[1]>2?"Gingerbread":r[0]===3?"Honeycomb":r[0]===4&&r[1]<1?"Ice Cream Sandwich":r[0]===4&&r[1]<4?"Jelly Bean":r[0]===4&&r[1]>=4?"KitKat":r[0]===5?"Lollipop":r[0]===6?"Marshmallow":r[0]===7?"Nougat":r[0]===8?"Oreo":r[0]===9?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,n=!1){const s=q.getVersionPrecision(e),i=q.getVersionPrecision(r);let a=Math.max(s,i),o=0;const l=q.map([e,r],c=>{const d=a-q.getVersionPrecision(c),f=c+new Array(d+1).join(".0");return q.map(f.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(n&&(o=a-Math.min(s,i)),a-=1;a>=o;){if(l[0][a]>l[1][a])return 1;if(l[0][a]===l[1][a]){if(a===o)return 0;a-=1}else if(l[0][a]<l[1][a])return-1}}static map(e,r){const n=[];let s;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(s=0;s<e.length;s+=1)n.push(r(e[s]));return n}static find(e,r){let n,s;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(n=0,s=e.length;n<s;n+=1){const i=e[n];if(r(i,n))return i}}static assign(e,...r){const n=e;let s,i;if(Object.assign)return Object.assign(e,...r);for(s=0,i=r.length;s<i;s+=1){const a=r[s];typeof a=="object"&&a!==null&&Object.keys(a).forEach(o=>{n[o]=a[o]})}return e}static getBrowserAlias(e){return Z1[e]}static getBrowserTypeByAlias(e){return wp[e]||""}}const $e=/version\/(\d+(\.?_?\d+)+)/i,ek=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=q.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||q.getFirstMatch($e,t);return r&&(e.version=r),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=q.getFirstMatch($e,t)||q.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=q.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||q.getFirstMatch($e,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=q.getFirstMatch($e,t)||q.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=q.getFirstMatch($e,t)||q.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=q.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||q.getFirstMatch($e,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=q.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||q.getFirstMatch($e,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=q.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||q.getFirstMatch($e,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=q.getFirstMatch($e,t)||q.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=q.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||q.getFirstMatch($e,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=q.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||q.getFirstMatch($e,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=q.getFirstMatch($e,t)||q.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=q.getFirstMatch($e,t)||q.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=q.getFirstMatch($e,t)||q.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=q.getFirstMatch($e,t)||q.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=q.getFirstMatch($e,t)||q.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=q.getFirstMatch($e,t)||q.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=q.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||q.getFirstMatch($e,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=q.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||q.getFirstMatch($e,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=q.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=q.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=q.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=q.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=q.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=q.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=q.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=q.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=q.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=q.getFirstMatch($e,t)||q.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=q.getFirstMatch($e,t)||q.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=q.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=q.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||q.getFirstMatch($e,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=q.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||q.getFirstMatch($e,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=q.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=q.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=q.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=q.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||q.getFirstMatch($e,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=q.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=q.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=q.getFirstMatch($e,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=q.getFirstMatch($e,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=q.getFirstMatch($e,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=t.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:q.getFirstMatch(e,t),version:q.getSecondMatch(e,t)}}}];var tk=[{test:[/Roku\/DVP/],describe(t){const e=q.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:ht.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=q.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:ht.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=q.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=q.getWindowsVersionName(e);return{name:ht.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:ht.iOS},r=q.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=q.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=q.getMacOSVersionName(e),n={name:ht.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=q.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:ht.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=q.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=q.getAndroidVersionName(e),n={name:ht.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=q.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:ht.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=q.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||q.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||q.getFirstMatch(/\bbb(\d+)/i,t);return{name:ht.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=q.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:ht.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=q.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:ht.Tizen,version:e}}},{test:[/linux/i],describe:()=>({name:ht.Linux})},{test:[/CrOS/],describe:()=>({name:ht.ChromeOS})},{test:[/PlayStation 4/],describe(t){const e=q.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:ht.PlayStation4,version:e}}}],rk=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(t){const e=q.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:Ke.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Ke.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Ke.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Ke.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Ke.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Ke.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Ke.tablet})},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=q.getFirstMatch(/(ipod|iphone)/i,t);return{type:Ke.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Ke.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Ke.mobile})},{test:t=>t.getBrowserName(!0)==="blackberry",describe:()=>({type:Ke.mobile,vendor:"BlackBerry"})},{test:t=>t.getBrowserName(!0)==="bada",describe:()=>({type:Ke.mobile})},{test:t=>t.getBrowserName()==="windows phone",describe:()=>({type:Ke.mobile,vendor:"Microsoft"})},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe:()=>({type:Ke.tablet})},{test:t=>t.getOSName(!0)==="android",describe:()=>({type:Ke.mobile})},{test:t=>t.getOSName(!0)==="macos",describe:()=>({type:Ke.desktop,vendor:"Apple"})},{test:t=>t.getOSName(!0)==="windows",describe:()=>({type:Ke.desktop})},{test:t=>t.getOSName(!0)==="linux",describe:()=>({type:Ke.desktop})},{test:t=>t.getOSName(!0)==="playstation 4",describe:()=>({type:Ke.tv})},{test:t=>t.getOSName(!0)==="roku",describe:()=>({type:Ke.tv})}],nk=[{test:t=>t.getBrowserName(!0)==="microsoft edge",describe(t){if(/\sedg\//i.test(t))return{name:qr.Blink};const e=q.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:qr.EdgeHTML,version:e}}},{test:[/trident/i],describe(t){const e={name:qr.Trident},r=q.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:t=>t.test(/presto/i),describe(t){const e={name:qr.Presto},r=q.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:qr.Gecko},r=q.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:qr.Blink})},{test:[/(apple)?webkit/i],describe(t){const e={name:qr.WebKit},r=q.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];class Bu{constructor(e,r=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=q.find(ek,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=q.find(tk,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=q.find(rk,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=q.find(nk,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return q.assign({},this.parsedResult)}satisfies(e){const r={};let n=0;const s={};let i=0;if(Object.keys(e).forEach(a=>{const o=e[a];typeof o=="string"?(s[a]=o,i+=1):typeof o=="object"&&(r[a]=o,n+=1)}),n>0){const a=Object.keys(r),o=q.find(a,c=>this.isOS(c));if(o){const c=this.satisfies(r[o]);if(c!==void 0)return c}const l=q.find(a,c=>this.isPlatform(c));if(l){const c=this.satisfies(r[l]);if(c!==void 0)return c}}if(i>0){const a=Object.keys(s),o=q.find(a,l=>this.isBrowser(l,!0));if(o!==void 0)return this.compareVersion(s[o])}}isBrowser(e,r=!1){const n=this.getBrowserName().toLowerCase();let s=e.toLowerCase();const i=q.getBrowserTypeByAlias(s);return r&&i&&(s=i.toLowerCase()),s===n}compareVersion(e){let r=[0],n=e,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(s=!0,n=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(s=!0,n=e.substr(1)),r.indexOf(q.compareVersions(i,n,s))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class ik{static getParser(e,r=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new Bu(e,r)}static parse(e){return new Bu(e).getResult()}static get BROWSER_MAP(){return wp}static get ENGINE_MAP(){return qr}static get OS_MAP(){return ht}static get PLATFORMS_MAP(){return Ke}}function Aa(){return Date.now()+Math.random().toString()}function wi(){throw new Error("Method must be implemented in subclass")}function kp(t,e){return e!=null&&e.proxyUrl?e.proxyUrl+(e.proxyUrl.slice(-1)==="/"?"":"/")+t.substring(8):t}function Ks(t){return t!=null&&t.callObjectBundleUrlOverride?t.callObjectBundleUrlOverride:kp("https://c.daily.co/call-machine/versioned/".concat("0.75.2","/static/call-machine-object-bundle.js"),t)}function Qs(t){try{new URL(t)}catch{return!1}return!0}const Sp=Object.prototype.toString;function ac(t){switch(Sp.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Cn(t,Error)}}function vi(t,e){return Sp.call(t)===`[object ${e}]`}function Ep(t){return vi(t,"ErrorEvent")}function Vu(t){return vi(t,"DOMError")}function Sr(t){return vi(t,"String")}function oc(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function Xo(t){return t===null||oc(t)||typeof t!="object"&&typeof t!="function"}function ri(t){return vi(t,"Object")}function Pa(t){return typeof Event<"u"&&Cn(t,Event)}function xa(t){return!!(t&&t.then&&typeof t.then=="function")}function Cn(t,e){try{return t instanceof e}catch{return!1}}function Cp(t){return!(typeof t!="object"||t===null||!t.__isVue&&!t._isVue)}function Kn(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function Wu(t,e){if(!Array.isArray(t))return"";const r=[];for(let n=0;n<t.length;n++){const s=t[n];try{Cp(s)?r.push("[VueViewModel]"):r.push(String(s))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function sk(t,e,r=!1){return!!Sr(t)&&(vi(e,"RegExp")?e.test(t):!!Sr(e)&&(r?t===e:t.includes(e)))}function fs(t,e=[],r=!1){return e.some(n=>sk(t,n,r))}function ak(t,e,r=250,n,s,i,a){if(!(i.exception&&i.exception.values&&a&&Cn(a.originalException,Error)))return;const o=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var l,c;o&&(i.exception.values=(l=Zo(t,e,s,a.originalException,n,i.exception.values,o,0),c=r,l.map(d=>(d.value&&(d.value=Kn(d.value,c)),d))))}function Zo(t,e,r,n,s,i,a,o){if(i.length>=r+1)return i;let l=[...i];if(Cn(n[s],Error)){Ju(a,o);const c=t(e,n[s]),d=l.length;Gu(c,s,d,o),l=Zo(t,e,r,n[s],s,[c,...l],c,d)}return Array.isArray(n.errors)&&n.errors.forEach((c,d)=>{if(Cn(c,Error)){Ju(a,o);const f=t(e,c),h=l.length;Gu(f,`errors[${d}]`,h,o),l=Zo(t,e,r,c,s,[f,...l],f,h)}}),l}function Ju(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function Gu(t,e,r,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:n}}function Hu(t){return t===void 0?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}const bn="8.33.1",Oe=globalThis;function Xs(t,e,r){const n=Oe,s=n.__SENTRY__=n.__SENTRY__||{},i=s[bn]=s[bn]||{};return i[t]||(i[t]=e())}const lc=Oe;function Tp(t,e={}){if(!t)return"<unknown>";try{let r=t;const n=5,s=[];let i=0,a=0;const o=" > ",l=o.length;let c;const d=Array.isArray(e)?e:e.keyAttrs,f=!Array.isArray(e)&&e.maxStringLength||80;for(;r&&i++<n&&(c=ok(r,d),!(c==="html"||i>1&&a+s.length*l+c.length>=f));)s.push(c),a+=c.length,r=r.parentNode;return s.reverse().join(o)}catch{return"<unknown>"}}function ok(t,e){const r=t,n=[];if(!r||!r.tagName)return"";if(lc.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const s=e&&e.length?e.filter(a=>r.getAttribute(a)).map(a=>[a,r.getAttribute(a)]):null;if(s&&s.length)s.forEach(a=>{n.push(`[${a[0]}="${a[1]}"]`)});else{r.id&&n.push(`#${r.id}`);const a=r.className;if(a&&Sr(a)){const o=a.split(/\s+/);for(const l of o)n.push(`.${l}`)}}const i=["aria-label","type","name","title","alt"];for(const a of i){const o=r.getAttribute(a);o&&n.push(`[${a}="${o}"]`)}return n.join("")}const ts=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,el=["debug","info","warn","error","log","assert","trace"],Zs={};function cc(t){if(!("console"in Oe))return t();const e=Oe.console,r={},n=Object.keys(Zs);n.forEach(s=>{const i=Zs[s];r[s]=e[s],e[s]=i});try{return t()}finally{n.forEach(s=>{e[s]=r[s]})}}const me=Xs("logger",function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return ts?el.forEach(r=>{e[r]=(...n)=>{t&&cc(()=>{Oe.console[r](`Sentry Logger [${r}]:`,...n)})}}):el.forEach(r=>{e[r]=()=>{}}),e}),lk=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ea(t,e=!1){const{host:r,path:n,pass:s,port:i,projectId:a,protocol:o,publicKey:l}=t;return`${o}://${l}${e&&s?`:${s}`:""}@${r}${i?`:${i}`:""}/${n&&`${n}/`}${a}`}function Yu(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function ck(t){const e=typeof t=="string"?function(r){const n=lk.exec(r);if(!n)return void cc(()=>{console.error(`Invalid Sentry Dsn: ${r}`)});const[s,i,a="",o="",l="",c=""]=n.slice(1);let d="",f=c;const h=f.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),f=h.pop()),f){const g=f.match(/^\d+/);g&&(f=g[0])}return Yu({host:o,pass:a,path:d,projectId:f,port:l,protocol:s,publicKey:i})}(t):Yu(t);if(e&&function(r){if(!ts)return!0;const{port:n,projectId:s,protocol:i}=r;return!(["protocol","publicKey","host","projectId"].find(a=>!r[a]&&(me.error(`Invalid Sentry Dsn: ${a} missing`),!0))||(s.match(/^\d+$/)?function(a){return a==="http"||a==="https"}(i)?n&&isNaN(parseInt(n,10))&&(me.error(`Invalid Sentry Dsn: Invalid port ${n}`),1):(me.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(me.error(`Invalid Sentry Dsn: Invalid projectId ${s}`),1)))}(e))return e}class rr extends Error{constructor(e,r="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}}function xt(t,e,r){if(!(e in t))return;const n=t[e],s=r(n);typeof s=="function"&&Ap(s,n),t[e]=s}function Tn(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{ts&&me.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function Ap(t,e){try{const r=e.prototype||{};t.prototype=e.prototype=r,Tn(t,"__sentry_original__",e)}catch{}}function uc(t){return t.__sentry_original__}function Pp(t){if(ac(t))return{message:t.message,name:t.name,stack:t.stack,...Qu(t)};if(Pa(t)){const e={type:t.type,target:Ku(t.target),currentTarget:Ku(t.currentTarget),...Qu(t)};return typeof CustomEvent<"u"&&Cn(t,CustomEvent)&&(e.detail=t.detail),e}return t}function Ku(t){try{return e=t,typeof Element<"u"&&Cn(e,Element)?Tp(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}var e}function Qu(t){if(typeof t=="object"&&t!==null){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}return{}}function Wt(t){return tl(t,new Map)}function tl(t,e){if(function(r){if(!ri(r))return!1;try{const n=Object.getPrototypeOf(r).constructor.name;return!n||n==="Object"}catch{return!0}}(t)){const r=e.get(t);if(r!==void 0)return r;const n={};e.set(t,n);for(const s of Object.getOwnPropertyNames(t))t[s]!==void 0&&(n[s]=tl(t[s],e));return n}if(Array.isArray(t)){const r=e.get(t);if(r!==void 0)return r;const n=[];return e.set(t,n),t.forEach(s=>{n.push(tl(s,e))}),n}return t}const vn="?",Xu=/\(error: (.*)\)/,Zu=/captureMessage|captureException/;function hs(t){return t[t.length-1]||{}}const ed="<anonymous>";function rn(t){try{return t&&typeof t=="function"&&t.name||ed}catch{return ed}}function td(t){const e=t.exception;if(e){const r=[];try{return e.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}const Ms={},rd={};function mn(t,e){Ms[t]=Ms[t]||[],Ms[t].push(e)}function gn(t,e){rd[t]||(e(),rd[t]=!0)}function Jt(t,e){const r=t&&Ms[t];if(r)for(const n of r)try{n(e)}catch(s){ts&&me.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${rn(n)}
Error:`,s)}}function uk(){"console"in Oe&&el.forEach(function(t){t in Oe.console&&xt(Oe.console,t,function(e){return Zs[t]=e,function(...r){Jt("console",{args:r,level:t});const n=Zs[t];n&&n.apply(Oe.console,r)}})})}const Za=Oe;function rl(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function dk(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in Za))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(rl(Za.fetch))return!0;let t=!1;const e=Za.document;if(e&&typeof e.createElement=="function")try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=rl(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){ts&&me.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function rs(){return Date.now()/1e3}const Qr=function(){const{performance:t}=Oe;if(!t||!t.now)return rs;const e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/1e3}();function fk(t,e){const r="fetch";mn(r,t),gn(r,()=>function(n,s=!1){s&&!dk()||xt(Oe,"fetch",function(i){return function(...a){const{method:o,url:l}=function(f){if(f.length===0)return{method:"GET",url:""};if(f.length===2){const[g,y]=f;return{url:nd(g),method:nl(y,"method")?String(y.method).toUpperCase():"GET"}}const h=f[0];return{url:nd(h),method:nl(h,"method")?String(h.method).toUpperCase():"GET"}}(a),c={args:a,fetchData:{method:o,url:l},startTimestamp:1e3*Qr()};Jt("fetch",{...c});const d=new Error().stack;return i.apply(Oe,a).then(async f=>(Jt("fetch",{...c,endTimestamp:1e3*Qr(),response:f}),f),f=>{throw Jt("fetch",{...c,endTimestamp:1e3*Qr(),error:f}),ac(f)&&f.stack===void 0&&(f.stack=d,Tn(f,"framesToPop",1)),f})}})}(void 0,e))}function nl(t,e){return!!t&&typeof t=="object"&&!!t[e]}function nd(t){return typeof t=="string"?t:t?nl(t,"url")?t.url:t.toString?t.toString():"":""}(()=>{const{performance:t}=Oe;!t||!t.now||(t.now(),t.timing&&t.timing.navigationStart)})();let ps=null;function hk(){ps=Oe.onerror,Oe.onerror=function(t,e,r,n,s){return Jt("error",{column:n,error:s,line:r,msg:t,url:e}),!(!ps||ps.__SENTRY_LOADER__)&&ps.apply(this,arguments)},Oe.onerror.__SENTRY_INSTRUMENTED__=!0}let vs=null;function pk(){vs=Oe.onunhandledrejection,Oe.onunhandledrejection=function(t){return Jt("unhandledrejection",t),!(vs&&!vs.__SENTRY_LOADER__)||vs.apply(this,arguments)},Oe.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Gt(){const t=Oe,e=t.crypto||t.msCrypto;let r=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=()=>{const n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(15&r())>>n/4).toString(16))}function xp(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function Wr(t){const{message:e,event_id:r}=t;if(e)return e;const n=xp(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function il(t,e,r){const n=t.exception=t.exception||{},s=n.values=n.values||[],i=s[0]=s[0]||{};i.value||(i.value=e||""),i.type||(i.type="Error")}function Vi(t,e){const r=xp(t);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...e},e&&"data"in e){const s={...n&&n.data,...e.data};r.mechanism.data=s}}function id(t){if(t&&t.__sentry_captured__)return!0;try{Tn(t,"__sentry_captured__",!0)}catch{}return!1}function Jr(t,e=100,r=1/0){try{return sl("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function Op(t,e=3,r=102400){const n=Jr(t,e);return s=n,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(s))>r?Op(t,e-1,r):n;var s}function sl(t,e,r=1/0,n=1/0,s=function(){const i=typeof WeakSet=="function",a=i?new WeakSet:[];return[function(o){if(i)return!!a.has(o)||(a.add(o),!1);for(let l=0;l<a.length;l++)if(a[l]===o)return!0;return a.push(o),!1},function(o){if(i)a.delete(o);else for(let l=0;l<a.length;l++)if(a[l]===o){a.splice(l,1);break}}]}()){const[i,a]=s;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const o=function(g,y){try{if(g==="domain"&&y&&typeof y=="object"&&y._events)return"[Domain]";if(g==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&y===global)return"[Global]";if(typeof window<"u"&&y===window)return"[Window]";if(typeof document<"u"&&y===document)return"[Document]";if(Cp(y))return"[VueViewModel]";if(ri(b=y)&&"nativeEvent"in b&&"preventDefault"in b&&"stopPropagation"in b)return"[SyntheticEvent]";if(typeof y=="number"&&!Number.isFinite(y))return`[${y}]`;if(typeof y=="function")return`[Function: ${rn(y)}]`;if(typeof y=="symbol")return`[${String(y)}]`;if(typeof y=="bigint")return`[BigInt: ${String(y)}]`;const _=function(A){const C=Object.getPrototypeOf(A);return C?C.constructor.name:"null prototype"}(y);return/^HTML(\w*)Element$/.test(_)?`[HTMLElement: ${_}]`:`[object ${_}]`}catch(_){return`**non-serializable** (${_})`}var b}(t,e);if(!o.startsWith("[object "))return o;if(e.__sentry_skip_normalization__)return e;const l=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(l===0)return o.replace("object ","");if(i(e))return"[Circular ~]";const c=e;if(c&&typeof c.toJSON=="function")try{return sl("",c.toJSON(),l-1,n,s)}catch{}const d=Array.isArray(e)?[]:{};let f=0;const h=Pp(e);for(const g in h){if(!Object.prototype.hasOwnProperty.call(h,g))continue;if(f>=n){d[g]="[MaxProperties ~]";break}const y=h[g];d[g]=sl(g,y,l-1,n,s),f++}return a(e),d}var yr;function An(t){return new It(e=>{e(t)})}function ta(t){return new It((e,r)=>{r(t)})}(function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"})(yr||(yr={}));class It{constructor(e){It.prototype.__init.call(this),It.prototype.__init2.call(this),It.prototype.__init3.call(this),It.prototype.__init4.call(this),this._state=yr.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new It((n,s)=>{this._handlers.push([!1,i=>{if(e)try{n(e(i))}catch(a){s(a)}else n(i)},i=>{if(r)try{n(r(i))}catch(a){s(a)}else s(i)}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new It((r,n)=>{let s,i;return this.then(a=>{i=!1,s=a,e&&e()},a=>{i=!0,s=a,e&&e()}).then(()=>{i?n(s):r(s)})})}__init(){this._resolve=e=>{this._setResult(yr.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(yr.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{this._state===yr.PENDING&&(xa(r)?r.then(this._resolve,this._reject):(this._state=e,this._value=r,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===yr.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===yr.RESOLVED&&r[1](this._value),this._state===yr.REJECTED&&r[2](this._value),r[0]=!0)})}}}function vk(t){const e=[];function r(n){return e.splice(e.indexOf(n),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(n){if(!(t===void 0||e.length<t))return ta(new rr("Not adding Promise because buffer limit was reached."));const s=n();return e.indexOf(s)===-1&&e.push(s),s.then(()=>r(s)).then(null,()=>r(s).then(null,()=>{})),s},drain:function(n){return new It((s,i)=>{let a=e.length;if(!a)return s(!0);const o=setTimeout(()=>{n&&n>0&&s(!1)},n);e.forEach(l=>{An(l).then(()=>{--a||(clearTimeout(o),s(!0))},i)})})}}}function eo(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}const mk=["fatal","error","warning","log","info","debug"];function gk(t){return t==="warn"?"warning":mk.includes(t)?t:"log"}const yk=/^sentry-/;function _k(t){const e=function(n){if(!(!n||!Sr(n)&&!Array.isArray(n)))return Array.isArray(n)?n.reduce((s,i)=>{const a=sd(i);return Object.entries(a).forEach(([o,l])=>{s[o]=l}),s},{}):sd(n)}(t);if(!e)return;const r=Object.entries(e).reduce((n,[s,i])=>(s.match(yk)&&(n[s.slice(7)]=i),n),{});return Object.keys(r).length>0?r:void 0}function sd(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(r&&n&&(e[r]=n),e),{})}function Wi(t,e=[]){return[t,e]}function bk(t,e){const[r,n]=t;return[r,[...n,e]]}function ad(t,e){const r=t[1];for(const n of r)if(e(n,n[0].type))return!0;return!1}function al(t){return Oe.__SENTRY__&&Oe.__SENTRY__.encodePolyfill?Oe.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function wk(t){const[e,r]=t;let n=JSON.stringify(e);function s(i){typeof n=="string"?n=typeof i=="string"?n+i:[al(n),i]:n.push(typeof i=="string"?al(i):i)}for(const i of r){const[a,o]=i;if(s(`
${JSON.stringify(a)}
`),typeof o=="string"||o instanceof Uint8Array)s(o);else{let l;try{l=JSON.stringify(o)}catch{l=JSON.stringify(Jr(o))}s(l)}}return typeof n=="string"?n:function(i){const a=i.reduce((c,d)=>c+d.length,0),o=new Uint8Array(a);let l=0;for(const c of i)o.set(c,l),l+=c.length;return o}(n)}function kk(t){const e=typeof t.data=="string"?al(t.data):t.data;return[Wt({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}const Sk={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function od(t){return Sk[t]}function Mp(t){if(!t||!t.sdk)return;const{name:e,version:r}=t.sdk;return{name:e,version:r}}function Ek(t,{statusCode:e,headers:r},n=Date.now()){const s={...t},i=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(i)for(const o of i.trim().split(",")){const[l,c,,,d]=o.split(":",5),f=parseInt(l,10),h=1e3*(isNaN(f)?60:f);if(c)for(const g of c.split(";"))g==="metric_bucket"&&d&&!d.split(";").includes("custom")||(s[g]=n+h);else s.all=n+h}else a?s.all=n+function(o,l=Date.now()){const c=parseInt(`${o}`,10);if(!isNaN(c))return 1e3*c;const d=Date.parse(`${o}`);return isNaN(d)?6e4:d-l}(a,n):e===429&&(s.all=n+6e4);return s}function ld(){return{traceId:Gt(),spanId:Gt().substring(16)}}const ms=Oe,Be=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Oa(){return dc(Oe),Oe}function dc(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||bn,e[bn]=e[bn]||{}}function ol(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Qr(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Gt()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}const ll="_sentrySpan";function cd(t,e){e?Tn(t,ll,e):delete t[ll]}function ud(t){return t[ll]}class fc{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=ld()}clone(){const e=new fc;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,cd(e,ud(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ol(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const r=typeof e=="function"?e(this):e,[n,s]=r instanceof nn?[r.getScopeData(),r.getRequestSession()]:ri(r)?[e,e.requestSession]:[],{tags:i,extra:a,user:o,contexts:l,level:c,fingerprint:d=[],propagationContext:f}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...a},this._contexts={...this._contexts,...l},o&&Object.keys(o).length&&(this._user=o),c&&(this._level=c),d.length&&(this._fingerprint=d),f&&(this._propagationContext=f),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,cd(this,void 0),this._attachments=[],this._propagationContext=ld(),this._notifyScopeListeners(),this}addBreadcrumb(e,r){const n=typeof r=="number"?r:100;if(n<=0)return this;const s={timestamp:rs(),...e},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:ud(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,r){const n=r&&r.event_id?r.event_id:Gt();if(!this._client)return me.warn("No client configured on scope - will not capture exception!"),n;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...r,event_id:n},this),n}captureMessage(e,r,n){const s=n&&n.event_id?n.event_id:Gt();if(!this._client)return me.warn("No client configured on scope - will not capture message!"),s;const i=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:i,...n,event_id:s},this),s}captureEvent(e,r){const n=r&&r.event_id?r.event_id:Gt();return this._client?(this._client.captureEvent(e,{...r,event_id:n},this),n):(me.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const nn=fc;class Ck{constructor(e,r){let n,s;n=e||new nn,s=r||new nn,this._stack=[{scope:n}],this._isolationScope=s}withScope(e){const r=this._pushScope();let n;try{n=e(r)}catch(s){throw this._popScope(),s}return xa(n)?n.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function ni(){const t=dc(Oa());return t.stack=t.stack||new Ck(Xs("defaultCurrentScope",()=>new nn),Xs("defaultIsolationScope",()=>new nn))}function Tk(t){return ni().withScope(t)}function Ak(t,e){const r=ni();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function dd(t){return ni().withScope(()=>t(ni().getIsolationScope()))}function hc(t){const e=dc(t);return e.acs?e.acs:{withIsolationScope:dd,withScope:Tk,withSetScope:Ak,withSetIsolationScope:(r,n)=>dd(n),getCurrentScope:()=>ni().getScope(),getIsolationScope:()=>ni().getIsolationScope()}}function pc(){return hc(Oa()).getCurrentScope()}function Lp(){return hc(Oa()).getIsolationScope()}function _t(){return pc().getClient()}function Pk(t){const e=t._sentryMetrics;if(!e)return;const r={};for(const[,[n,s]]of e)(r[n]||(r[n]=[])).push(Wt(s));return r}function xk(t){const{spanId:e,traceId:r}=t.spanContext(),{parent_span_id:n}=ra(t);return Wt({parent_span_id:n,span_id:e,trace_id:r})}function fd(t){return typeof t=="number"?hd(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?hd(t.getTime()):Qr()}function hd(t){return t>9999999999?t/1e3:t}function ra(t){if(function(e){return typeof e.getSpanJSON=="function"}(t))return t.getSpanJSON();try{const{spanId:e,traceId:r}=t.spanContext();if(function(n){const s=n;return!!(s.attributes&&s.startTime&&s.name&&s.endTime&&s.status)}(t)){const{attributes:n,startTime:s,name:i,endTime:a,parentSpanId:o,status:l}=t;return Wt({span_id:e,trace_id:r,data:n,description:i,parent_span_id:o,start_timestamp:fd(s),timestamp:fd(a)||void 0,status:Ok(l),op:n["sentry.op"],origin:n["sentry.origin"],_metrics_summary:Pk(t)})}return{span_id:e,trace_id:r}}catch{return{}}}function Ok(t){if(t&&t.code!==0)return t.code===1?"ok":t.message||"unknown_error"}function Ip(t){return t._sentryRootSpan||t}const jp="production";function Rp(t,e){const r=e.getOptions(),{publicKey:n}=e.getDsn()||{},s=Wt({environment:r.environment||jp,release:r.release,public_key:n,trace_id:t});return e.emit("createDsc",s),s}function Mk(t){const e=_t();if(!e)return{};const r=Rp(ra(t).trace_id||"",e),n=Ip(t),s=n._frozenDsc;if(s)return s;const i=n.spanContext().traceState,a=i&&i.get("sentry.dsc"),o=a&&_k(a);if(o)return o;const l=ra(n),c=l.data||{},d=c["sentry.sample_rate"];d!=null&&(r.sample_rate=`${d}`);const f=c["sentry.source"],h=l.description;return f!=="url"&&h&&(r.transaction=h),function(g){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const y=_t(),b=y&&y.getOptions();return!!b&&(b.enableTracing||"tracesSampleRate"in b||"tracesSampler"in b)}()&&(r.sampled=String(function(g){const{traceFlags:y}=g.spanContext();return y===1}(n))),e.emit("createDsc",r,n),r}function Lk(t,e,r,n){const s=Mp(r),i=t.type&&t.type!=="replay_event"?t.type:"event";(function(o,l){l&&(o.sdk=o.sdk||{},o.sdk.name=o.sdk.name||l.name,o.sdk.version=o.sdk.version||l.version,o.sdk.integrations=[...o.sdk.integrations||[],...l.integrations||[]],o.sdk.packages=[...o.sdk.packages||[],...l.packages||[]])})(t,r&&r.sdk);const a=function(o,l,c,d){const f=o.sdkProcessingMetadata&&o.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:o.event_id,sent_at:new Date().toISOString(),...l&&{sdk:l},...!!c&&d&&{dsn:ea(d)},...f&&{trace:Wt({...f})}}}(t,s,n,e);return delete t.sdkProcessingMetadata,Wi(a,[[{type:i},t]])}function cl(t,e,r,n=0){return new It((s,i)=>{const a=t[n];if(e===null||typeof a!="function")s(e);else{const o=a({...e},r);Be&&a.id&&o===null&&me.log(`Event processor "${a.id}" dropped event`),xa(o)?o.then(l=>cl(t,l,r,n+1).then(s)).then(null,i):cl(t,o,r,n+1).then(s).then(null,i)}})}function Ik(t,e){const{fingerprint:r,span:n,breadcrumbs:s,sdkProcessingMetadata:i}=e;(function(a,o){const{extra:l,tags:c,user:d,contexts:f,level:h,transactionName:g}=o,y=Wt(l);y&&Object.keys(y).length&&(a.extra={...y,...a.extra});const b=Wt(c);b&&Object.keys(b).length&&(a.tags={...b,...a.tags});const _=Wt(d);_&&Object.keys(_).length&&(a.user={..._,...a.user});const A=Wt(f);A&&Object.keys(A).length&&(a.contexts={...A,...a.contexts}),h&&(a.level=h),g&&a.type!=="transaction"&&(a.transaction=g)})(t,e),n&&function(a,o){a.contexts={trace:xk(o),...a.contexts},a.sdkProcessingMetadata={dynamicSamplingContext:Mk(o),...a.sdkProcessingMetadata};const l=Ip(o),c=ra(l).description;c&&!a.transaction&&a.type==="transaction"&&(a.transaction=c)}(t,n),function(a,o){a.fingerprint=a.fingerprint?function(l){return Array.isArray(l)?l:[l]}(a.fingerprint):[],o&&(a.fingerprint=a.fingerprint.concat(o)),a.fingerprint&&!a.fingerprint.length&&delete a.fingerprint}(t,r),function(a,o){const l=[...a.breadcrumbs||[],...o];a.breadcrumbs=l.length?l:void 0}(t,s),function(a,o){a.sdkProcessingMetadata={...a.sdkProcessingMetadata,...o}}(t,i)}function pd(t,e){const{extra:r,tags:n,user:s,contexts:i,level:a,sdkProcessingMetadata:o,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:f,propagationContext:h,transactionName:g,span:y}=e;ki(t,"extra",r),ki(t,"tags",n),ki(t,"user",s),ki(t,"contexts",i),ki(t,"sdkProcessingMetadata",o),a&&(t.level=a),g&&(t.transactionName=g),y&&(t.span=y),l.length&&(t.breadcrumbs=[...t.breadcrumbs,...l]),c.length&&(t.fingerprint=[...t.fingerprint,...c]),d.length&&(t.eventProcessors=[...t.eventProcessors,...d]),f.length&&(t.attachments=[...t.attachments,...f]),t.propagationContext={...t.propagationContext,...h}}function ki(t,e,r){if(r&&Object.keys(r).length){t[e]={...t[e]};for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[e][n]=r[n])}}function jk(t,e,r,n,s,i){const{normalizeDepth:a=3,normalizeMaxBreadth:o=1e3}=t,l={...e,event_id:e.event_id||r.event_id||Gt(),timestamp:e.timestamp||rs()},c=r.integrations||t.integrations.map(y=>y.name);(function(y,b){const{environment:_,release:A,dist:C,maxValueLength:P=250}=b;"environment"in y||(y.environment="environment"in b?_:jp),y.release===void 0&&A!==void 0&&(y.release=A),y.dist===void 0&&C!==void 0&&(y.dist=C),y.message&&(y.message=Kn(y.message,P));const w=y.exception&&y.exception.values&&y.exception.values[0];w&&w.value&&(w.value=Kn(w.value,P));const k=y.request;k&&k.url&&(k.url=Kn(k.url,P))})(l,t),function(y,b){b.length>0&&(y.sdk=y.sdk||{},y.sdk.integrations=[...y.sdk.integrations||[],...b])}(l,c),s&&s.emit("applyFrameMetadata",e),e.type===void 0&&function(y,b){const _=Oe._sentryDebugIds;if(!_)return;let A;const C=vd.get(b);C?A=C:(A=new Map,vd.set(b,A));const P=Object.entries(_).reduce((w,[k,T])=>{let O;const I=A.get(k);I?O=I:(O=b(k),A.set(k,O));for(let z=O.length-1;z>=0;z--){const V=O[z];if(V.filename){w[V.filename]=T;break}}return w},{});try{y.exception.values.forEach(w=>{w.stacktrace.frames.forEach(k=>{k.filename&&(k.debug_id=P[k.filename])})})}catch{}}(l,t.stackParser);const d=function(y,b){if(!b)return y;const _=y?y.clone():new nn;return _.update(b),_}(n,r.captureContext);r.mechanism&&Vi(l,r.mechanism);const f=s?s.getEventProcessors():[],h=Xs("globalScope",()=>new nn).getScopeData();i&&pd(h,i.getScopeData()),d&&pd(h,d.getScopeData());const g=[...r.attachments||[],...h.attachments];return g.length&&(r.attachments=g),Ik(l,h),cl([...f,...h.eventProcessors],l,r).then(y=>(y&&function(b){const _={};try{b.exception.values.forEach(C=>{C.stacktrace.frames.forEach(P=>{P.debug_id&&(P.abs_path?_[P.abs_path]=P.debug_id:P.filename&&(_[P.filename]=P.debug_id),delete P.debug_id)})})}catch{}if(Object.keys(_).length===0)return;b.debug_meta=b.debug_meta||{},b.debug_meta.images=b.debug_meta.images||[];const A=b.debug_meta.images;Object.entries(_).forEach(([C,P])=>{A.push({type:"sourcemap",code_file:C,debug_id:P})})}(y),typeof a=="number"&&a>0?function(b,_,A){if(!b)return null;const C={...b,...b.breadcrumbs&&{breadcrumbs:b.breadcrumbs.map(P=>({...P,...P.data&&{data:Jr(P.data,_,A)}}))},...b.user&&{user:Jr(b.user,_,A)},...b.contexts&&{contexts:Jr(b.contexts,_,A)},...b.extra&&{extra:Jr(b.extra,_,A)}};return b.contexts&&b.contexts.trace&&C.contexts&&(C.contexts.trace=b.contexts.trace,b.contexts.trace.data&&(C.contexts.trace.data=Jr(b.contexts.trace.data,_,A))),b.spans&&(C.spans=b.spans.map(P=>({...P,...P.data&&{data:Jr(P.data,_,A)}}))),C}(y,a,o):y))}const vd=new WeakMap;function md(t,e){return pc().captureEvent(t,e)}function Rk(t,e){return r={sentry_key:t.publicKey,sentry_version:"7",...e&&{sentry_client:`${e.name}/${e.version}`}},Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&");var r}const gd=[];function yd(t,e){for(const r of e)r&&r.afterAllSetup&&r.afterAllSetup(t)}function _d(t,e,r){if(r[e.name])Be&&me.log(`Integration skipped because it was already installed: ${e.name}`);else{if(r[e.name]=e,gd.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),gd.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(s,i)=>n(s,i,t))}if(typeof e.processEvent=="function"){const n=e.processEvent.bind(e),s=Object.assign((i,a)=>n(i,a,t),{id:e.name});t.addEventProcessor(s)}Be&&me.log(`Integration installed: ${e.name}`)}}const bd="Not capturing exception because it's already been captured.";class Dk{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=ck(e.dsn):Be&&me.warn("No DSN provided, client will not send events."),this._dsn){const i=(r=this._dsn,n=e.tunnel,s=e._metadata?e._metadata.sdk:void 0,n||`${function(a){return`${function(o){const l=o.protocol?`${o.protocol}:`:"",c=o.port?`:${o.port}`:"";return`${l}//${o.host}${c}${o.path?`/${o.path}`:""}/api/`}(a)}${a.projectId}/envelope/`}(r)}?${Rk(r,s)}`);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}var r,n,s}captureException(e,r,n){const s=Gt();if(id(e))return Be&&me.log(bd),s;const i={event_id:s,...r};return this._process(this.eventFromException(e,i).then(a=>this._captureEvent(a,i,n))),i.event_id}captureMessage(e,r,n,s){const i={event_id:Gt(),...n},a=oc(e)?e:String(e),o=Xo(e)?this.eventFromMessage(a,r,i):this.eventFromException(e,i);return this._process(o.then(l=>this._captureEvent(l,i,s))),i.event_id}captureEvent(e,r,n){const s=Gt();if(r&&r.originalException&&id(r.originalException))return Be&&me.log(bd),s;const i={event_id:s,...r},a=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,i,a||n)),i.event_id}captureSession(e){typeof e.release!="string"?Be&&me.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),ol(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>r.flush(e).then(s=>n&&s))):An(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const r=this._integrations[e.name];_d(this,e,this._integrations),r||yd(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let n=Lk(e,this._dsn,this._options._metadata,this._options.tunnel);for(const i of r.attachments||[])n=bk(n,kk(i));const s=this.sendEnvelope(n);s&&s.then(i=>this.emit("afterSendEvent",e,i),null)}sendSession(e){const r=function(n,s,i,a){const o=Mp(i);return Wi({sent_at:new Date().toISOString(),...o&&{sdk:o},...!!a&&s&&{dsn:ea(s)}},["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){const s=typeof n=="number"?n:1,i=`${e}:${r}`;Be&&me.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(e,r){const n=this._hooks[e]=this._hooks[e]||[];return n.push(r),()=>{const s=n.indexOf(r);s>-1&&n.splice(s,1)}}emit(e,...r){const n=this._hooks[e];n&&n.forEach(s=>s(...r))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,r=>(Be&&me.error("Error while sending event:",r),r)):(Be&&me.error("Transport disabled"),An({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(r,n){const s={};return n.forEach(i=>{i&&_d(r,i,s)}),s}(this,e),yd(this,e)}_updateSessionFromEvent(e,r){let n=!1,s=!1;const i=r.exception&&r.exception.values;if(i){s=!0;for(const o of i){const l=o.mechanism;if(l&&l.handled===!1){n=!0;break}}}const a=e.status==="ok";(a&&e.errors===0||a&&n)&&(ol(e,{...n&&{status:"crashed"},errors:e.errors||Number(s||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new It(r=>{let n=0;const s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),r(!0)):(n+=1,e&&n>=e&&(clearInterval(s),r(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,n,s=Lp()){const i=this.getOptions(),a=Object.keys(this._integrations);return!r.integrations&&a.length>0&&(r.integrations=a),this.emit("preprocessEvent",e,r),e.type||s.setLastEventId(e.event_id||r.event_id),jk(i,e,r,n,this,s).then(o=>{if(o===null)return o;const l={...s.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(o.contexts&&o.contexts.trace)&&l){const{traceId:c,spanId:d,parentSpanId:f,dsc:h}=l;o.contexts={trace:Wt({trace_id:c,span_id:d,parent_span_id:f}),...o.contexts};const g=h||Rp(c,this);o.sdkProcessingMetadata={dynamicSamplingContext:g,...o.sdkProcessingMetadata}}return o})}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(s=>s.event_id,s=>{if(Be){const i=s;i.logLevel==="log"?me.log(i.message):me.warn(i)}})}_processEvent(e,r,n){const s=this.getOptions(),{sampleRate:i}=s,a=kd(e),o=wd(e),l=e.type||"error",c=`before send for type \`${l}\``,d=i===void 0?void 0:function(g){if(typeof g=="boolean")return Number(g);const y=typeof g=="string"?parseFloat(g):g;if(!(typeof y!="number"||isNaN(y)||y<0||y>1))return y;Be&&me.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(g)} of type ${JSON.stringify(typeof g)}.`)}(i);if(o&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",e),ta(new rr(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const f=l==="replay_event"?"replay":l,h=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,r,n,h).then(g=>{if(g===null)throw this.recordDroppedEvent("event_processor",f,e),new rr("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return g;const y=function(b,_,A,C){const{beforeSend:P,beforeSendTransaction:w,beforeSendSpan:k}=_;if(wd(A)&&P)return P(A,C);if(kd(A)){if(A.spans&&k){const T=[];for(const O of A.spans){const I=k(O);I?T.push(I):b.recordDroppedEvent("before_send","span")}A.spans=T}if(w){if(A.spans){const T=A.spans.length;A.sdkProcessingMetadata={...A.sdkProcessingMetadata,spanCountBeforeProcessing:T}}return w(A,C)}}return A}(this,s,g,r);return function(b,_){const A=`${_} must return \`null\` or a valid event.`;if(xa(b))return b.then(C=>{if(!ri(C)&&C!==null)throw new rr(A);return C},C=>{throw new rr(`${_} rejected with ${C}`)});if(!ri(b)&&b!==null)throw new rr(A);return b}(y,c)}).then(g=>{if(g===null){if(this.recordDroppedEvent("before_send",f,e),a){const _=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",_)}throw new rr(`${c} returned \`null\`, will not send event.`,"log")}const y=n&&n.getSession();if(!a&&y&&this._updateSessionFromEvent(y,g),a){const _=(g.sdkProcessingMetadata&&g.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(g.spans?g.spans.length:0);_>0&&this.recordDroppedEvent("before_send","span",_)}const b=g.transaction_info;if(a&&b&&g.transaction!==e.transaction){const _="custom";g.transaction_info={...b,source:_}}return this.sendEvent(g,r),g}).then(null,g=>{throw g instanceof rr?g:(this.captureException(g,{data:{__sentry__:!0},originalException:g}),new rr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${g}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,n])=>{const[s,i]=r.split(":");return{reason:s,category:i,quantity:n}})}_flushOutcomes(){Be&&me.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0)return void(Be&&me.log("No outcomes to send"));if(!this._dsn)return void(Be&&me.log("No dsn provided, will not send outcomes"));Be&&me.log("Sending outcomes:",e);const r=(n=e,Wi((s=this._options.tunnel&&ea(this._dsn))?{dsn:s}:{},[[{type:"client_report"},{timestamp:i||rs(),discarded_events:n}]]));var n,s,i;this.sendEnvelope(r)}}function wd(t){return t.type===void 0}function kd(t){return t.type==="transaction"}function Nk(t,e,r=vk(t.bufferSize||64)){let n={};return{send:function(s){const i=[];if(ad(s,(l,c)=>{const d=od(c);if(function(f,h,g=Date.now()){return function(y,b){return y[b]||y.all||0}(f,h)>g}(n,d)){const f=Sd(l,c);t.recordDroppedEvent("ratelimit_backoff",d,f)}else i.push(l)}),i.length===0)return An({});const a=Wi(s[0],i),o=l=>{ad(a,(c,d)=>{const f=Sd(c,d);t.recordDroppedEvent(l,od(d),f)})};return r.add(()=>e({body:wk(a)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&Be&&me.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),n=Ek(n,l),l),l=>{throw o("network_error"),l})).then(l=>l,l=>{if(l instanceof rr)return Be&&me.error("Skipped sending event because buffer is full."),o("queue_overflow"),An({});throw l})},flush:s=>r.drain(s)}}function Sd(t,e){if(e==="event"||e==="transaction")return Array.isArray(t)?t[1]:void 0}const $k=100;function ln(t,e){const r=_t(),n=Lp();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=$k}=r.getOptions();if(i<=0)return;const a={timestamp:rs(),...t},o=s?cc(()=>s(a,e)):a;o!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",o,e),n.addBreadcrumb(o,i))}let Ed;const Cd=new WeakMap,Fk=()=>({name:"FunctionToString",setupOnce(){Ed=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=uc(this),r=Cd.has(_t())&&e!==void 0?e:this;return Ed.apply(r,t)}}catch{}},setup(t){Cd.set(t,!0)}}),Uk=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],qk=(t={})=>({name:"InboundFilters",processEvent(e,r,n){const s=n.getOptions(),i=function(a={},o={}){return{allowUrls:[...a.allowUrls||[],...o.allowUrls||[]],denyUrls:[...a.denyUrls||[],...o.denyUrls||[]],ignoreErrors:[...a.ignoreErrors||[],...o.ignoreErrors||[],...a.disableErrorDefaults?[]:Uk],ignoreTransactions:[...a.ignoreTransactions||[],...o.ignoreTransactions||[]],ignoreInternal:a.ignoreInternal===void 0||a.ignoreInternal}}(t,s);return function(a,o){return o.ignoreInternal&&function(l){try{return l.exception.values[0].type==="SentryError"}catch{}return!1}(a)?(Be&&me.warn(`Event dropped due to being internal Sentry Error.
Event: ${Wr(a)}`),!0):function(l,c){return l.type||!c||!c.length?!1:function(d){const f=[];d.message&&f.push(d.message);let h;try{h=d.exception.values[d.exception.values.length-1]}catch{}return h&&h.value&&(f.push(h.value),h.type&&f.push(`${h.type}: ${h.value}`)),f}(l).some(d=>fs(d,c))}(a,o.ignoreErrors)?(Be&&me.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Wr(a)}`),!0):function(l){return l.type||!l.exception||!l.exception.values||l.exception.values.length===0?!1:!l.message&&!l.exception.values.some(c=>c.stacktrace||c.type&&c.type!=="Error"||c.value)}(a)?(Be&&me.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Wr(a)}`),!0):function(l,c){if(l.type!=="transaction"||!c||!c.length)return!1;const d=l.transaction;return!!d&&fs(d,c)}(a,o.ignoreTransactions)?(Be&&me.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Wr(a)}`),!0):function(l,c){if(!c||!c.length)return!1;const d=gs(l);return!!d&&fs(d,c)}(a,o.denyUrls)?(Be&&me.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Wr(a)}.
Url: ${gs(a)}`),!0):function(l,c){if(!c||!c.length)return!0;const d=gs(l);return!d||fs(d,c)}(a,o.allowUrls)?!1:(Be&&me.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Wr(a)}.
Url: ${gs(a)}`),!0)}(e,i)?null:e}});function gs(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?function(r=[]){for(let n=r.length-1;n>=0;n--){const s=r[n];if(s&&s.filename!=="<anonymous>"&&s.filename!=="[native code]")return s.filename||null}return null}(e):null}catch{return Be&&me.error(`Cannot extract url for event ${Wr(t)}`),null}}const zk=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if(function(r,n){return n?!!(function(s,i){const a=s.message,o=i.message;return!(!a&&!o||a&&!o||!a&&o||a!==o||!Ad(s,i)||!Td(s,i))}(r,n)||function(s,i){const a=Pd(i),o=Pd(s);return!(!a||!o||a.type!==o.type||a.value!==o.value||!Ad(s,i)||!Td(s,i))}(r,n)):!1}(e,t))return Be&&me.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}};function Td(t,e){let r=td(t),n=td(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let s=0;s<n.length;s++){const i=n[s],a=r[s];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function)return!1}return!0}function Ad(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return r.join("")===n.join("")}catch{return!1}}function Pd(t){return t.exception&&t.exception.values&&t.exception.values[0]}const it=Oe;let ul=0;function xd(){return ul>0}function ii(t,e={},r){if(typeof t!="function")return t;try{const s=t.__sentry_wrapped__;if(s)return typeof s=="function"?s:t;if(uc(t))return t}catch{return t}const n=function(){const s=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);const i=s.map(a=>ii(a,e));return t.apply(this,i)}catch(i){throw ul++,setTimeout(()=>{ul--}),function(...a){const o=hc(Oa());if(a.length===2){const[l,c]=a;return l?o.withSetScope(l,c):o.withScope(c)}o.withScope(a[0])}(a=>{var o;a.addEventProcessor(l=>(e.mechanism&&(il(l,void 0),Vi(l,e.mechanism)),l.extra={...l.extra,arguments:s},l)),o=i,pc().captureException(o,void 0)}),i}};try{for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}catch{}Ap(n,t),Tn(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>t.name})}catch{}return n}const vc=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function mc(t,e){const r=gc(t,e),n={type:e&&e.name,value:Wk(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function Bk(t,e,r,n){const s=_t(),i=s&&s.getOptions().normalizeDepth,a=function(c){for(const d in c)if(Object.prototype.hasOwnProperty.call(c,d)){const f=c[d];if(f instanceof Error)return f}}(e),o={__serialized__:Op(e,i)};if(a)return{exception:{values:[mc(t,a)]},extra:o};const l={exception:{values:[{type:Pa(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:Jk(e,{isUnhandledRejection:n})}]},extra:o};if(r){const c=gc(t,r);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function to(t,e){return{exception:{values:[mc(t,e)]}}}function gc(t,e){const r=e.stacktrace||e.stack||"",n=function(i){return i&&Vk.test(i.message)?1:0}(e),s=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(e);try{return t(r,n,s)}catch{}return[]}const Vk=/Minified React error #\d+;/i;function Wk(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function dl(t,e,r,n,s){let i;if(Ep(e)&&e.error)return to(t,e.error);if(Vu(e)||vi(e,"DOMException")){const a=e;if("stack"in e)i=to(t,e);else{const o=a.name||(Vu(a)?"DOMError":"DOMException"),l=a.message?`${o}: ${a.message}`:o;i=fl(t,l,r,n),il(i,l)}return"code"in a&&(i.tags={...i.tags,"DOMException.code":`${a.code}`}),i}return ac(e)?to(t,e):ri(e)||Pa(e)?(i=Bk(t,e,r,s),Vi(i,{synthetic:!0}),i):(i=fl(t,e,r,n),il(i,`${e}`),Vi(i,{synthetic:!0}),i)}function fl(t,e,r,n){const s={};if(n&&r){const i=gc(t,r);i.length&&(s.exception={values:[{value:e,stacktrace:{frames:i}}]})}if(oc(e)){const{__sentry_template_string__:i,__sentry_template_values__:a}=e;return s.logentry={message:i,params:a},s}return s.message=e,s}function Jk(t,{isUnhandledRejection:e}){const r=function(s,i=40){const a=Object.keys(Pp(s));a.sort();const o=a[0];if(!o)return"[object has no keys]";if(o.length>=i)return Kn(o,i);for(let l=a.length;l>0;l--){const c=a.slice(0,l).join(", ");if(!(c.length>i))return l===a.length?c:Kn(c,i)}return""}(t),n=e?"promise rejection":"exception";return Ep(t)?`Event \`ErrorEvent\` captured as ${n} with message \`${t.message}\``:Pa(t)?`Event \`${function(s){try{const i=Object.getPrototypeOf(s);return i?i.constructor.name:void 0}catch{}}(t)}\` (type=${t.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}class Gk extends Dk{constructor(e){const r={parentSpanIsAlwaysRootSpan:!0,...e};(function(n,s,i=[s],a="npm"){const o=n._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${s}`,packages:i.map(l=>({name:`${a}:@sentry/${l}`,version:bn})),version:bn}),n._metadata=o})(r,"browser",["browser"],it.SENTRY_SDK_SOURCE||"npm"),super(r),r.sendClientReports&&it.document&&it.document.addEventListener("visibilitychange",()=>{it.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return function(n,s,i,a){const o=dl(n,s,i&&i.syntheticException||void 0,a);return Vi(o),o.level="error",i&&i.event_id&&(o.event_id=i.event_id),An(o)}(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return function(s,i,a="info",o,l){const c=fl(s,i,o&&o.syntheticException||void 0,l);return c.level=a,o&&o.event_id&&(c.event_id=o.event_id),An(c)}(this._options.stackParser,e,r,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(vc&&me.warn("SDK not enabled, will not capture user feedback."));const r=function(n,{metadata:s,tunnel:i,dsn:a}){const o={event_id:n.event_id,sent_at:new Date().toISOString(),...s&&s.sdk&&{sdk:{name:s.sdk.name,version:s.sdk.version}},...!!i&&!!a&&{dsn:ea(a)}};return Wi(o,[function(c){return[{type:"user_report"},c]}(n)])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}}const Hk=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,lt=Oe;let Od,ro,no,ys;function Yk(){if(!lt.document)return;const t=Jt.bind(null,"dom"),e=Md(t,!0);lt.document.addEventListener("click",e,!1),lt.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{const n=lt[r]&&lt[r].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(xt(n,"addEventListener",function(s){return function(i,a,o){if(i==="click"||i=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},d=c[i]=c[i]||{refCount:0};if(!d.handler){const f=Md(t);d.handler=f,s.call(this,i,f,o)}d.refCount++}catch{}return s.call(this,i,a,o)}}),xt(n,"removeEventListener",function(s){return function(i,a,o){if(i==="click"||i=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__||{},d=c[i];d&&(d.refCount--,d.refCount<=0&&(s.call(this,i,d.handler,o),d.handler=void 0,delete c[i]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return s.call(this,i,a,o)}}))})}function Md(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;const n=function(i){try{return i.target}catch{return null}}(r);if(function(i,a){return i==="keypress"&&(!a||!a.tagName||a.tagName!=="INPUT"&&a.tagName!=="TEXTAREA"&&!a.isContentEditable)}(r.type,n))return;Tn(r,"_sentryCaptured",!0),n&&!n._sentryId&&Tn(n,"_sentryId",Gt());const s=r.type==="keypress"?"input":r.type;(function(i){if(i.type!==ro)return!1;try{if(!i.target||i.target._sentryId!==no)return!1}catch{}return!0})(r)||(t({event:r,name:s,global:e}),ro=r.type,no=n?n._sentryId:void 0),clearTimeout(Od),Od=lt.setTimeout(()=>{no=void 0,ro=void 0},1e3)}}function Kk(){if(!function(){const r=ms.chrome,n=r&&r.app&&r.app.runtime,s="history"in ms&&!!ms.history.pushState&&!!ms.history.replaceState;return!n&&s}())return;const t=lt.onpopstate;function e(r){return function(...n){const s=n.length>2?n[2]:void 0;if(s){const i=ys,a=String(s);ys=a,Jt("history",{from:i,to:a})}return r.apply(this,n)}}lt.onpopstate=function(...r){const n=lt.location.href,s=ys;if(ys=n,Jt("history",{from:s,to:n}),t)try{return t.apply(this,r)}catch{}},xt(lt.history,"pushState",e),xt(lt.history,"replaceState",e)}const Ls={};function Ld(t){Ls[t]=void 0}const xi="__sentry_xhr_v3__";function Qk(){if(!lt.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,n){const s=1e3*Qr(),i=Sr(n[0])?n[0].toUpperCase():void 0,a=function(l){if(Sr(l))return l;try{return l.toString()}catch{}}(n[1]);if(!i||!a)return e.apply(r,n);r[xi]={method:i,url:a,request_headers:{}},i==="POST"&&a.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const o=()=>{const l=r[xi];if(l&&r.readyState===4){try{l.status_code=r.status}catch{}Jt("xhr",{endTimestamp:1e3*Qr(),startTimestamp:s,xhr:r})}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply:(l,c,d)=>(o(),l.apply(c,d))}):r.addEventListener("readystatechange",o),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(l,c,d){const[f,h]=d,g=c[xi];return g&&Sr(f)&&Sr(h)&&(g.request_headers[f.toLowerCase()]=h),l.apply(c,d)}}),e.apply(r,n)}}),t.send=new Proxy(t.send,{apply(e,r,n){const s=r[xi];return s?(n[0]!==void 0&&(s.body=n[0]),Jt("xhr",{startTimestamp:1e3*Qr(),xhr:r}),e.apply(r,n)):e.apply(r,n)}})}function Xk(t,e=function(r){const n=Ls[r];if(n)return n;let s=lt[r];if(rl(s))return Ls[r]=s.bind(lt);const i=lt.document;if(i&&typeof i.createElement=="function")try{const a=i.createElement("iframe");a.hidden=!0,i.head.appendChild(a);const o=a.contentWindow;o&&o[r]&&(s=o[r]),i.head.removeChild(a)}catch(a){Hk&&me.warn(`Could not create sandbox iframe for ${r} check, bailing to window.${r}: `,a)}return s&&(Ls[r]=s.bind(lt))}("fetch")){let r=0,n=0;return Nk(t,function(s){const i=s.body.length;r+=i,n++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&n<15,...t.fetchOptions};if(!e)return Ld("fetch"),ta("No fetch implementation available");try{return e(t.url,a).then(o=>(r-=i,n--,{statusCode:o.status,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")}}))}catch(o){return Ld("fetch"),r-=i,n--,ta(o)}})}function io(t,e,r,n){const s={filename:t,function:e==="<anonymous>"?vn:e,in_app:!0};return r!==void 0&&(s.lineno=r),n!==void 0&&(s.colno=n),s}const Zk=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,eS=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,tS=/\((\S*)(?::(\d+))(?::(\d+))\)/,rS=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,nS=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,iS=function(...t){const e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,s=0)=>{const i=[],a=r.split(`
`);for(let o=n;o<a.length;o++){const l=a[o];if(l.length>1024)continue;const c=Xu.test(l)?l.replace(Xu,"$1"):l;if(!c.match(/\S*Error: /)){for(const d of e){const f=d(c);if(f){i.push(f);break}}if(i.length>=50+s)break}}return function(o){if(!o.length)return[];const l=Array.from(o);return/sentryWrapped/.test(hs(l).function||"")&&l.pop(),l.reverse(),Zu.test(hs(l).function||"")&&(l.pop(),Zu.test(hs(l).function||"")&&l.pop()),l.slice(0,50).map(c=>({...c,filename:c.filename||hs(l).filename,function:c.function||vn}))}(i.slice(s))}}([30,t=>{const e=Zk.exec(t);if(e){const[,n,s,i]=e;return io(n,vn,+s,+i)}const r=eS.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){const i=tS.exec(r[2]);i&&(r[2]=i[1],r[3]=i[2],r[4]=i[3])}const[n,s]=Id(r[1]||vn,r[2]);return io(s,n,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,t=>{const e=rS.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const s=nS.exec(e[3]);s&&(e[1]=e[1]||"eval",e[3]=s[1],e[4]=s[2],e[5]="")}let r=e[3],n=e[1]||vn;return[n,r]=Id(n,r),io(r,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]),Id=(t,e)=>{const r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:vn,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},jd=1024,sS=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(r){var n;e.console&&function(s){const i="console";mn(i,s),gn(i,uk)}(function(s){return function(i){if(_t()!==s)return;const a={category:"console",data:{arguments:i.args,logger:"console"},level:gk(i.level),message:Wu(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;a.message=`Assertion failed: ${Wu(i.args.slice(1)," ")||"console.assert"}`,a.data.arguments=i.args.slice(1)}ln(a,{input:i.args,level:i.level})}}(r)),e.dom&&(n=function(s,i){return function(a){if(_t()!==s)return;let o,l,c=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>jd&&(vc&&me.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=jd),typeof c=="string"&&(c=[c]);try{const h=a.event,g=function(y){return!!y&&!!y.target}(h)?h.target:h;o=Tp(g,{keyAttrs:c,maxStringLength:d}),l=function(y){if(!lc.HTMLElement)return null;let b=y;for(let _=0;_<5;_++){if(!b)return null;if(b instanceof HTMLElement){if(b.dataset.sentryComponent)return b.dataset.sentryComponent;if(b.dataset.sentryElement)return b.dataset.sentryElement}b=b.parentNode}return null}(g)}catch{o="<unknown>"}if(o.length===0)return;const f={category:`ui.${a.name}`,message:o};l&&(f.data={"ui.component_name":l}),ln(f,{event:a.event,name:a.name,global:a.global})}}(r,e.dom),mn("dom",n),gn("dom",Yk)),e.xhr&&function(s){mn("xhr",s),gn("xhr",Qk)}(function(s){return function(i){if(_t()!==s)return;const{startTimestamp:a,endTimestamp:o}=i,l=i.xhr[xi];if(!a||!o||!l)return;const{method:c,url:d,status_code:f,body:h}=l,g={method:c,url:d,status_code:f},y={xhr:i.xhr,input:h,startTimestamp:a,endTimestamp:o};ln({category:"xhr",data:g,type:"http",level:Hu(f)},y)}}(r)),e.fetch&&fk(function(s){return function(i){if(_t()!==s)return;const{startTimestamp:a,endTimestamp:o}=i;if(o&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)ln({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:a,endTimestamp:o});else{const l=i.response,c={...i.fetchData,status_code:l&&l.status},d={input:i.args,response:l,startTimestamp:a,endTimestamp:o};ln({category:"fetch",data:c,type:"http",level:Hu(c.status_code)},d)}}}(r)),e.history&&function(s){const i="history";mn(i,s),gn(i,Kk)}(function(s){return function(i){if(_t()!==s)return;let a=i.from,o=i.to;const l=eo(it.location.href);let c=a?eo(a):void 0;const d=eo(o);c&&c.path||(c=l),l.protocol===d.protocol&&l.host===d.host&&(o=d.relative),l.protocol===c.protocol&&l.host===c.host&&(a=c.relative),ln({category:"navigation",data:{from:a,to:o}})}}(r)),e.sentry&&r.on("beforeSendEvent",function(s){return function(i){_t()===s&&ln({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:Wr(i)},{event:i})}}(r))}}},aS=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],oS=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&xt(it,"setTimeout",Rd),e.setInterval&&xt(it,"setInterval",Rd),e.requestAnimationFrame&&xt(it,"requestAnimationFrame",lS),e.XMLHttpRequest&&"XMLHttpRequest"in it&&xt(XMLHttpRequest.prototype,"send",cS);const r=e.eventTarget;r&&(Array.isArray(r)?r:aS).forEach(uS)}}};function Rd(t){return function(...e){const r=e[0];return e[0]=ii(r,{mechanism:{data:{function:rn(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function lS(t){return function(e){return t.apply(this,[ii(e,{mechanism:{data:{function:"requestAnimationFrame",handler:rn(t)},handled:!1,type:"instrument"}})])}}function cS(t){return function(...e){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(n=>{n in r&&typeof r[n]=="function"&&xt(r,n,function(s){const i={mechanism:{data:{function:n,handler:rn(s)},handled:!1,type:"instrument"}},a=uc(s);return a&&(i.mechanism.data.handler=rn(a)),ii(s,i)})}),t.apply(this,e)}}function uS(t){const e=it,r=e[t]&&e[t].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(xt(r,"addEventListener",function(n){return function(s,i,a){try{typeof i.handleEvent=="function"&&(i.handleEvent=ii(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:rn(i),target:t},handled:!1,type:"instrument"}}))}catch{}return n.apply(this,[s,ii(i,{mechanism:{data:{function:"addEventListener",handler:rn(i),target:t},handled:!1,type:"instrument"}}),a])}}),xt(r,"removeEventListener",function(n){return function(s,i,a){const o=i;try{const l=o&&o.__sentry_wrapped__;l&&n.call(this,s,l,a)}catch{}return n.call(this,s,o,a)}}))}const dS=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(function(n){(function(s){const i="error";mn(i,s),gn(i,hk)})(s=>{const{stackParser:i,attachStacktrace:a}=Nd();if(_t()!==n||xd())return;const{msg:o,url:l,line:c,column:d,error:f}=s,h=function(g,y,b,_){const A=g.exception=g.exception||{},C=A.values=A.values||[],P=C[0]=C[0]||{},w=P.stacktrace=P.stacktrace||{},k=w.frames=w.frames||[],T=isNaN(parseInt(_,10))?void 0:_,O=isNaN(parseInt(b,10))?void 0:b,I=Sr(y)&&y.length>0?y:function(){try{return lc.document.location.href}catch{return""}}();return k.length===0&&k.push({colno:T,filename:I,function:vn,in_app:!0,lineno:O}),g}(dl(i,f||o,void 0,a,!1),l,c,d);h.level="error",md(h,{originalException:f,mechanism:{handled:!1,type:"onerror"}})})}(r),Dd("onerror")),e.onunhandledrejection&&(function(n){(function(s){const i="unhandledrejection";mn(i,s),gn(i,pk)})(s=>{const{stackParser:i,attachStacktrace:a}=Nd();if(_t()!==n||xd())return;const o=function(c){if(Xo(c))return c;try{if("reason"in c)return c.reason;if("detail"in c&&"reason"in c.detail)return c.detail.reason}catch{}return c}(s),l=Xo(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:dl(i,o,void 0,a,!0);l.level="error",md(l,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(r),Dd("onunhandledrejection"))}}};function Dd(t){vc&&me.log(`Global Handler attached: ${t}`)}function Nd(){const t=_t();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const fS=()=>({name:"HttpContext",preprocessEvent(t){if(!it.navigator&&!it.location&&!it.document)return;const e=t.request&&t.request.url||it.location&&it.location.href,{referrer:r}=it.document||{},{userAgent:n}=it.navigator||{},s={...t.request&&t.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},i={...t.request,...e&&{url:e},headers:s};t.request=i}}),hS=(t={})=>{const e=t.limit||5,r=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(n,s,i){const a=i.getOptions();ak(mc,a.stackParser,a.maxValueLength,r,e,n,s)}}};var hl="new",$d="loading",Fd="loaded",na="joining-meeting",Hr="joined-meeting",zr="left-meeting",mr="error",pS="blocked",vS="off",mS="sendable",gS="loading",yS="interrupted",Dp="playable",Is="unknown",Np="full",_S="lobby",bS="none",$p="base",wS="*",kS="ejected",SS="nbf-room",ES="nbf-token",CS="exp-room",TS="exp-token",pl="no-room",AS="meeting-full",Fp="end-of-life",PS="not-allowed",Up="connection-error",xS="cam-in-use",OS="mic-in-use",MS="cam-mic-in-use",LS="permissions",IS="undefined-mediadevices",jS="not-found",RS="constraints",DS="unknown",qp="iframe-ready-for-launch-config",zp="iframe-launch-config",Bp="theme-updated",Vp="loading",Wp="load-attempt-failed",vl="loaded",Jp="started-camera",Gp="camera-error",Hp="joining-meeting",Yp="joined-meeting",Kp="left-meeting",Qp="participant-joined",Xp="participant-updated",Zp="participant-left",ev="participant-counts-updated",tv="access-state-updated",rv="meeting-session-summary-updated",nv="meeting-session-state-updated",NS="meeting-session-data-error",iv="waiting-participant-added",sv="waiting-participant-updated",av="waiting-participant-removed",ov="track-started",lv="track-stopped",cv="transcription-started",uv="transcription-stopped",dv="transcription-error",ml="recording-started",gl="recording-stopped",fv="recording-stats",hv="recording-error",pv="recording-upload-completed",vv="recording-data",mv="app-message",gv="transcription-message",yv="remote-media-player-started",_v="remote-media-player-updated",bv="remote-media-player-stopped",wv="local-screen-share-started",kv="local-screen-share-stopped",Sv="local-screen-share-canceled",Ev="active-speaker-change",Cv="active-speaker-mode-change",Tv="network-quality-change",Av="network-connection",Pv="cpu-load-change",xv="face-counts-updated",Oi="fullscreen",Mi="exited-fullscreen",Ov="live-streaming-started",Mv="live-streaming-updated",Lv="live-streaming-stopped",Iv="live-streaming-error",jv="lang-updated",Rv="receive-settings-updated",yl="input-settings-updated",_l="nonfatal-error",bl="error",so=4096,Ud=102400,ao="iframe-call-message",qd="local-screen-start",zd="daily-method-update-live-streaming-endpoints",_s="transmit-log",Er="daily-custom-track",js={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},Dv={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},wl={PLAY:"play",PAUSE:"pause"},oo=["jpg","png","jpeg"],$S="add-endpoints",FS="remove-endpoints",Bd="sip-call-transfer";function Dt(){return!xe()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function xe(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function Nv(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function US(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(t,e){if(!t||!e)return!0;switch(t){case"Chrome":return e.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(e.major===13&&e.minor===0&&e.point===0);case"Firefox":return e.major>=67}return!0}(Pn(),ia())||xe())}function Vd(){if(xe()||!document)return!1;var t=document.createElement("iframe");return!!t.requestFullscreen||!!t.webkitRequestFullscreen}var qS=function(){try{var t=document.createElement("canvas"),e=t.getContext("webgl2")!=null;return t.remove(),e}catch{return!1}}();function $v(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!xe()&&!!qS&&(t?function(){return Jd()?!1:["Chrome","Firefox"].includes(Pn())}():function(){if(Jd())return!1;var e=Pn();if(e==="Safari"){var r=_c();if(r.major<15||r.major===15&&r.minor<4)return!1}return e==="Chrome"?yc().major>=77:e==="Firefox"?bc().major>=97:["Chrome","Firefox","Safari"].includes(e)}())}function Fv(){if(xe()||Uv()||typeof AudioWorkletNode>"u")return!1;switch(Pn()){case"Chrome":case"Firefox":return!0;case"Safari":var t=ia();return t.major>17||t.major===17&&t.minor>=4}return!1}function Wd(){return Nv()&&!function(){var t,e=Pn();if(!Dt())return!0;switch(e){case"Chrome":return(t=yc()).major&&t.major>0&&t.major<75;case"Firefox":return(t=bc()).major<91;case"Safari":return(t=_c()).major<13||t.major===13&&t.minor<1;default:return!0}}()}function Uv(){return Dt().match(/Linux; Android/)}function Jd(){var t,e,r=Dt(),n=r.match(/Mac/)&&(!xe()&&typeof window<"u"&&(t=window)!==null&&t!==void 0&&(e=t.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(r.match(/Mobi/)||r.match(/Android/)||n)||!!Dt().match(/DailyAnd\//)||void 0}function Pn(){if(typeof window<"u"){var t=Dt();return qv()?"Safari":t.indexOf("Edge")>-1?"Edge":t.match(/Chrome\//)?"Chrome":t.indexOf("Safari")>-1||zv()?"Safari":t.indexOf("Firefox")>-1?"Firefox":t.indexOf("MSIE")>-1||t.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function ia(){switch(Pn()){case"Chrome":return yc();case"Safari":return _c();case"Firefox":return bc();case"Edge":return function(){var t=0,e=0;if(typeof window<"u"){var r=Dt().match(/Edge\/(\d+).(\d+)/);if(r)try{t=parseInt(r[1]),e=parseInt(r[2])}catch{}}return{major:t,minor:e}}()}}function yc(){var t=0,e=0,r=0,n=0,s=!1;if(typeof window<"u"){var i=Dt(),a=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(a)try{t=parseInt(a[1]),e=parseInt(a[2]),r=parseInt(a[3]),n=parseInt(a[4]),s=i.indexOf("OPR/")>-1}catch{}}return{major:t,minor:e,build:r,patch:n,opera:s}}function qv(){return!!Dt().match(/iPad|iPhone|iPod/i)&&Nv()}function zv(){return Dt().indexOf("AppleWebKit/605.1.15")>-1}function _c(){var t=0,e=0,r=0;if(typeof window<"u"){var n=Dt().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(n)try{t=parseInt(n[1]),e=parseInt(n[2]),r=parseInt(n[4])}catch{}else(qv()||zv())&&(t=14,e=0,r=3)}return{major:t,minor:e,point:r}}function bc(){var t=0,e=0;if(typeof window<"u"){var r=Dt().match(/Firefox\/(\d+).(\d+)/);if(r)try{t=parseInt(r[1]),e=parseInt(r[2])}catch{}}return{major:t,minor:e}}var Bv=function(){function t(){Qt(this,t)}return Xt(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,r,n){wi()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,r,n){wi()}},{key:"sendMessageToCallMachine",value:function(e,r,n,s){wi()}},{key:"sendMessageToDailyJs",value:function(e,r){wi()}},{key:"removeListener",value:function(e){wi()}}]),t}();function Gd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function lo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gd(Object(r),!0).forEach(function(n){br(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gd(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Kt(t);if(e){var s=Kt(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Ta(this,r)}}var BS=function(){Ca(e,Bv);var t=zS(e);function e(){var r;return Qt(this,e),(r=t.call(this))._wrappedListeners={},r._messageCallbacks={},r}return Xt(e,[{key:"addListenerForMessagesFromCallMachine",value:function(r,n,s){var i=this,a=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===n)&&(!o.data.from||o.data.from!=="module")){var l=lo({},o.data);if(delete l.from,l.callbackStamp&&i._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;i._messageCallbacks[c].call(s,l),delete i._messageCallbacks[c]}delete l.what,delete l.callbackStamp,r.call(s,l)}};this._wrappedListeners[r]=a,window.addEventListener("message",a)}},{key:"addListenerForMessagesFromDailyJs",value:function(r,n,s){var i=function(a){var o;if(!(!a.data||a.data.what!==ao||!a.data.action||a.data.from&&a.data.from!=="module"||a.data.callClientId&&n&&a.data.callClientId!==n||a!=null&&(o=a.data)!==null&&o!==void 0&&o.callFrameId)){var l=a.data;r.call(s,l)}};this._wrappedListeners[r]=i,window.addEventListener("message",i)}},{key:"sendMessageToCallMachine",value:function(r,n,s,i){if(!s)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var a=lo({},r);if(a.what=ao,a.from="module",a.callClientId=s,n){var o=Aa();this._messageCallbacks[o]=n,a.callbackStamp=o}var l=i?i.contentWindow:window,c=this._callMachineTargetOrigin(i);c&&l.postMessage(a,c)}},{key:"sendMessageToDailyJs",value:function(r,n){r.what=ao,r.callClientId=n,r.from="embedded",window.postMessage(r,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(r){var n=this._wrappedListeners[r];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[r])}},{key:"forwardPackagedMessageToCallMachine",value:function(r,n,s){var i=lo({},r);i.callClientId=s;var a=n?n.contentWindow:window,o=this._callMachineTargetOrigin(n);o&&a.postMessage(i,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(r,n){var s=function(i){if(i.data&&i.data.what==="iframe-call-message"&&(!i.data.callClientId||i.data.callClientId===n)&&(!i.data.from||i.data.from!=="module")){var a=i.data;r(a)}};return this._wrappedListeners[r]=s,window.addEventListener("message",s),r}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(r){var n=this._wrappedListeners[r];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[r])}},{key:"_callMachineTargetOrigin",value:function(r){return r?r.src?new URL(r.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}]),e}();function Hd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function VS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Kt(t);if(e){var s=Kt(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Ta(this,r)}}var WS=function(){Ca(e,Bv);var t=VS(e);function e(){var r;return Qt(this,e),r=t.call(this),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new kr.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new kr.EventEmitter,r._wrappedListeners={},r._messageCallbacks={},r}return Xt(e,[{key:"addListenerForMessagesFromCallMachine",value:function(r,n,s){this._addListener(r,global.callMachineToDailyJsEmitter,n,s,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(r,n,s){this._addListener(r,global.dailyJsToCallMachineEmitter,n,s,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(r,n,s){this._sendMessage(r,global.dailyJsToCallMachineEmitter,s,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(r,n){this._sendMessage(r,global.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(r){var n=this._wrappedListeners[r];n&&(global.callMachineToDailyJsEmitter.removeListener("message",n),global.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[r])}},{key:"_addListener",value:function(r,n,s,i,a){var o=this,l=function(c){if(c.callClientId===s){if(c.callbackStamp&&o._messageCallbacks[c.callbackStamp]){var d=c.callbackStamp;o._messageCallbacks[d].call(i,c),delete o._messageCallbacks[d]}r.call(i,c)}};this._wrappedListeners[r]=l,n.addListener("message",l)}},{key:"_sendMessage",value:function(r,n,s,i,a){var o=function(c){for(var d=1;d<arguments.length;d++){var f=arguments[d]!=null?arguments[d]:{};d%2?Hd(Object(f),!0).forEach(function(h){br(c,h,f[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(f)):Hd(Object(f)).forEach(function(h){Object.defineProperty(c,h,Object.getOwnPropertyDescriptor(f,h))})}return c}({},r);if(o.callClientId=s,i){var l=Aa();this._messageCallbacks[l]=i,o.callbackStamp=l}n.emit("message",o)}}]),e}(),kl="replace",Sl="shallow-merge",Yd=[kl,Sl],JS=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.data,n=e.mergeStrategy,s=n===void 0?kl:n;Qt(this,t),t._validateMergeStrategy(s),t._validateData(r,s),this.mergeStrategy=s,this.data=r}return Xt(t,[{key:"isNoOp",value:function(){return t.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(e,r){return Object.keys(e).length===0&&r===Sl}},{key:"_validateMergeStrategy",value:function(e){if(!Yd.includes(e))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(Yd,"]"))}},{key:"_validateData",value:function(e,r){if(!function(o){if(o==null||Ie(o)!=="object")return!1;var l=Object.getPrototypeOf(o);return l==null||l===Object.prototype}(e))throw Error("Meeting session data must be a plain (map-like) object");var n;try{if(n=JSON.stringify(e),r===kl){var s=JSON.parse(n);yt(s,e)||console.warn("The meeting session data provided will be modified when serialized.",s,e)}else if(r===Sl){for(var i in e)if(Object.hasOwnProperty.call(e,i)&&e[i]!==void 0){var a=JSON.parse(JSON.stringify(e[i]));yt(e[i],a)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",a,e[i])}}}catch(o){throw Error("Meeting session data must be serializable to JSON: ".concat(o))}if(n.length>Ud)throw Error("Meeting session data is too large (".concat(n.length," characters). Maximum size suppported is ").concat(Ud,"."))}}]),t}();function El(t,e,r){return El=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct.bind():function(n,s,i){var a=[null];a.push.apply(a,s);var o=new(Function.bind.apply(n,a));return i&&Bi(o,i.prototype),o},El.apply(null,arguments)}function Cl(t){var e=typeof Map=="function"?new Map:void 0;return Cl=function(r){if(r===null||(n=r,Function.toString.call(n).indexOf("[native code]")===-1))return r;var n;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,s)}function s(){return El(r,arguments,Kt(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Bi(s,r)},Cl(t)}function GS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Kt(t);if(e){var s=Kt(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Ta(this,r)}}function Kd(t){var e,r=(e=window._daily)===null||e===void 0?void 0:e.pendings;if(r){var n=r.indexOf(t);n!==-1&&r.splice(n,1)}}var HS=function(){function t(e){Qt(this,t),this._currentLoad=null,this._callClientId=e}return Xt(t,[{key:"load",value:function(){var e,r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void s(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new YS(n,function(){s(!1)},function(a,o){o||Kd(r._callClientId),i(a,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),Kd(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}]),t}(),YS=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;Qt(this,t),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=e,this._successCallback=r,this._failureCallback=n}return Xt(t,[{key:"start",value:function(){var e=this;this._currentAttempt||(this._currentAttempt=new Qd(this._dailyConfig,this._successCallback,function r(n){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(n,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new Qd(e._dailyConfig,e._successCallback,r),e._currentAttempt.start())},3e3))}),this._currentAttempt.start())}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}]),t}(),co=function(){Ca(e,Cl(Error));var t=GS(e);function e(){return Qt(this,e),t.apply(this,arguments)}return Xt(e)}(),sa=2e4,Qd=function(){function t(r,n,s){Qt(this,t),this._loadAttemptImpl=xe()||!r.avoidEval?new KS(r,n,s):new QS(r,n,s)}var e;return Xt(t,[{key:"start",value:(e=le(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]),t}(),KS=function(){function t(i,a,o){Qt(this,t),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=a,this._failureCallback=o}var e,r,n,s;return Xt(t,[{key:"start",value:(s=le(function*(){var i=Ks(this._dailyConfig);!(yield this._tryLoadFromIOSCache(i))&&this._loadFromNetwork(i)}),function(){return s.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=le(function*(i){if(!this._iosCache)return!1;try{var a=yield this._iosCache.get(i);return!!this.cancelled||!!a&&(a.code?(Function('"use strict";'+a.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=a.refetchHeaders,!1))}catch{return!1}}),function(i){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(r=le(function*(i){var a=this;this._networkTimeout=setTimeout(function(){a._networkTimedOut=!0,a._failureCallback({msg:"Timed out (>".concat(sa," ms) when loading call object bundle ").concat(i),type:"timeout"})},sa);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(i,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new co;var c=yield this._getBundleCodeFromResponse(i,l);if(this.cancelled)throw new co;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(i,c,l.headers),this.succeeded=!0,this._successCallback()}catch(d){if(clearTimeout(this._networkTimeout),d instanceof co||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(i,": ").concat(d),type:d.message})}}),function(i){return r.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=le(function*(i,a){if(a.ok)return yield a.text();if(this._iosCache&&a.status===304)return(yield this._iosCache.renew(i,a.headers)).code;throw new Error("Received ".concat(a.status," response"))}),function(i,a){return e.apply(this,arguments)})}]),t}(),QS=function(){function t(e,r,n){Qt(this,t),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=e,this._successCallback=r,this._failureCallback=n,this._attemptId=Aa(),this._networkTimeout=null,this._scriptElement=null}return Xt(t,[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=Ks(this._dailyConfig);(typeof document>"u"?"undefined":Ie(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var r=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){r._stopLoading(),r._failureCallback({msg:"Timed out (>".concat(sa," ms) when loading call object bundle ").concat(e),type:"timeout"})},sa);var n=document.getElementsByTagName("head")[0],s=document.createElement("script");this._scriptElement=s,s.onload=function(){r._stopLoading(),r.succeeded=!0,r._successCallback()},s.onerror=function(i){r._stopLoading(),r._failureCallback({msg:"Failed to load call object bundle ".concat(i.target.src),type:i.message})},s.src=e,n.appendChild(s)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}]),t}(),bs=function(t,e,r){return ZS(t.local,e,r)===!0},XS=function(t,e,r){return t.local.streams&&t.local.streams[e]&&t.local.streams[e].stream&&t.local.streams[e].stream["get".concat(r==="video"?"Video":"Audio","Tracks")]()[0]},Jn=function(t,e,r,n){var s=eE(t,e,r,n);return s&&s.pendingTrack},ZS=function(t,e,r){if(!t)return!1;var n=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},s=t.public.subscribedTracks;return s&&s[e]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(r)===-1&&s[e].custom?[!0,"staged"].includes(s[e].custom)?n(s[e].custom):n(s[e].custom[r]):n(s[e][r]):!s||n(s.ALL)},eE=function(t,e,r,n){var s=Object.values(t.streams||{}).filter(function(i){return i.participantId===e&&i.type===r&&i.pendingTrack&&i.pendingTrack.kind===n}).sort(function(i,a){return new Date(a.starttime)-new Date(i.starttime)});return s&&s[0]},tE=function(t,e){var r=t.local.public.customTracks;if(r&&r[e])return r[e].track};function Xd(t,e){for(var r=e.getState(),n=0,s=["cam","screen"];n<s.length;n++)for(var i=s[n],a=0,o=["video","audio"];a<o.length;a++){var l=o[a],c=i==="cam"?l:"screen".concat(l.charAt(0).toUpperCase()+l.slice(1)),d=t.tracks[c];if(d){var f=t.local?XS(r,i,l):Jn(r,t.session_id,i,l);d.state==="playable"&&(d.track=f),d.persistentTrack=f}}}function Zd(t,e){try{var r=e.getState();for(var n in t.tracks)if(!rE(n)){var s=t.tracks[n].kind;if(s){var i=t.tracks[n];if(i){var a=t.local?tE(r,n):Jn(r,t.session_id,n,s);i.state==="playable"&&(t.tracks[n].track=a),i.persistentTrack=a}}else console.error("unknown type for custom track")}}catch(o){console.error(o)}}function rE(t){return["video","audio","screenVideo","screenAudio"].includes(t)}function ef(t,e,r){var n=r.getState();if(t.local){if(t.audio)try{t.audioTrack=n.local.streams.cam.stream.getAudioTracks()[0],t.audioTrack||(t.audio=!1)}catch{}if(t.video)try{t.videoTrack=n.local.streams.cam.stream.getVideoTracks()[0],t.videoTrack||(t.video=!1)}catch{}if(t.screen)try{t.screenVideoTrack=n.local.streams.screen.stream.getVideoTracks()[0],t.screenAudioTrack=n.local.streams.screen.stream.getAudioTracks()[0],t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch{}}else{var s=!0;try{var i=n.participants[t.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(s=!1)}catch(d){console.error(d)}if(!s)return t.audio=!1,t.audioTrack=!1,t.video=!1,t.videoTrack=!1,t.screen=!1,void(t.screenTrack=!1);try{if(n.streams,t.audio&&bs(n,t.session_id,"cam-audio")){var a=Jn(n,t.session_id,"cam","audio");a&&(e&&e.audioTrack&&e.audioTrack.id===a.id?t.audioTrack=a:a.muted||(t.audioTrack=a)),t.audioTrack||(t.audio=!1)}if(t.video&&bs(n,t.session_id,"cam-video")){var o=Jn(n,t.session_id,"cam","video");o&&(e&&e.videoTrack&&e.videoTrack.id===o.id?t.videoTrack=o:o.muted||(t.videoTrack=o)),t.videoTrack||(t.video=!1)}if(t.screen&&bs(n,t.session_id,"screen-audio")){var l=Jn(n,t.session_id,"screen","audio");l&&(e&&e.screenAudioTrack&&e.screenAudioTrack.id===l.id?t.screenAudioTrack=l:l.muted||(t.screenAudioTrack=l))}if(t.screen&&bs(n,t.session_id,"screen-video")){var c=Jn(n,t.session_id,"screen","video");c&&(e&&e.screenVideoTrack&&e.screenVideoTrack.id===c.id?t.screenVideoTrack=c:c.muted||(t.screenVideoTrack=c))}t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function nE(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(l,c){if(l){if(typeof l=="string")return tf(l,c);var d=Object.prototype.toString.call(l).slice(8,-1);if(d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set")return Array.from(l);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return tf(l,c)}}(t))||e){r&&(t=r);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,i=l},f:function(){try{a||r.return==null||r.return()}finally{if(o)throw i}}}}function tf(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var nr=new Map,Qn=null;function iE(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(l,c){if(l){if(typeof l=="string")return rf(l,c);var d=Object.prototype.toString.call(l).slice(8,-1);if(d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set")return Array.from(l);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return rf(l,c)}}(t))||e){r&&(t=r);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,i=l},f:function(){try{a||r.return==null||r.return()}finally{if(o)throw i}}}}function rf(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ir=new Map,$i=null;function sE(t){Vv()?function(e){nr.has(e)||(nr.set(e,{}),navigator.mediaDevices.enumerateDevices().then(function(r){nr.has(e)&&(nr.get(e).lastDevicesString=JSON.stringify(r),Qn||(Qn=function(){var n=le(function*(){var s,i=yield navigator.mediaDevices.enumerateDevices(),a=nE(nr.keys());try{for(a.s();!(s=a.n()).done;){var o=s.value,l=JSON.stringify(i);l!==nr.get(o).lastDevicesString&&(nr.get(o).lastDevicesString=l,o(i))}}catch(c){a.e(c)}finally{a.f()}});return function(){return n.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",Qn)))}).catch(function(){}))}(t):function(e){ir.has(e)||(ir.set(e,{}),navigator.mediaDevices.enumerateDevices().then(function(r){ir.has(e)&&(ir.get(e).lastDevicesString=JSON.stringify(r),$i||($i=setInterval(le(function*(){var n,s=yield navigator.mediaDevices.enumerateDevices(),i=iE(ir.keys());try{for(i.s();!(n=i.n()).done;){var a=n.value,o=JSON.stringify(s);o!==ir.get(a).lastDevicesString&&(ir.get(a).lastDevicesString=o,a(s))}}catch(l){i.e(l)}finally{i.f()}}),3e3)))}))}(t)}function aE(t){Vv()?function(e){nr.has(e)&&(nr.delete(e),nr.size===0&&Qn&&(navigator.mediaDevices.removeEventListener("devicechange",Qn),Qn=null))}(t):function(e){ir.has(e)&&(ir.delete(e),ir.size===0&&$i&&(clearInterval($i),$i=null))}(t)}function Vv(){var t;return xe()||((t=navigator.mediaDevices)===null||t===void 0?void 0:t.ondevicechange)!==void 0}var oE=new Set;function lE(t,e){return t&&t.readyState==="live"&&!function(r,n){return r.muted&&!oE.has(r.id)}(t)}var cE=["result"],uE=["preserveIframe"];function nf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nf(Object(r),!0).forEach(function(n){br(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nf(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dE(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Kt(t);if(e){var s=Kt(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Ta(this,r)}}function sf(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(l,c){if(l){if(typeof l=="string")return af(l,c);var d=Object.prototype.toString.call(l).slice(8,-1);if(d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set")return Array.from(l);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return af(l,c)}}(t))||e){r&&(t=r);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,i=l},f:function(){try{a||r.return==null||r.return()}finally{if(o)throw i}}}}function af(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var cn={},of="video",fE="voice",lf=xe()?{data:{}}:{data:{},topology:"none"},cf={present:0,hidden:0},Wv={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},uo=Object.keys(Wv),uf=["state","volume","simulcastEncodings"],df={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},aa={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},Tl={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},un={customIntegrations:{validate:Zv,help:Qv()},customTrayButtons:{validate:Xv,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(aa))},url:{validate:function(t){return typeof t=="string"},help:"url should be a string"},baseUrl:{validate:function(t){return typeof t=="string"},help:"baseUrl should be a string"},token:{validate:function(t){return typeof t=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(t,e){try{return e.validateDailyConfig(t),!0}catch(r){console.error("Failed to validate dailyConfig",r)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(t){return em(t,df)},help:"reactNativeConfig should look like ".concat(JSON.stringify(df),", all fields optional")},lang:{validate:function(t){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(t)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(t){try{return Jv(t),!0}catch(e){return console.error(e),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalVideo=t,!0;var r;if(t instanceof MediaStreamTrack)e._sharedTracks.videoTrack=t,r={customTrack:Er};else{if(delete e._sharedTracks.videoTrack,typeof t!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:t}}return e._updatePreloadCacheInputSettings({video:{settings:r}},!1),!0}},audioSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalAudio=t,!0;var r;if(t instanceof MediaStreamTrack)e._sharedTracks.audioTrack=t,r={customTrack:Er};else{if(delete e._sharedTracks.audioTrack,typeof t!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:t}}return e._updatePreloadCacheInputSettings({audio:{settings:r}},!1),!0}},subscribeToTracksAutomatically:{validate:function(t,e){return e._preloadCache.subscribeToTracksAutomatically=t,!0}},theme:{validate:function(t){var e=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],r=function(n){for(var s=0,i=Object.keys(n);s<i.length;s++){var a=i[s];if(!e.includes(a))return console.error('unsupported color "'.concat(a,'". Valid colors: ').concat(e.join(", "))),!1;if(!n[a].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(a,' theme color should be provided in valid hex color format. Received: "').concat(n[a],'"')),!1}return!0};return Ie(t)==="object"&&("light"in t&&"dark"in t||"colors"in t)?"light"in t&&"dark"in t?"colors"in t.light?"colors"in t.dark?r(t.light.colors)&&r(t.dark.colors):(console.error('Dark theme is missing "colors" property.',t),!1):(console.error('Light theme is missing "colors" property.',t),!1):r(t.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',t),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(t){if("grid"in t){var e=t.grid;if("maxTilesPerPage"in e){if(!Number.isInteger(e.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(e.maxTilesPerPage,".")),!1;if(e.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in e){if(!Number.isInteger(e.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(e.minTilesPerPage,".")),!1;if(e.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in e&&e.minTilesPerPage>e.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(t){return Gv(t,{allowAllParticipantsKey:!1})},help:Kv({allowAllParticipantsKey:!1})},sendSettings:{validate:function(t,e){return!!function(r,n){try{return n.validateUpdateSendSettings(r),!0}catch(s){return console.error("Failed to validate send settings",s),!1}}(t,e)&&(e._preloadCache.sendSettings=t,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(t,e){var r;return!!Hv(t)&&(e._inputSettings||(e._inputSettings={}),Yv(t,(r=e.properties)===null||r===void 0?void 0:r.dailyConfig,e._sharedTracks),e._updatePreloadCacheInputSettings(t,!0),!0)},help:Al()},layout:{validate:function(t){return t==="custom-v1"||t==="browser"||t==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},ws={styles:{validate:function(t){for(var e in t)if(e!=="cam"&&e!=="screen")return!1;if(t.cam){for(var r in t.cam)if(r!=="div"&&r!=="video")return!1}if(t.screen){for(var n in t.screen)if(n!=="div"&&n!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(t,e){if(e._preloadCache.subscribeToTracksAutomatically)return!1;var r=[!0,!1,"staged"];if(r.includes(t)||!xe()&&t==="avatar")return!0;var n=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"];return function s(i){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var o in i)if(o==="custom"){if(!r.includes(i[o])&&!s(i[o],!0))return!1}else{var l=!a&&!n.includes(o),c=!r.includes(i[o]);if(l||c)return!1}return!0}(t)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(xe()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(t){return t===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(t){for(var e=0,r=Object.entries(t);e<r.length;e++){var n=cr(r[e],2),s=n[0],i=n[1];switch(s){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var a,o=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],l=sf(i);try{for(l.s();!(a=l.n()).done;){var c=a.value;if(!o.includes(c))return!1}}catch(y){l.e(y)}finally{l.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(t.canSend=new Set(i));break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var d,f=["participants","streaming","transcription"],h=sf(i);try{for(h.s();!(d=h.n()).done;){var g=d.value;if(!f.includes(g))return!1}}catch(y){h.e(y)}finally{h.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(t.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var t=le(function*(e){return new Promise(function(r,n){var s=[];e.forEach(function(i){return Promise.resolve(i).then(function(a){r(a)}).catch(function(a){s.push(a),s.length===e.length&&n(s)})})})});return function(e){return t.apply(this,arguments)}}());var hE=function(){Ca(Z,kr);var t,e,r,n,s,i,a,o,l,c,d,f,h,g,y,b,_,A,C,P,w,k,T,O,I,z,V,D,B,M,F,W,Y,Q,X,pe,be,$,De=dE(Z);function Z(u){var m,v,E,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Qt(this,Z),br(vr(v=De.call(this)),"startListeningForDeviceChanges",function(){sE(v.handleDeviceChange)}),br(vr(v),"stopListeningForDeviceChanges",function(){aE(v.handleDeviceChange)}),br(vr(v),"handleDeviceChange",function(L){L=L.map(function(U){return JSON.parse(JSON.stringify(U))}),v.emitDailyJSEvent({action:"available-devices-updated",availableDevices:L})}),br(vr(v),"handleNativeAppStateChange",function(){var L=le(function*(U){if(U==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield v.destroy());var G=U==="active";v.disableReactNativeAutoDeviceManagement("video")||(G?v.camUnmutedBeforeLosingNativeActiveState&&v.setLocalVideo(!0):(v.camUnmutedBeforeLosingNativeActiveState=v.localVideo(),v.camUnmutedBeforeLosingNativeActiveState&&v.setLocalVideo(!1)))});return function(U){return L.apply(this,arguments)}}()),br(vr(v),"handleNativeAudioFocusChange",function(L){v.disableReactNativeAutoDeviceManagement("audio")||(v._hasNativeAudioFocus=L,v.toggleParticipantAudioBasedOnNativeAudioFocus(),v._hasNativeAudioFocus?v.micUnmutedBeforeLosingNativeAudioFocus&&v.setLocalAudio(!0):(v.micUnmutedBeforeLosingNativeAudioFocus=v.localAudio(),v.setLocalAudio(!1)))}),br(vr(v),"handleNativeSystemScreenCaptureStop",function(){v.stopScreenShare()}),v.strictMode=S.strictMode===void 0||S.strictMode,v.allowMultipleCallInstances=(m=S.allowMultipleCallInstances)!==null&&m!==void 0&&m,Object.keys(cn).length&&(v._logDuplicateInstanceAttempt(),!v.allowMultipleCallInstances)){if(v.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),v.callClientId=Aa(),E=vr(v),cn[E.callClientId]=E,window._daily.instances[v.callClientId]={},v._sharedTracks={},window._daily.instances[v.callClientId].tracks=v._sharedTracks,S.dailyJsVersion=Z.version(),v._iframe=u,v._callObjectMode=S.layout==="none"&&!v._iframe,v._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},S.showLocalVideo!==void 0?v._callObjectMode?console.error("showLocalVideo is not available in call object mode"):v._showLocalVideo=!!S.showLocalVideo:v._showLocalVideo=!0,S.showParticipantsBar!==void 0?v._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):v._showParticipantsBar=!!S.showParticipantsBar:v._showParticipantsBar=!0,S.customIntegrations!==void 0?v._callObjectMode?console.error("customIntegrations is not available in call object mode"):v._customIntegrations=S.customIntegrations:v._customIntegrations={},S.customTrayButtons!==void 0?v._callObjectMode?console.error("customTrayButtons is not available in call object mode"):v._customTrayButtons=S.customTrayButtons:v._customTrayButtons={},S.activeSpeakerMode!==void 0?v._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):v._activeSpeakerMode=!!S.activeSpeakerMode:v._activeSpeakerMode=!1,S.receiveSettings?v._callObjectMode?v._receiveSettings=S.receiveSettings:console.error("receiveSettings is only available in call object mode"):v._receiveSettings={},v.validateProperties(S),v.properties=se({},S),v._inputSettings||(v._inputSettings={}),v._callObjectLoader=v._callObjectMode?new HS(v.callClientId):null,v._callState=hl,v._isPreparingToJoin=!1,v._accessState={access:Is},v._meetingSessionSummary={},v._finalSummaryOfPrevSession={},v._meetingSessionState=po(lf,v._callObjectMode),v._nativeInCallAudioMode=of,v._participants={},v._isScreenSharing=!1,v._participantCounts=cf,v._rmpPlayerState={},v._waitingParticipants={},v._network={threshold:"good",quality:100},v._activeSpeaker={},v._localAudioLevel=0,v._isLocalAudioLevelObserverRunning=!1,v._remoteParticipantsAudioLevel={},v._isRemoteParticipantsAudioLevelObserverRunning=!1,v._maxAppMessageSize=so,v._messageChannel=xe()?new WS:new BS,v._iframe&&(v._iframe.requestFullscreen?v._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===v._iframe?(v.emitDailyJSEvent({action:Oi}),v.sendMessageToCallMachine({action:Oi})):(v.emitDailyJSEvent({action:Mi}),v.sendMessageToCallMachine({action:Mi}))}):v._iframe.webkitRequestFullscreen&&v._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===v._iframe?(v.emitDailyJSEvent({action:Oi}),v.sendMessageToCallMachine({action:Oi})):(v.emitDailyJSEvent({action:Mi}),v.sendMessageToCallMachine({action:Mi}))})),xe()){var R=v.nativeUtils();R.addAudioFocusChangeListener&&R.removeAudioFocusChangeListener&&R.addAppStateChangeListener&&R.removeAppStateChangeListener&&R.addSystemScreenCaptureStopListener&&R.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),v._hasNativeAudioFocus=!0,R.addAudioFocusChangeListener(v.handleNativeAudioFocusChange),R.addAppStateChangeListener(v.handleNativeAppStateChange),R.addSystemScreenCaptureStopListener(v.handleNativeSystemScreenCaptureStop)}return v._callObjectMode&&v.startListeningForDeviceChanges(),v._messageChannel.addListenerForMessagesFromCallMachine(v.handleMessageFromCallMachine,v.callClientId,vr(v)),v}return Xt(Z,[{key:"destroy",value:($=le(function*(){var u,m;try{yield this.leave()}catch{}var v=this._iframe;if(v){var E=v.parentElement;E&&E.removeChild(v)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),xe()){var S=this.nativeUtils();S.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),S.removeAppStateChangeListener(this.handleNativeAppStateChange),S.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete cn[this.callClientId],!((u=window)===null||u===void 0||(m=u._daily)===null||m===void 0)&&m.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return $.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(u){var m=u.bodyClass,v=u.cssFile,E=u.cssText;return Ae(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(v),bodyClass:m,cssText:E}),this}},{key:"iframe",value:function(){return Ae(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return Ut(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return Ut(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(u,m){for(var v in m){if(!ws[v])throw new Error("unrecognized updateParticipant property ".concat(v));if(ws[v].validate&&!ws[v].validate(m[v],this,this._participants[u]))throw new Error(ws[v].help)}}},{key:"updateParticipant",value:function(u,m){return this._participants.local&&this._participants.local.session_id===u&&(u="local"),u&&m&&(this.validateParticipantProperties(u,m),this.sendMessageToCallMachine({action:"update-participant",id:u,properties:m})),this}},{key:"updateParticipants",value:function(u){var m=this._participants.local&&this._participants.local.session_id;for(var v in u)v===m&&(v="local"),v&&u[v]&&this.validateParticipantProperties(v,u[v]);return this.sendMessageToCallMachine({action:"update-participants",participants:u}),this}},{key:"updateWaitingParticipant",value:(be=le(function*(){var u=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ut(this._callObjectMode,"updateWaitingParticipant()"),Fe(this._callState,"updateWaitingParticipant()"),typeof m!="string"||Ie(v)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(E,S){u.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:m,updates:v},function(R){R.error&&S(R.error),R.id||S(new Error("unknown error in updateWaitingParticipant()")),E({id:R.id})})})}),function(){return be.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(pe=le(function*(){var u=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ut(this._callObjectMode,"updateWaitingParticipants()"),Fe(this._callState,"updateWaitingParticipants()"),Ie(m)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(v,E){u.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:m},function(S){S.error&&E(S.error),S.ids||E(new Error("unknown error in updateWaitingParticipants()")),v({ids:S.ids})})})}),function(){return pe.apply(this,arguments)})},{key:"requestAccess",value:(X=le(function*(){var u=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=m.access,E=v===void 0?{level:Np}:v,S=m.name,R=S===void 0?"":S;return Ut(this._callObjectMode,"requestAccess()"),Fe(this._callState,"requestAccess()"),new Promise(function(L,U){u.sendMessageToCallMachine({action:"daily-method-request-access",access:E,name:R},function(G){G.error&&U(G.error),G.access||U(new Error("unknown error in requestAccess()")),L({access:G.access,granted:G.granted})})})}),function(){return X.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(u){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in m&&(xe()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),m={}):u&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),m={})),this.sendMessageToCallMachine({action:"local-audio",state:u,options:m}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(u){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:u}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(u){return this.sendMessageToCallMachine({action:"local-video",state:u}),this}},{key:"_setAllowLocalAudio",value:function(u){if(this._preloadCache.allowLocalAudio=u,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:u}),this}},{key:"_setAllowLocalVideo",value:function(u){if(this._preloadCache.allowLocalVideo=u,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:u}),this}},{key:"getReceiveSettings",value:(Q=le(function*(u){var m=this,v=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,E=v!==void 0&&v;if(Ut(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Ie(u)){case"string":return new Promise(function(S){m.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:u,showInheritedValues:E},function(R){S(R.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(u){return Q.apply(this,arguments)})},{key:"updateReceiveSettings",value:(Y=le(function*(u){var m=this;if(Ut(this._callObjectMode,"updateReceiveSettings()"),!Gv(u,{allowAllParticipantsKey:!0}))throw new Error(Kv({allowAllParticipantsKey:!0}));return Fe(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(v){m.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:u},function(E){v({receiveSettings:E.receiveSettings})})})}),function(u){return Y.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(u,m){if(u){var v={};if(u.audio){var E,S,R,L;u.audio.settings&&(!Object.keys(u.audio.settings).length&&m||(v.audio={settings:se({},u.audio.settings)})),m&&(E=v.audio)!==null&&E!==void 0&&(S=E.settings)!==null&&S!==void 0&&S.customTrack&&(v.audio.settings={customTrack:this._sharedTracks.audioTrack});var U=((R=u.audio.processor)===null||R===void 0?void 0:R.type)==="none"&&((L=u.audio.processor)===null||L===void 0?void 0:L._isDefaultWhenNone);if(u.audio.processor&&!U){var G=se({},u.audio.processor);delete G._isDefaultWhenNone,v.audio=se(se({},v.audio),{},{processor:G})}}if(u.video){var ae,te,we,oe;u.video.settings&&(!Object.keys(u.video.settings).length&&m||(v.video={settings:se({},u.video.settings)})),m&&(ae=v.video)!==null&&ae!==void 0&&(te=ae.settings)!==null&&te!==void 0&&te.customTrack&&(v.video.settings={customTrack:this._sharedTracks.videoTrack});var Se=((we=u.video.processor)===null||we===void 0?void 0:we.type)==="none"&&((oe=u.video.processor)===null||oe===void 0?void 0:oe._isDefaultWhenNone);if(u.video.processor&&!Se){var Le=se({},u.video.processor);delete Le._isDefaultWhenNone,v.video=se(se({},v.video),{},{processor:Le})}}return v}}},{key:"getInputSettings",value:function(){var u=this;return Ae(),new Promise(function(m){m(u._getInputSettings())})}},{key:"_getInputSettings",value:function(){var u,m,v,E,S,R,L,U,G={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(u=((v=this._inputSettings)===null||v===void 0?void 0:v.video)||G,m=((E=this._inputSettings)===null||E===void 0?void 0:E.audio)||G):(u=((S=this._preloadCache)===null||S===void 0||(R=S.inputSettings)===null||R===void 0?void 0:R.video)||G,m=((L=this._preloadCache)===null||L===void 0||(U=L.inputSettings)===null||U===void 0?void 0:U.audio)||G);var ae={audio:m,video:u};return this._prepInputSettingsForSharing(ae,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(u,m){var v=this._inputSettings||{},E={};if(u.video){var S,R,L;E.video={},u.video.settings?(E.video.settings={},m||u.video.settings.customTrack||(L=v.video)===null||L===void 0||!L.settings?E.video.settings=u.video.settings:E.video.settings=se(se({},v.video.settings),u.video.settings),Object.keys(E.video.settings).length||delete E.video.settings):(S=v.video)!==null&&S!==void 0&&S.settings&&(E.video.settings=v.video.settings),u.video.processor?E.video.processor=u.video.processor:(R=v.video)!==null&&R!==void 0&&R.processor&&(E.video.processor=v.video.processor)}else v.video&&(E.video=v.video);if(u.audio){var U,G,ae;E.audio={},u.audio.settings?(E.audio.settings={},m||u.audio.settings.customTrack||(ae=v.audio)===null||ae===void 0||!ae.settings?E.audio.settings=u.audio.settings:E.audio.settings=se(se({},v.audio.settings),u.audio.settings),Object.keys(E.audio.settings).length||delete E.audio.settings):(U=v.audio)!==null&&U!==void 0&&U.settings&&(E.audio.settings=v.audio.settings),u.audio.processor?E.audio.processor=u.audio.processor:(G=v.audio)!==null&&G!==void 0&&G.processor&&(E.audio.processor=v.audio.processor)}else v.audio&&(E.audio=v.audio);this._maybeUpdateInputSettings(E)}},{key:"_devicesFromInputSettings",value:function(u){var m,v,E,S,R=(u==null||(m=u.video)===null||m===void 0||(v=m.settings)===null||v===void 0?void 0:v.deviceId)||null,L=(u==null||(E=u.audio)===null||E===void 0||(S=E.settings)===null||S===void 0?void 0:S.deviceId)||null,U=this._preloadCache.outputDeviceId||null;return{camera:R?{deviceId:R}:{},mic:L?{deviceId:L}:{},speaker:U?{deviceId:U}:{}}}},{key:"updateInputSettings",value:(W=le(function*(u){var m=this;return Ae(),Hv(u)?u.video||u.audio?(Yv(u,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(u,!0),this._getInputSettings()):new Promise(function(v,E){m.sendMessageToCallMachine({action:"update-input-settings",inputSettings:u},function(S){if(S.error)E(S.error);else{if(S.returnPreloadCache)return m._updatePreloadCacheInputSettings(u,!0),void v(m._getInputSettings());m._maybeUpdateInputSettings(S.inputSettings),v(m._prepInputSettingsForSharing(S.inputSettings,!0))}})})):this._getInputSettings():(console.error(Al()),Promise.reject(Al()))}),function(u){return W.apply(this,arguments)})},{key:"setBandwidth",value:function(u){var m=u.kbs,v=u.trackConstraints;if(Ae(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:m,trackConstraints:v}),this}},{key:"getDailyLang",value:function(){var u=this;if(Ae(),this._callMachineInitialized)return new Promise(function(m){u.sendMessageToCallMachine({action:"get-daily-lang"},function(v){delete v.action,delete v.callbackStamp,m(v)})})}},{key:"setDailyLang",value:function(u){return Ae(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:u}),this}},{key:"setProxyUrl",value:function(u){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:u}),this}},{key:"setIceConfig",value:function(u){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:u}),this}},{key:"meetingSessionSummary",value:function(){return[zr,mr].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(F=le(function*(){var u=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Fe(this._callState,"getMeetingSession()"),new Promise(function(m){u.sendMessageToCallMachine({action:"get-meeting-session"},function(v){delete v.action,delete v.callbackStamp,m(v)})})}),function(){return F.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Fe(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(u){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";Ut(this._callObjectMode,"setMeetingSessionData()"),Fe(this._callState,"setMeetingSessionData");try{(function(v,E){new JS({data:v,mergeStrategy:E})})(u,m)}catch(v){throw console.error(v),v}try{this.sendMessageToCallMachine({action:"set-session-data",data:u,mergeStrategy:m})}catch(v){throw new Error("Error setting meeting session data: ".concat(v))}}},{key:"setUserName",value:function(u,m){var v=this;return this.properties.userName=u,new Promise(function(E){v.sendMessageToCallMachine({action:"set-user-name",name:u??"",thisMeetingOnly:xe()||!!m&&!!m.thisMeetingOnly},function(S){delete S.action,delete S.callbackStamp,E(S)})})}},{key:"setUserData",value:(M=le(function*(u){var m=this;try{Jv(u)}catch(v){throw console.error(v),v}if(this.properties.userData=u,this._callMachineInitialized)return new Promise(function(v){try{m.sendMessageToCallMachine({action:"set-user-data",userData:u},function(E){delete E.action,delete E.callbackStamp,v(E)})}catch(E){throw new Error("Error setting user data: ".concat(E))}})}),function(u){return M.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(u){if(u&&(u<100||typeof u!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(u){var m=this;if(typeof AudioWorkletNode>"u"&&!xe())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(u),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(v,E){m.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:u},function(S){m._isLocalAudioLevelObserverRunning=!S.error,S.error?E({error:S.error}):v()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:u}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(u){var m=this;if(this.validateAudioLevelInterval(u),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(v,E){m.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:u},function(S){m._isRemoteParticipantsAudioLevelObserverRunning=!S.error,S.error?E({error:S.error}):v()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:u}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(B=le(function*(){var u=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ut(this._callObjectMode,"startCamera()"),fo(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(m)}catch(v){return Promise.reject(v)}else{if(this._didPreAuth){if(m.url&&m.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(m.token&&m.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(m),this.properties=se(se({},this.properties),m)}return new Promise(function(v){u._preloadCache.inputSettings=u._prepInputSettingsForSharing(u._inputSettings,!1),u.sendMessageToCallMachine({action:"start-camera",properties:Un(u.properties,u.callClientId),preloadCache:Un(u._preloadCache,u.callClientId)},function(E){v({camera:E.camera,mic:E.mic,speaker:E.speaker})})})}),function(){return B.apply(this,arguments)})},{key:"validateCustomTrack",value:function(u,m,v){if(v&&v.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(m&&m!=="music"&&m!=="speech"&&!(m instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(v&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(v))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(u instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var u=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName};return Ae(),Fe(this._callState,"startCustomTrack()"),this.validateCustomTrack(m.track,m.mode,m.trackName),new Promise(function(v,E){u._sharedTracks.customTrack=m.track,m.track=Er,u.sendMessageToCallMachine({action:"start-custom-track",properties:m},function(S){S.error?E({error:S.error}):v(S.mediaTag)})})}},{key:"stopCustomTrack",value:function(u){var m=this;return Ae(),Fe(this._callState,"stopCustomTrack()"),new Promise(function(v){m.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:u},function(E){v(E.mediaTag)})})}},{key:"setCamera",value:function(u){var m=this;return Si(),ks(this._callMachineInitialized,"setCamera()"),new Promise(function(v){m.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:u},function(E){v({device:E.device})})})}},{key:"setAudioDevice",value:(D=le(function*(u){return Si(),this.nativeUtils().setAudioDevice(u),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(u){return D.apply(this,arguments)})},{key:"cycleCamera",value:function(){var u=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(v){u.sendMessageToCallMachine({action:"cycle-camera",properties:m},function(E){v({device:E.device})})})}},{key:"cycleMic",value:function(){var u=this;return Ae(),new Promise(function(m){u.sendMessageToCallMachine({action:"cycle-mic"},function(v){m({device:v.device})})})}},{key:"getCameraFacingMode",value:function(){var u=this;return Si(),new Promise(function(m){u.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(v){m(v.facingMode)})})}},{key:"setInputDevicesAsync",value:(V=le(function*(u){var m=this,v=u.audioDeviceId,E=u.videoDeviceId,S=u.audioSource,R=u.videoSource;if(Ae(),S!==void 0&&(v=S),R!==void 0&&(E=R),typeof v=="boolean"&&(this._setAllowLocalAudio(v),v=void 0),typeof E=="boolean"&&(this._setAllowLocalVideo(E),E=void 0),!v&&!E)return yield this.getInputDevices();var L={};return v&&(v instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=v,v=Er,L.audio={settings:{customTrack:v}}):(delete this._sharedTracks.audioTrack,L.audio={settings:{deviceId:v}})),E&&(E instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=E,E=Er,L.video={settings:{customTrack:E}}):(delete this._sharedTracks.videoTrack,L.video={settings:{deviceId:E}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(L,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(U){m.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:v,videoDeviceId:E},function(G){if(delete G.action,delete G.callbackStamp,G.returnPreloadCache)return m._updatePreloadCacheInputSettings(L,!1),void U(m._devicesFromInputSettings(m._inputSettings));U(G)})})}),function(u){return V.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(z=le(function*(u){var m=this,v=u.outputDeviceId;return Ae(),v&&(this._preloadCache.outputDeviceId=v),this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(E){m.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:v},function(S){delete S.action,delete S.callbackStamp,S.returnPreloadCache?E(m._devicesFromInputSettings(m._inputSettings)):E(S)})})}),function(u){return z.apply(this,arguments)})},{key:"getInputDevices",value:(I=le(function*(){var u=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(m){u.sendMessageToCallMachine({action:"get-input-devices"},function(v){v.returnPreloadCache?m(u._devicesFromInputSettings(u._inputSettings)):m({camera:v.camera,mic:v.mic,speaker:v.speaker})})})}),function(){return I.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return Si(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(u){if(Si(),[of,fE].includes(u)){if(u!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=u,!this.disableReactNativeAutoDeviceManagement("audio")&&Rs(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",u)}},{key:"preAuth",value:(O=le(function*(){var u=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ut(this._callObjectMode,"preAuth()"),fo(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(m)),!m.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(m),this.properties=se(se({},this.properties),m),new Promise(function(v,E){u._preloadCache.inputSettings=u._prepInputSettingsForSharing(u._inputSettings,!1),u.sendMessageToCallMachine({action:"daily-method-preauth",properties:Un(u.properties,u.callClientId),preloadCache:Un(u._preloadCache,u.callClientId)},function(S){return S.error?E(S.error):S.access?(u._didPreAuth=!0,void v({access:S.access})):E(new Error("unknown error in preAuth()"))})})}),function(){return O.apply(this,arguments)})},{key:"load",value:(T=le(function*(u){var m=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(u&&(this.validateProperties(u),this.properties=se(se({},this.properties),u)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState($d),this.emitDailyJSEvent({action:Vp}),this._callObjectMode?new Promise(function(v,E){m._callObjectLoader.cancel();var S=Date.now();m._callObjectLoader.load(m.properties.dailyConfig,function(R){m._bundleLoadTime=R?"no-op":Date.now()-S,m._updateCallState(Fd),R&&m.emitDailyJSEvent({action:vl}),v()},function(R,L){if(m.emitDailyJSEvent({action:Wp}),!L){m._updateCallState(mr),m.resetMeetingDependentVars();var U={action:bl,errorMsg:R.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:R,bundleUrl:Ks(m.properties.dailyConfig)}}};m._maybeSendToSentry(U),m.emitDailyJSEvent(U),E(R.msg)}})}):(this._iframe.src=kp(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(v,E){m._loadedCallback=function(S){m._callState!==mr?(m._updateCallState(Fd),(m.properties.cssFile||m.properties.cssText)&&m.loadCss(m.properties),v()):E(S)}}))}}),function(u){return T.apply(this,arguments)})},{key:"join",value:(k=le(function*(){var u=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var v=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(m)}catch(E){return this.updateIsPreparingToJoin(!1),Promise.reject(E)}}else{if(v=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(m.url&&m.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(m.token&&m.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(m.url&&!this._callObjectMode&&m.url&&m.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(m.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(m),this.properties=se(se({},this.properties),m)}return m.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!m.showLocalVideo),m.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!m.showParticipantsBar),this._callState===Hr||this._callState===na?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(na,!1),this.emitDailyJSEvent({action:Hp}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Un(this.properties,this.callClientId),preloadCache:Un(this._preloadCache,this.callClientId)}),new Promise(function(E,S){u._joinedCallback=function(R,L){if(u._callState!==mr){if(u._updateCallState(Hr),R)for(var U in R){if(u._callObjectMode){var G=u._callMachine().store;Xd(R[U],G),Zd(R[U],G),ef(R[U],u._participants[U],G)}u._participants[U]=se({},R[U]),u.toggleParticipantAudioBasedOnNativeAudioFocus()}v&&u.loadCss(u.properties),E(R)}else S(L)}}))}),function(){return k.apply(this,arguments)})},{key:"leave",value:(w=le(function*(){var u=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(m){u._callState===zr||u._callState===mr?m():u._callObjectLoader&&!u._callObjectLoader.loaded?(u._callObjectLoader.cancel(),u._updateCallState(zr),u.resetMeetingDependentVars(),u.emitDailyJSEvent({action:zr}),m()):(u._resolveLeave=m,u.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return w.apply(this,arguments)})},{key:"startScreenShare",value:(P=le(function*(){var u=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(ks(this._callMachineInitialized,"startScreenShare()"),m.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",m.screenVideoSendSettings),m.mediaStream&&(this._sharedTracks.screenMediaStream=m.mediaStream,m.mediaStream=Er),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var v=this.nativeUtils();if(yield v.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:_l,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});v.setSystemScreenCaptureStartCallback(function(){v.setSystemScreenCaptureStartCallback(null),u.sendMessageToCallMachine({action:qd,captureOptions:m})}),v.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:qd,captureOptions:m})}),function(){return P.apply(this,arguments)})},{key:"stopScreenShare",value:function(){ks(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=u.type;if(m&&m!=="cloud"&&m!=="raw-tracks"&&m!=="local")throw new Error("invalid type: ".concat(m,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(se({action:"local-recording-start"},u))}},{key:"updateRecording",value:function(u){var m=u.layout,v=m===void 0?{preset:"default"}:m,E=u.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:v,instanceId:E})}},{key:"stopRecording",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(se({action:"local-recording-stop"},u))}},{key:"startLiveStreaming",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(se({action:"daily-method-start-live-streaming"},u))}},{key:"updateLiveStreaming",value:function(u){var m=u.layout,v=m===void 0?{preset:"default"}:m,E=u.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:v,instanceId:E})}},{key:"addLiveStreamingEndpoints",value:function(u){var m=u.endpoints,v=u.instanceId;this.sendMessageToCallMachine({action:zd,endpointsOp:$S,endpoints:m,instanceId:v})}},{key:"removeLiveStreamingEndpoints",value:function(u){var m=u.endpoints,v=u.instanceId;this.sendMessageToCallMachine({action:zd,endpointsOp:FS,endpoints:m,instanceId:v})}},{key:"stopLiveStreaming",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(se({action:"daily-method-stop-live-streaming"},u))}},{key:"validateDailyConfig",value:function(u){u.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(u.camSimulcastEncodings)),u.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),Uv()&&u.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(u){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(u){if(!(u instanceof Array||Array.isArray(u)))throw new Error("encodings must be an Array");if(!vf(u.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var E=0;E<u.length;E++){var S=u[E];for(var R in this._validateEncodingLayerHasValidProperties(S),S)if(uo.includes(R)){if(typeof S[R]!="number")throw new Error("".concat(R," must be a number"));if(m){var L=m[R],U=L.min,G=L.max;if(!vf(S[R],U,G))throw new Error("".concat(R," value not in range. valid range: ").concat(U," to ").concat(G))}}else if(!["active","scalabilityMode"].includes(R))throw new Error("Invalid key ".concat(R,", valid keys are:")+Object.values(uo));if(v&&!S.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(C=le(function*(u){var m=this,v=u.url,E=u.settings,S=E===void 0?{state:wl.PLAY}:E;try{(function(R){if(typeof R!="string")throw new Error('url parameter must be "string" type')})(v),pf(S),function(R){for(var L in R)if(!uf.includes(L))throw new Error("Invalid key ".concat(L,", valid keys are: ").concat(uf));R.simulcastEncodings&&this.validateSimulcastEncodings(R.simulcastEncodings,Wv,!0)}(S)}catch(R){throw console.error("invalid argument Error: ".concat(R)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),R}return new Promise(function(R,L){m.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:v,settings:S},function(U){U.error?L({error:U.error,errorMsg:U.errorMsg}):R({session_id:U.session_id,remoteMediaPlayerState:{state:U.state,settings:U.settings}})})})}),function(u){return C.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(A=le(function*(u){var m=this;if(typeof u!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(v,E){m.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:u},function(S){S.error?E({error:S.error,errorMsg:S.errorMsg}):v()})})}),function(u){return A.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(_=le(function*(u){var m=this,v=u.session_id,E=u.settings;try{pf(E)}catch(S){throw console.error("invalid argument Error: ".concat(S)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),S}return new Promise(function(S,R){m.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:v,settings:E},function(L){L.error?R({error:L.error,errorMsg:L.errorMsg}):S({session_id:L.session_id,remoteMediaPlayerState:{state:L.state,settings:L.settings}})})})}),function(u){return _.apply(this,arguments)})},{key:"startTranscription",value:function(u){Fe(this._callState,"startTranscription()"),this.sendMessageToCallMachine(se({action:"daily-method-start-transcription"},u))}},{key:"updateTranscription",value:function(u){if(Fe(this._callState,"updateTranscription()"),!u)throw new Error("updateTranscription Error: options is mandatory");if(Ie(u)!=="object")throw new Error("updateTranscription Error: options must be object type");if(u.participants&&!Array.isArray(u.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(se({action:"daily-method-update-transcription"},u))}},{key:"stopTranscription",value:function(u){if(Fe(this._callState,"stopTranscription()"),u&&Ie(u)!=="object")throw new Error("stopTranscription Error: options must be object type");if(u&&!u.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(se({action:"daily-method-stop-transcription"},u))}},{key:"startDialOut",value:(b=le(function*(u){var m=this;Fe(this._callState,"startDialOut()");var v=function(E){if(E){if(!Array.isArray(E))throw new Error("Error starting dial out: audio codec must be an array");if(E.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");E.forEach(function(S){if(typeof S!="string")throw new Error("Error starting dial out: audio codec must be a string");if(S!=="OPUS"&&S!=="PCMU"&&S!=="PCMA"&&S!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!u.sipUri&&!u.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(u.sipUri&&u.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(u.sipUri){if(typeof u.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!u.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(u.video&&typeof u.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(E){if(E&&(v(E.audio),E.video)){if(!Array.isArray(E.video))throw new Error("Error starting dial out: video codec must be an array");if(E.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");E.video.forEach(function(S){if(typeof S!="string")throw new Error("Error starting dial out: video codec must be a string");if(S!=="H264"&&S!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(u.codecs)}if(u.phoneNumber){if(typeof u.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(u.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");u.codecs&&v(u.codecs.audio)}if(u.callerId){if(typeof u.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(u.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(u.displayName){if(typeof u.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(u.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(u.userId){if(typeof u.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(u.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}return new Promise(function(E,S){m.sendMessageToCallMachine(se({action:"dialout-start"},u),function(R){R.error?S(R.error):E(R)})})}),function(u){return b.apply(this,arguments)})},{key:"stopDialOut",value:function(u){var m=this;return Fe(this._callState,"stopDialOut()"),new Promise(function(v,E){m.sendMessageToCallMachine(se({action:"dialout-stop"},u),function(S){S.error?E(S.error):v(S)})})}},{key:"sipCallTransfer",value:(y=le(function*(u){var m=this;if(Fe(this._callState,"sipCallTransfer()"),!u)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return u.useSipRefer=!1,hf(u,"sipCallTransfer"),new Promise(function(v,E){m.sendMessageToCallMachine(se({action:Bd},u),function(S){S.error?E(S.error):v(S)})})}),function(u){return y.apply(this,arguments)})},{key:"sipRefer",value:(g=le(function*(u){var m=this;if(Fe(this._callState,"sipRefer()"),!u)throw new Error("sessionId and toEndPoint are mandatory parameter");return u.useSipRefer=!0,hf(u,"sipRefer"),new Promise(function(v,E){m.sendMessageToCallMachine(se({action:Bd},u),function(S){S.error?E(S.error):v(S)})})}),function(u){return g.apply(this,arguments)})},{key:"sendDTMF",value:(h=le(function*(u){var m=this;return Fe(this._callState,"sendDTMF()"),function(v){var E=v.sessionId,S=v.tones;if(!E||!S)throw new Error("sessionId and tones are mandatory parameter");if(typeof E!="string"||typeof S!="string")throw new Error("sessionId and tones should be of string type");if(S.length>20)throw new Error("tones string must be upto 20 characters");var R=/[^0-9A-D*#]/g,L=S.match(R);if(L&&L[0])throw new Error("".concat(L[0]," is not valid DTMF tone"))}(u),new Promise(function(v,E){m.sendMessageToCallMachine(se({action:"send-dtmf"},u),function(S){S.error?E(S.error):v(S)})})}),function(u){return h.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var u=this;return this._callState!==Hr?{stats:{latest:{}}}:new Promise(function(m){u.sendMessageToCallMachine({action:"get-calc-stats"},function(v){m(se({stats:v.stats},u._network))})})}},{key:"testWebsocketConnectivity",value:(f=le(function*(){var u=this;if(ho(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(m){return Promise.reject(m)}return new Promise(function(m,v){u.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(E){E.error?v(E.error):m(E.results)})})}),function(){return f.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(u){return u?u instanceof MediaStreamTrack?!!lE(u)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(d=le(function*(){var u=this;Ae(),Ut(this._callObjectMode,"testCallQuality()"),ks(this._callMachineInitialized,"testCallQuality()",null,!0),fo(this._callState,this._isPreparingToJoin,"testCallQuality()");var m=this._testCallAlreadyInProgress,v=function(S){m||(u._testCallInProgress=S)};if(v(!0),this.needsLoad())try{var E=this._callState;yield this.load(),this._callState=E}catch(S){return v(!1),Promise.reject(S)}return new Promise(function(S){u.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:u.properties.dailyJsVersion},function(R){var L=R.results,U=L.result,G=xu(L,cE);if(U==="failed"){var ae,te=se({},G);(ae=G.error)!==null&&ae!==void 0&&ae.details?(G.error.details=JSON.parse(G.error.details),te.error=se(se({},te.error),{},{details:se({},te.error.details)}),te.error.details.duringTest="testCallQuality"):(te.error=te.error?se({},te.error):{},te.error.details={duringTest:"testCallQuality"}),u._maybeSendToSentry(te)}v(!1),S(se({result:U},G))})})}),function(){return d.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(c=le(function*(u){var m;xe()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),m=yield this.testPeerToPeerCallQuality(u)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),m=yield this.testCallQuality());var v={result:m.result,secondsElapsed:m.secondsElapsed};return m.data&&(v.data={maxRTT:m.data.maxRoundTripTime,packetLoss:m.data.avgRecvPacketLoss}),v}),function(u){return c.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(l=le(function*(u){var m=this;if(ho(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(S){return Promise.reject(S)}var v=u.videoTrack,E=u.duration;if(!this._validateVideoTrackForNetworkTests(v))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=v,new Promise(function(S,R){m.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:E},function(L){L.error?R(L.error):S(L.results)})})}),function(u){return l.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){xe()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(o=le(function*(u){var m=this;if(ho(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(v){return Promise.reject(v)}if(!this._validateVideoTrackForNetworkTests(u))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=u,new Promise(function(v,E){m.sendMessageToCallMachine({action:"test-network-connectivity"},function(S){S.error?E(S.error):v(S.results)})})}),function(u){return o.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var u=this;return new Promise(function(m){u._callState===Hr?u.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(v){m(v.cpuStats)}):m({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(u){var m;if(!(((m=Object.keys(u))===null||m===void 0?void 0:m.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(uo))}},{key:"_validateVideoSendSettings",value:function(u,m){var v=u==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],E="Video send settings should be either an object or one of the supported presets: ".concat(v.join());if(typeof m=="string"){if(!v.includes(m))throw new Error(E)}else{if(Ie(m)!=="object")throw new Error(E);if(!m.maxQuality&&!m.encodings&&m.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(m.maxQuality&&["low","medium","high"].indexOf(m.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(m.encodings){var S=!1;switch(Object.keys(m.encodings).length){case 1:S=!m.encodings.low;break;case 2:S=!m.encodings.low||!m.encodings.medium;break;case 3:S=!m.encodings.low||!m.encodings.medium||!m.encodings.high;break;default:S=!0}if(S)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");m.encodings.low&&this._validateEncodingLayerHasValidProperties(m.encodings.low),m.encodings.medium&&this._validateEncodingLayerHasValidProperties(m.encodings.medium),m.encodings.high&&this._validateEncodingLayerHasValidProperties(m.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(u){var m=this;if(!u||Object.keys(u).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(u).forEach(function(v){var E=cr(v,2),S=E[0],R=E[1];m._validateVideoSendSettings(S,R)})}},{key:"updateSendSettings",value:function(u){var m=this;return this.validateUpdateSendSettings(u),this.needsLoad()?(this._preloadCache.sendSettings=u,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(v,E){m.sendMessageToCallMachine({action:"update-send-settings",sendSettings:u},function(S){S.error?E(S.error):v(S.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return Ae(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(u){return Ae(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:u}),this}},{key:"activeSpeakerMode",value:function(){return Ae(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(u){return Fe(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=u,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:u}),this}},{key:"enumerateDevices",value:(a=le(function*(){var u=this;if(this._callObjectMode){var m=yield navigator.mediaDevices.enumerateDevices();return Pn()==="Firefox"&&ia().major>115&&ia().major<123&&(m=m.filter(function(v){return v.kind!=="audiooutput"})),{devices:m.map(function(v){var E=JSON.parse(JSON.stringify(v));if(!xe()&&v.kind==="videoinput"&&v.getCapabilities){var S,R=v.getCapabilities();E.facing=(R==null||(S=R.facingMode)===null||S===void 0?void 0:S.length)>=1?R.facingMode[0]:void 0}return E})}}return new Promise(function(v){u.sendMessageToCallMachine({action:"enumerate-devices"},function(E){v({devices:E.devices})})})}),function(){return a.apply(this,arguments)})},{key:"sendAppMessage",value:function(u){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(Fe(this._callState,"sendAppMessage()"),JSON.stringify(u).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:u,to:m}),this}},{key:"addFakeParticipant",value:function(u){return Ae(),Fe(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(se({action:"add-fake-participant"},u)),this}},{key:"setShowNamesMode",value:function(u){return Ct(this._callObjectMode,"setShowNamesMode()"),Ae(),u&&u!=="always"&&u!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:u}),this)}},{key:"setShowLocalVideo",value:function(){var u=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Ct(this._callObjectMode,"setShowLocalVideo()"),Ae(),Fe(this._callState,"setShowLocalVideo()"),typeof u!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:u}),this._showLocalVideo=u,this)}},{key:"showLocalVideo",value:function(){return Ct(this._callObjectMode,"showLocalVideo()"),Ae(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var u=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Ct(this._callObjectMode,"setShowParticipantsBar()"),Ae(),Fe(this._callState,"setShowParticipantsBar()"),typeof u!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:u}),this._showParticipantsBar=u,this)}},{key:"showParticipantsBar",value:function(){return Ct(this._callObjectMode,"showParticipantsBar()"),Ae(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return Ae(),Ct(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(u){return Ae(),Ct(this._callObjectMode,"setCustomIntegrations()"),Fe(this._callState,"setCustomIntegrations()"),Zv(u)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:u}),this._customIntegrations=u,this):this}},{key:"startCustomIntegrations",value:function(u){var m=this;if(Ae(),Ct(this._callObjectMode,"startCustomIntegrations()"),Fe(this._callState,"startCustomIntegrations()"),Array.isArray(u)&&u.some(function(S){return typeof S!="string"})||!Array.isArray(u)&&typeof u!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var v=typeof u=="string"?[u]:u,E=v.filter(function(S){return!(S in m._customIntegrations)});return E.length?(console.error(`Can't find custom integration(s): "`.concat(E.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:v}),this)}},{key:"stopCustomIntegrations",value:function(u){var m=this;if(Ae(),Ct(this._callObjectMode,"stopCustomIntegrations()"),Fe(this._callState,"stopCustomIntegrations()"),Array.isArray(u)&&u.some(function(S){return typeof S!="string"})||!Array.isArray(u)&&typeof u!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var v=typeof u=="string"?[u]:u,E=v.filter(function(S){return!(S in m._customIntegrations)});return E.length?(console.error(`Can't find custom integration(s): "`.concat(E.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:v}),this)}},{key:"customTrayButtons",value:function(){return Ct(this._callObjectMode,"customTrayButtons()"),Ae(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(u){return Ct(this._callObjectMode,"updateCustomTrayButtons()"),Ae(),Fe(this._callState,"updateCustomTrayButtons()"),Xv(u)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:u}),this._customTrayButtons=u,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(aa))),this)}},{key:"theme",value:function(){return Ct(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(u){var m=this;return Ct(this._callObjectMode,"setTheme()"),new Promise(function(v,E){try{m.validateProperties({theme:u}),m.properties.theme=se({},u),m.sendMessageToCallMachine({action:"set-theme",theme:m.properties.theme});try{m.emitDailyJSEvent({action:Bp,theme:m.properties.theme})}catch(S){console.log("could not emit 'theme-updated'",S)}v(m.properties.theme)}catch(S){E(S)}})}},{key:"requestFullscreen",value:(i=le(function*(){if(Ae(),this._iframe&&!document.fullscreenElement&&Vd())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(u){console.log("could not make video call fullscreen",u)}}),function(){return i.apply(this,arguments)})},{key:"exitFullscreen",value:function(){Ae(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(s=le(function*(){var u=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(m){u.sendMessageToCallMachine({action:"get-sidebar-view"},function(v){m(v.view)})})}),function(){return s.apply(this,arguments)})},{key:"setSidebarView",value:function(u){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:u}),this)}},{key:"room",value:(n=le(function*(){var u=this,m=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,v=m===void 0||m;return this._accessState.access===Is||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(E){u.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:v},function(S){delete S.action,delete S.callbackStamp,E(S)})})}),function(){return n.apply(this,arguments)})},{key:"geo",value:(r=le(function*(){try{var u=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield u.json()).geo}}catch(m){return console.error("geo lookup failed",m),{current:""}}}),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(e=le(function*(u){var m=this;return Ae(),Fe(this._callState,"setNetworkTopology()"),new Promise(function(v,E){m.sendMessageToCallMachine({action:"set-network-topology",opts:u},function(S){S.error?E({error:S.error}):v({workerId:S.workerId})})})}),function(u){return e.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=le(function*(){var u=this;return new Promise(function(m,v){u.needsLoad()&&m({topology:"none"}),u.sendMessageToCallMachine({action:"get-network-topology"},function(E){E.error?v({error:E.error}):m({topology:E.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(u){if(Ae(),typeof u!="number"&&u!==!0&&u!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(u));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:u})}},{key:"on",value:function(u,m){return kr.prototype.on.call(this,u,m)}},{key:"once",value:function(u,m){return kr.prototype.once.call(this,u,m)}},{key:"off",value:function(u,m){return kr.prototype.off.call(this,u,m)}},{key:"validateProperties",value:function(u){var m,v;if(u!=null&&(m=u.dailyConfig)!==null&&m!==void 0&&m.userMediaAudioConstraints){var E,S,R;xe()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var L=u.inputSettings||{};L.audio=((E=u.inputSettings)===null||E===void 0?void 0:E.audio)||{},L.audio.settings=((S=u.inputSettings)===null||S===void 0||(R=S.audio)===null||R===void 0?void 0:R.settings)||{},L.audio.settings=se(se({},L.audio.settings),u.dailyConfig.userMediaAudioConstraints),u.inputSettings=L,delete u.dailyConfig.userMediaAudioConstraints}if(u!=null&&(v=u.dailyConfig)!==null&&v!==void 0&&v.userMediaVideoConstraints){var U,G,ae;xe()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var te=u.inputSettings||{};te.video=((U=u.inputSettings)===null||U===void 0?void 0:U.video)||{},te.video.settings=((G=u.inputSettings)===null||G===void 0||(ae=G.video)===null||ae===void 0?void 0:ae.settings)||{},te.video.settings=se(se({},te.video.settings),u.dailyConfig.userMediaVideoConstraints),u.inputSettings=te,delete u.dailyConfig.userMediaVideoConstraints}for(var we in u){if(!un[we])throw new Error("unrecognized property '".concat(we,"'"));if(un[we].validate&&!un[we].validate(u[we],this))throw new Error("property '".concat(we,"': ").concat(un[we].help))}}},{key:"assembleMeetingUrl",value:function(){var u,m,v=se(se({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(u=this.properties.dailyConfig)!==null&&u!==void 0&&u.proxyUrl?encodeURIComponent((m=this.properties.dailyConfig)===null||m===void 0?void 0:m.proxyUrl):void 0}),E=v.url.match(/\?/)?"&":"?";return v.url+E+Object.keys(un).filter(function(S){return un[S].queryString&&v[S]!==void 0}).map(function(S){return"".concat(un[S].queryString,"=").concat(v[S])}).join("&")}},{key:"needsLoad",value:function(){return[hl,$d,zr,mr].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(u,m){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(u,m,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(u){this._messageChannel.forwardPackagedMessageToCallMachine(u,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(u){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(u,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(u){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(u)}},{key:"handleMessageFromCallMachine",value:function(u){switch(u.action){case qp:this.sendMessageToCallMachine(se({action:zp},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var m={action:_s,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:Ks(this.properties.dailyConfig)}};this.sendMessageToCallMachine(m),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case vl:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(u);break;case Yp:var v,E=se({},u);delete E.internal,this._maxAppMessageSize=((v=u.internal)===null||v===void 0?void 0:v._maxAppMessageSize)||so,this._joinedCallback&&(this._joinedCallback(u.participants),this._joinedCallback=null),this.emitDailyJSEvent(E);break;case Qp:case Xp:if(this._callState===zr)return;if(u.participant&&u.participant.session_id){var S=u.participant.local?"local":u.participant.session_id;if(this._callObjectMode){var R=this._callMachine().store;Xd(u.participant,R),Zd(u.participant,R),ef(u.participant,this._participants[S],R)}try{this.maybeParticipantTracksStopped(this._participants[S],u.participant),this.maybeParticipantTracksStarted(this._participants[S],u.participant),this.maybeEventRecordingStopped(this._participants[S],u.participant),this.maybeEventRecordingStarted(this._participants[S],u.participant)}catch(at){console.error("track events error",at)}this.compareEqualForParticipantUpdateEvent(u.participant,this._participants[S])||(this._participants[S]=se({},u.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(u))}break;case Zp:if(u.participant&&u.participant.session_id){var L=this._participants[u.participant.session_id];L&&this.maybeParticipantTracksStopped(L,null),delete this._participants[u.participant.session_id],this.emitDailyJSEvent(u)}break;case ev:yt(this._participantCounts,u.participantCounts)||(this._participantCounts=u.participantCounts,this.emitDailyJSEvent(u));break;case tv:var U={access:u.access};u.awaitingAccess&&(U.awaitingAccess=u.awaitingAccess),yt(this._accessState,U)||(this._accessState=U,this.emitDailyJSEvent(u));break;case rv:if(u.meetingSession){this._meetingSessionSummary=u.meetingSession,this.emitDailyJSEvent(u);var G=se(se({},u),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(G)}break;case bl:var ae;this._iframe&&!u.preserveIframe&&(this._iframe.src=""),this._updateCallState(mr),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(u.errorMsg),this._loadedCallback=null),u.preserveIframe;var te=xu(u,uE);te!=null&&(ae=te.error)!==null&&ae!==void 0&&ae.details&&(te.error.details=JSON.parse(te.error.details)),this._maybeSendToSentry(u),this._joinedCallback&&(this._joinedCallback(null,te),this._joinedCallback=null),this.emitDailyJSEvent(te);break;case Kp:this._callState!==mr&&this._updateCallState(zr),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(u);break;case"selected-devices-updated":u.devices&&this.emitDailyJSEvent(u);break;case Tv:var we=u.threshold,oe=u.quality;we===this._network.threshold&&oe===this._network.quality||(this._network.quality=oe,this._network.threshold=we,this.emitDailyJSEvent(u));break;case Pv:u&&u.cpuLoadState&&this.emitDailyJSEvent(u);break;case xv:u&&u.faceCounts!==void 0&&this.emitDailyJSEvent(u);break;case Ev:var Se=u.activeSpeaker;this._activeSpeaker.peerId!==Se.peerId&&(this._activeSpeaker.peerId=Se.peerId,this.emitDailyJSEvent({action:u.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var Le=u.show;this._showLocalVideo=Le,this.emitDailyJSEvent({action:u.action,show:Le});break;case Cv:var Ue=u.enabled;this._activeSpeakerMode!==Ue&&(this._activeSpeakerMode=Ue,this.emitDailyJSEvent({action:u.action,enabled:this._activeSpeakerMode}));break;case iv:case sv:case av:this._waitingParticipants=u.allWaitingParticipants,this.emitDailyJSEvent({action:u.action,participant:u.participant});break;case Rv:yt(this._receiveSettings,u.receiveSettings)||(this._receiveSettings=u.receiveSettings,this.emitDailyJSEvent({action:u.action,receiveSettings:u.receiveSettings}));break;case yl:this._maybeUpdateInputSettings(u.inputSettings);break;case"send-settings-updated":yt(this._sendSettings,u.sendSettings)||(this._sendSettings=u.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:u.action,sendSettings:u.sendSettings}));break;case"local-audio-level":this._localAudioLevel=u.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(u);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=u.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(u);break;case yv:var Ce=u.session_id;this._rmpPlayerState[Ce]=u.playerState,this.emitDailyJSEvent(u);break;case bv:delete this._rmpPlayerState[u.session_id],this.emitDailyJSEvent(u);break;case _v:var ue=u.session_id,Ee=this._rmpPlayerState[ue];Ee&&this.compareEqualForRMPUpdateEvent(Ee,u.remoteMediaPlayerState)||(this._rmpPlayerState[ue]=u.remoteMediaPlayerState,this.emitDailyJSEvent(u));break;case"custom-button-click":case"sidebar-view-changed":this.emitDailyJSEvent(u);break;case nv:var qe=this._meetingSessionState.topology!==(u.meetingSessionState&&u.meetingSessionState.topology);this._meetingSessionState=po(u.meetingSessionState,this._callObjectMode),(this._callObjectMode||qe)&&this.emitDailyJSEvent(u);break;case wv:this._isScreenSharing=!0,this.emitDailyJSEvent(u);break;case kv:case Sv:this._isScreenSharing=!1,this.emitDailyJSEvent(u);break;case ml:case gl:case fv:case hv:case pv:case cv:case uv:case dv:case Jp:case Gp:case mv:case gv:case"test-completed":case Av:case vv:case Ov:case Mv:case Lv:case Iv:case _l:case jv:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(u);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(u,m){var v="record";u&&(m.local||m[v]!==!1||u[v]===m[v]||this.emitDailyJSEvent({action:gl}))}},{key:"maybeEventRecordingStarted",value:function(u,m){var v="record";u&&(m.local||m[v]!==!0||u[v]===m[v]||this.emitDailyJSEvent({action:ml}))}},{key:"_trackStatePlayable",value:function(u){return!(!u||u.state!==Dp)}},{key:"_trackChanged",value:function(u,m){return(u==null?void 0:u.id)!==(m==null?void 0:m.id)}},{key:"maybeEventTrackStopped",value:function(u,m,v){var E,S,R=(E=m==null?void 0:m.tracks[u])!==null&&E!==void 0?E:null,L=(S=v==null?void 0:v.tracks[u])!==null&&S!==void 0?S:null,U=R==null?void 0:R.track;if(U){var G=this._trackStatePlayable(R),ae=this._trackStatePlayable(L),te=this._trackChanged(U,L==null?void 0:L.track);G&&(ae&&!te||this.emitDailyJSEvent({action:lv,track:U,participant:v??m,type:u}))}}},{key:"maybeEventTrackStarted",value:function(u,m,v){var E,S,R=(E=m==null?void 0:m.tracks[u])!==null&&E!==void 0?E:null,L=(S=v==null?void 0:v.tracks[u])!==null&&S!==void 0?S:null,U=L==null?void 0:L.track;if(U){var G=this._trackStatePlayable(R),ae=this._trackStatePlayable(L),te=this._trackChanged(R==null?void 0:R.track,U);ae&&(G&&!te||this.emitDailyJSEvent({action:ov,track:U,participant:v,type:u}))}}},{key:"maybeParticipantTracksStopped",value:function(u,m){if(u)for(var v in u.tracks)this.maybeEventTrackStopped(v,u,m)}},{key:"maybeParticipantTracksStarted",value:function(u,m){if(m)for(var v in m.tracks)this.maybeEventTrackStarted(v,u,m)}},{key:"compareEqualForRMPUpdateEvent",value:function(u,m){var v,E;return u.state===m.state&&((v=u.settings)===null||v===void 0?void 0:v.volume)===((E=m.settings)===null||E===void 0?void 0:E.volume)}},{key:"emitDailyJSEvent",value:function(u){try{u.callClientId=this.callClientId,this.emit(u.action,u)}catch(m){console.log("could not emit",u,m)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(u,m){return!!yt(u,m)&&(!u.videoTrack||!m.videoTrack||u.videoTrack.id===m.videoTrack.id&&u.videoTrack.muted===m.videoTrack.muted&&u.videoTrack.enabled===m.videoTrack.enabled)&&(!u.audioTrack||!m.audioTrack||u.audioTrack.id===m.audioTrack.id&&u.audioTrack.muted===m.audioTrack.muted&&u.audioTrack.enabled===m.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return xe()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(u){this._updateCallState(this._callState,u)}},{key:"_updateCallState",value:function(u){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(u!==this._callState||m!==this._isPreparingToJoin){var v=this._callState,E=this._isPreparingToJoin;this._callState=u,this._isPreparingToJoin=m;var S=this._callState===Hr;this.updateShowAndroidOngoingMeetingNotification(S);var R=Rs(v,E),L=Rs(this._callState,this._isPreparingToJoin);R!==L&&(this.updateKeepDeviceAwake(L),this.updateDeviceAudioMode(L),this.updateNoOpRecordingEnsuringBackgroundContinuity(L))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=cf,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Is},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=po(lf,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=so,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(u){xe()&&this.nativeUtils().setKeepDeviceAwake(u,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(u){if(xe()&&!this.disableReactNativeAutoDeviceManagement("audio")){var m=u?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(m)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(u){if(xe()&&this.nativeUtils().setShowOngoingMeetingNotification){var m,v,E,S;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var R=this.properties.reactNativeConfig.androidInCallNotification;m=R.title,v=R.subtitle,E=R.iconName,S=R.disableForCustomOverride}S&&(u=!1),this.nativeUtils().setShowOngoingMeetingNotification(u,m,v,E,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(u){xe()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(u)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var u,m;if(xe()){var v=(u=this._callMachine())===null||u===void 0||(m=u.store)===null||m===void 0?void 0:m.getState();for(var E in v==null?void 0:v.streams){var S=v.streams[E];S&&S.pendingTrack&&S.pendingTrack.kind==="audio"&&(S.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(u){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[u]}},{key:"absoluteUrl",value:function(u){if(u!==void 0){var m=document.createElement("a");return m.href=u,m.href}}},{key:"sayHello",value:function(){var u="hello, world.";return console.log(u),u}},{key:"_logUseAfterDestroy",value:function(){var u=Object.values(cn)[0];if(this.needsLoad())if(u&&!u.needsLoad()){var m={action:_s,level:"error",code:this.strictMode?9995:9997};u.sendMessageToCallMachine(m)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var v={action:_s,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(v,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var u=0,m=Object.values(cn);u<m.length;u++){var v=m[u];v._callMachineInitialized?(v.sendMessageToCallMachine({action:_s,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),v._delayDuplicateInstanceLog=!1):v._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(u){var m,v,E,S,R,L;if(!((m=u.error)!==null&&m!==void 0&&m.type&&(![Up,Fp,pl].includes(u.error.type)||u.error.type===pl&&u.error.msg.includes("deleted")))){var U=(v=this.properties)!==null&&v!==void 0&&v.url?new URL(this.properties.url):void 0,G="production";U&&U.host.includes(".staging.daily")&&(G="staging");var ae,te,we,oe,Se,Le=[qk(),Fk(),oS(),sS(),dS(),hS(),zk(),fS()].filter(function(Mt){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(Mt.name)}),Ue=new Gk({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:Xk,stackParser:iS,integrations:Le,environment:G}),Ce=new nn;if(Ce.setClient(Ue),Ue.init(),this.session_id&&Ce.setExtra("sessionId",this.session_id),this.properties){var ue=se({},this.properties);ue.userName=ue.userName?"[Filtered]":void 0,ue.userData=ue.userData?"[Filtered]":void 0,ue.token=ue.token?"[Filtered]":void 0,Ce.setExtra("properties",ue)}if(U){var Ee=U.searchParams.get("domain");if(!Ee){var qe=U.host.match(/(.*?)\./);Ee=qe&&qe[1]||""}Ee&&Ce.setTag("domain",Ee)}u.error&&(Ce.setTag("fatalErrorType",u.error.type),Ce.setExtra("errorDetails",u.error.details),!((ae=u.error.details)===null||ae===void 0)&&ae.uri&&Ce.setTag("serverAddress",u.error.details.uri),!((te=u.error.details)===null||te===void 0)&&te.workerGroup&&Ce.setTag("workerGroup",u.error.details.workerGroup),!((we=u.error.details)===null||we===void 0)&&we.geoGroup&&Ce.setTag("geoGroup",u.error.details.geoGroup),!((oe=u.error.details)===null||oe===void 0)&&oe.on&&Ce.setTag("connectionAttempt",u.error.details.on),(Se=u.error.details)!==null&&Se!==void 0&&Se.bundleUrl&&(Ce.setTag("bundleUrl",u.error.details.bundleUrl),Ce.setTag("bundleError",u.error.details.sourceError.type))),Ce.setTags({callMode:this._callObjectMode?xe()?"reactNative":(E=this.properties)!==null&&E!==void 0&&(S=E.dailyConfig)!==null&&S!==void 0&&(R=S.callMode)!==null&&R!==void 0&&R.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:Z.version()});var at=((L=u.error)===null||L===void 0?void 0:L.msg)||u.errorMsg;Ce.captureException(new Error(at))}}},{key:"_callMachine",value:function(){var u,m,v;return(u=window._daily)===null||u===void 0||(m=u.instances)===null||m===void 0||(v=m[this.callClientId])===null||v===void 0?void 0:v.callMachine}},{key:"_maybeUpdateInputSettings",value:function(u){if(!yt(this._inputSettings,u)){var m=this._getInputSettings();this._inputSettings=u;var v=this._getInputSettings();yt(m,v)||this.emitDailyJSEvent({action:yl,inputSettings:v})}}}],[{key:"supportedBrowser",value:function(){if(xe())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var u=ik.getParser(Dt());return{supported:!!Wd(),mobile:u.getPlatformType()==="mobile",name:u.getBrowserName(),version:u.getBrowserVersion(),supportsFullscreen:!!Vd(),supportsScreenShare:!!US(),supportsSfu:!!Wd(),supportsVideoProcessing:$v(),supportsAudioProcessing:Fv()}}},{key:"version",value:function(){return"0.75.2"}},{key:"createCallObject",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return u.layout="none",new Z(null,u)}},{key:"wrap",value:function(u){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ae(),!u||!u.contentWindow||typeof u.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return m.layout||(m.customLayout?m.layout="custom-v1":m.layout="browser"),new Z(u,m)}},{key:"createFrame",value:function(u,m){var v,E;Ae(),u&&m?(v=u,E=m):u&&u.append?(v=u,E={}):(v=document.body,E=u||{});var S=E.iframeStyle;S||(S=v===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var R=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?R.allow="microphone, camera":R.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",R.style.visibility="hidden",v.appendChild(R),R.style.visibility=null,Object.keys(S).forEach(function(L){return R.style[L]=S[L]}),E.layout||(E.customLayout?E.layout="custom-v1":E.layout="browser");try{return new Z(R,E)}catch(L){throw v.removeChild(R),L}}},{key:"createTransparentFrame",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ae();var m=document.createElement("iframe");return m.allow="microphone; camera; autoplay",m.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(m),u.layout||(u.layout="custom-v1"),Z.wrap(m,u)}},{key:"getCallInstance",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return u?cn[u]:Object.values(cn)[0]}}]),Z}();function Un(t,e){var r={};for(var n in t)if(t[n]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",n),r[n]=Er;else if(n==="dailyConfig"){if(t[n].modifyLocalSdpHook){var s=window._daily.instances[e].customCallbacks||{};s.modifyLocalSdpHook=t[n].modifyLocalSdpHook,window._daily.instances[e].customCallbacks=s,delete t[n].modifyLocalSdpHook}if(t[n].modifyRemoteSdpHook){var i=window._daily.instances[e].customCallbacks||{};i.modifyRemoteSdpHook=t[n].modifyRemoteSdpHook,window._daily.instances[e].customCallbacks=i,delete t[n].modifyRemoteSdpHook}r[n]=t[n]}else r[n]=t[n];return r}function Fe(t){var e=arguments.length>2?arguments[2]:void 0;if(t!==Hr){var r="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw e&&(r+=" ".concat(e)),console.error(r),new Error(r)}}function Rs(t,e){return[na,Hr].includes(t)||e}function fo(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",n=arguments.length>3?arguments[3]:void 0;if(Rs(t,e)){var s="".concat(r," not supported after joining a meeting.");throw n&&(s+=" ".concat(n)),console.error(s),new Error(s)}}function ks(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",r=arguments.length>2?arguments[2]:void 0;if(!t){var n="".concat(e,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw r&&(n+=" ".concat(r)),console.error(n),new Error(n)}}function ho(t){if(t){var e="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(e),new Error(e)}}function Ut(t){if(!t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(e),new Error(e)}}function Ct(t){if(t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(e),new Error(e)}}function Ae(){if(xe())throw new Error("This daily-js method is not currently supported in React Native")}function Si(){if(!xe())throw new Error("This daily-js method is only supported in React Native")}function Jv(t){if(t===void 0)return!0;var e;if(typeof t=="string")e=t;else try{e=JSON.stringify(t),yt(JSON.parse(e),t)||console.warn("The userData provided will be modified when serialized.")}catch(r){throw Error("userData must be serializable to JSON: ".concat(r))}if(e.length>4096)throw Error("userData is too large (".concat(e.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function Gv(t,e){for(var r=e.allowAllParticipantsKey,n=function(f){var h=["local"];return r||h.push("*"),f&&!h.includes(f)},s=function(f){return!!(f.layer===void 0||Number.isInteger(f.layer)&&f.layer>=0||f.layer==="inherit")},i=function(f){return!!f&&!(f.video&&!s(f.video))&&!(f.screenVideo&&!s(f.screenVideo))},a=0,o=Object.entries(t);a<o.length;a++){var l=cr(o[a],2),c=l[0],d=l[1];if(!n(c)||!i(d))return!1}return!0}function Hv(t){if(Ie(t)!=="object")return!1;for(var e=0,r=Object.entries(t);e<r.length;e++){var n=cr(r[e],2),s=n[0],i=n[1];switch(s){case"video":if(Ie(i)!=="object")return!1;for(var a=0,o=Object.entries(i);a<o.length;a++){var l=cr(o[a],2),c=l[0],d=l[1];switch(c){case"processor":if(!vE(d))return!1;break;case"settings":if(!ff(d))return!1;break;default:return!1}}break;case"audio":if(Ie(i)!=="object")return!1;for(var f=0,h=Object.entries(i);f<h.length;f++){var g=cr(h[f],2),y=g[0],b=g[1];switch(y){case"processor":if(!pE(b))return!1;break;case"settings":if(!ff(b))return!1;break;default:return!1}}break;default:return!1}}return!0}function Yv(t,e,r){var n,s=[];t.video&&t.video.processor&&($v((n=e==null?void 0:e.useLegacyVideoProcessor)!==null&&n!==void 0&&n)||(t.video.settings?delete t.video.processor:delete t.video,s.push("video"))),t.audio&&t.audio.processor&&(Fv()||(t.audio.settings?delete t.audio.processor:delete t.audio,s.push("audio"))),s.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(s.join(", "))),t.audio&&t.audio.settings&&(t.audio.settings.customTrack?(r.audioTrack=t.audio.settings.customTrack,t.audio.settings={customTrack:Er}):delete r.audioTrack),t.video&&t.video.settings&&(t.video.settings.customTrack?(r.videoTrack=t.video.settings.customTrack,t.video.settings={customTrack:Er}):delete r.videoTrack)}function pE(t){if(xe())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type"];return!!t&&Ie(t)==="object"&&(Object.keys(t).filter(function(r){return!e.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> audio -> processor : ".concat(r)),delete t[r]}),!!function(r){return typeof r!="string"?!1:Object.values(Dv).includes(r)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(t.type))}function vE(t){if(xe())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type","config"];return!t||Ie(t)!=="object"||!function(r){return typeof r!="string"?!1:Object.values(js).includes(r)?!0:(console.error("inputSettings video processor type invalid"),!1)}(t.type)||t.config&&(Ie(t.config)!=="object"||!function(r,n){var s=Object.keys(n);if(s.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(r){case js.BGBLUR:return s.length>1||s[0]!=="strength"?(console.error(i),!1):!(typeof n.strength!="number"||n.strength<=0||n.strength>1||isNaN(n.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(n.strength)),!1);case js.BGIMAGE:return!(n.source!==void 0&&!function(a){if(a.source==="default")return a.type="default",!0;if(a.source instanceof ArrayBuffer)return!0;if(Qs(a.source))return a.type="url",!!function(c){var d=new URL(c),f=d.pathname;if(d.protocol==="data:")try{var h=f.substring(f.indexOf(":")+1,f.indexOf(";")).split("/")[1];return oo.includes(h)}catch(y){return console.error("failed to deduce blob content type",y),!1}var g=f.split(".").at(-1).toLowerCase().trim();return oo.includes(g)}(a.source)||(console.error("invalid image type; supported types: [".concat(oo.join(", "),"]")),!1);return o=a.source,l=Number(o),isNaN(l)||!Number.isInteger(l)||l<=0||l>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(a.type="daily-preselect",!0);var o,l}(n));default:return!0}}(t.type,t.config))?!1:(Object.keys(t).filter(function(r){return!e.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> video -> processor : ".concat(r)),delete t[r]}),!0)}function ff(t){return Ie(t)==="object"&&(!t.customTrack||t.customTrack instanceof MediaStreamTrack)}function Al(){var t=Object.values(js).join(" | "),e=Object.values(Dv).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(t," ], config?: {} } }, audio?: { processor: {type: [ ").concat(e," ] } } }")}function Kv(t){var e=t.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat($p).concat(e?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function Qv(){return"customIntegrations should be an object of type ".concat(JSON.stringify(Tl),".")}function Xv(t){if(t&&Ie(t)!=="object"||Array.isArray(t))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(aa),".")),!1;if(t)for(var e=0,r=Object.entries(t);e<r.length;e++)for(var n=cr(r[e],1)[0],s=0,i=Object.entries(t[n]);s<i.length;s++){var a=cr(i[s],2),o=a[0],l=a[1],c=aa.id[o];if(!c)return console.error("customTrayButton does not support key ".concat(o)),!1;switch(o){case"iconPath":case"iconPathDarkMode":if(!Qs(l))return console.error("customTrayButton ".concat(o," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(l))return console.error("customTrayButton ".concat(o," should be ").concat(c,". Got: ").concat(l)),!1;break;default:if(Ie(l)!==c)return console.error("customTrayButton ".concat(o," should be a ").concat(c,".")),!1}}return!0}function Zv(t){if(!t||t&&Ie(t)!=="object"||Array.isArray(t))return console.error(Qv()),!1;for(var e=function(f){return"".concat(f," should be ").concat(Tl.id[f])},r=function(f,h){return console.error("customIntegration ".concat(f,": ").concat(h))},n=0,s=Object.entries(t);n<s.length;n++){var i=cr(s[n],1)[0];if(!("label"in t[i]))return r(i,"label is required"),!1;if(!("location"in t[i]))return r(i,"location is required"),!1;if(!("src"in t[i])&&!("srcdoc"in t[i]))return r(i,"src or srcdoc is required"),!1;for(var a=0,o=Object.entries(t[i]);a<o.length;a++){var l=cr(o[a],2),c=l[0],d=l[1];switch(c){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return r(i,e(c)),!1;break;case"iconURL":if(!Qs(d))return r(i,"".concat(c," should be a url")),!1;break;case"src":if("srcdoc"in t[i])return r(i,"cannot have both src and srcdoc"),!1;if(!Qs(d))return r(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in t[i])return r(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return r(i,e(c)),!1;break;case"location":if(!["main","sidebar"].includes(d))return r(i,e(c)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(f){return typeof f!="string"})))return r(i,e(c)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(f){return typeof f!="string"}))&&d!=="owners"&&typeof d!="boolean")return r(i,e(c)),!1;break;default:if(!Tl.id[c])return console.error("customIntegration does not support key ".concat(c)),!1}}}return!0}function em(t,e){if(e===void 0)return!1;switch(Ie(e)){case"string":return Ie(t)===e;case"object":if(Ie(t)!=="object")return!1;for(var r in t)if(!em(t[r],e[r]))return!1;return!0;default:return!1}}function hf(t,e){var r=t.sessionId,n=t.toEndPoint,s=t.useSipRefer;if(!r||!n)throw new Error("".concat(e,"() requires a sessionId and toEndPoint"));if(typeof r!="string"||typeof n!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(s&&!n.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!n.startsWith("sip:")&&!n.startsWith("+"))throw new Error("toEndPoint: ".concat(n,' must starts with either "sip:" or "+"'))}function pf(t){if(Ie(t)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(t.state&&!Object.values(wl).includes(t.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(wl));if(t.volume){if(typeof t.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(t.volume<0||t.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function vf(t,e,r){return!(typeof t!="number"||t<e||t>r)}function po(t,e){return t&&!e&&delete t.data,t}const mE=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:Np,DAILY_ACCESS_LEVEL_LOBBY:_S,DAILY_ACCESS_LEVEL_NONE:bS,DAILY_ACCESS_UNKNOWN:Is,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:MS,DAILY_CAMERA_ERROR_CAM_IN_USE:xS,DAILY_CAMERA_ERROR_CONSTRAINTS:RS,DAILY_CAMERA_ERROR_MIC_IN_USE:OS,DAILY_CAMERA_ERROR_NOT_FOUND:jS,DAILY_CAMERA_ERROR_PERMISSIONS:LS,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:IS,DAILY_CAMERA_ERROR_UNKNOWN:DS,DAILY_EVENT_ACCESS_STATE_UPDATED:tv,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:Ev,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:Cv,DAILY_EVENT_APP_MSG:mv,DAILY_EVENT_CAMERA_ERROR:Gp,DAILY_EVENT_CPU_LOAD_CHANGE:Pv,DAILY_EVENT_ERROR:bl,DAILY_EVENT_EXIT_FULLSCREEN:Mi,DAILY_EVENT_FACE_COUNTS_UPDATED:xv,DAILY_EVENT_FULLSCREEN:Oi,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:zp,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:qp,DAILY_EVENT_INPUT_SETTINGS_UPDATED:yl,DAILY_EVENT_JOINED_MEETING:Yp,DAILY_EVENT_JOINING_MEETING:Hp,DAILY_EVENT_LANG_UPDATED:jv,DAILY_EVENT_LEFT_MEETING:Kp,DAILY_EVENT_LIVE_STREAMING_ERROR:Iv,DAILY_EVENT_LIVE_STREAMING_STARTED:Ov,DAILY_EVENT_LIVE_STREAMING_STOPPED:Lv,DAILY_EVENT_LIVE_STREAMING_UPDATED:Mv,DAILY_EVENT_LOADED:vl,DAILY_EVENT_LOADING:Vp,DAILY_EVENT_LOAD_ATTEMPT_FAILED:Wp,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:Sv,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:wv,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:kv,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:NS,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:nv,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:rv,DAILY_EVENT_NETWORK_CONNECTION:Av,DAILY_EVENT_NETWORK_QUALITY_CHANGE:Tv,DAILY_EVENT_NONFATAL_ERROR:_l,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:ev,DAILY_EVENT_PARTICIPANT_JOINED:Qp,DAILY_EVENT_PARTICIPANT_LEFT:Zp,DAILY_EVENT_PARTICIPANT_UPDATED:Xp,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:Rv,DAILY_EVENT_RECORDING_DATA:vv,DAILY_EVENT_RECORDING_ERROR:hv,DAILY_EVENT_RECORDING_STARTED:ml,DAILY_EVENT_RECORDING_STATS:fv,DAILY_EVENT_RECORDING_STOPPED:gl,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:pv,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:yv,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:bv,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:_v,DAILY_EVENT_STARTED_CAMERA:Jp,DAILY_EVENT_THEME_UPDATED:Bp,DAILY_EVENT_TRACK_STARTED:ov,DAILY_EVENT_TRACK_STOPPED:lv,DAILY_EVENT_TRANSCRIPTION_ERROR:dv,DAILY_EVENT_TRANSCRIPTION_MSG:gv,DAILY_EVENT_TRANSCRIPTION_STARTED:cv,DAILY_EVENT_TRANSCRIPTION_STOPPED:uv,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:iv,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:av,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:sv,DAILY_FATAL_ERROR_CONNECTION:Up,DAILY_FATAL_ERROR_EJECTED:kS,DAILY_FATAL_ERROR_EOL:Fp,DAILY_FATAL_ERROR_EXP_ROOM:CS,DAILY_FATAL_ERROR_EXP_TOKEN:TS,DAILY_FATAL_ERROR_MEETING_FULL:AS,DAILY_FATAL_ERROR_NBF_ROOM:SS,DAILY_FATAL_ERROR_NBF_TOKEN:ES,DAILY_FATAL_ERROR_NOT_ALLOWED:PS,DAILY_FATAL_ERROR_NO_ROOM:pl,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:wS,DAILY_RECEIVE_SETTINGS_BASE_KEY:$p,DAILY_STATE_ERROR:mr,DAILY_STATE_JOINED:Hr,DAILY_STATE_JOINING:na,DAILY_STATE_LEFT:zr,DAILY_STATE_NEW:hl,DAILY_TRACK_STATE_BLOCKED:pS,DAILY_TRACK_STATE_INTERRUPTED:yS,DAILY_TRACK_STATE_LOADING:gS,DAILY_TRACK_STATE_OFF:vS,DAILY_TRACK_STATE_PLAYABLE:Dp,DAILY_TRACK_STATE_SENDABLE:mS,default:hE},Symbol.toStringTag,{value:"Module"})),gE=K1(mE);var Ss={exports:{}},mf;function yE(){if(mf)return Ss.exports;mf=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(k,T,O){return Function.prototype.apply.call(k,T,O)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(k){return Object.getOwnPropertyNames(k).concat(Object.getOwnPropertySymbols(k))}:r=function(k){return Object.getOwnPropertyNames(k)};function n(w){console&&console.warn&&console.warn(w)}var s=Number.isNaN||function(k){return k!==k};function i(){i.init.call(this)}Ss.exports=i,Ss.exports.once=A,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function o(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(w){if(typeof w!="number"||w<0||s(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");a=w}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(k){if(typeof k!="number"||k<0||s(k))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+k+".");return this._maxListeners=k,this};function l(w){return w._maxListeners===void 0?i.defaultMaxListeners:w._maxListeners}i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(k){for(var T=[],O=1;O<arguments.length;O++)T.push(arguments[O]);var I=k==="error",z=this._events;if(z!==void 0)I=I&&z.error===void 0;else if(!I)return!1;if(I){var V;if(T.length>0&&(V=T[0]),V instanceof Error)throw V;var D=new Error("Unhandled error."+(V?" ("+V.message+")":""));throw D.context=V,D}var B=z[k];if(B===void 0)return!1;if(typeof B=="function")e(B,this,T);else for(var M=B.length,F=y(B,M),O=0;O<M;++O)e(F[O],this,T);return!0};function c(w,k,T,O){var I,z,V;if(o(T),z=w._events,z===void 0?(z=w._events=Object.create(null),w._eventsCount=0):(z.newListener!==void 0&&(w.emit("newListener",k,T.listener?T.listener:T),z=w._events),V=z[k]),V===void 0)V=z[k]=T,++w._eventsCount;else if(typeof V=="function"?V=z[k]=O?[T,V]:[V,T]:O?V.unshift(T):V.push(T),I=l(w),I>0&&V.length>I&&!V.warned){V.warned=!0;var D=new Error("Possible EventEmitter memory leak detected. "+V.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");D.name="MaxListenersExceededWarning",D.emitter=w,D.type=k,D.count=V.length,n(D)}return w}i.prototype.addListener=function(k,T){return c(this,k,T,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(k,T){return c(this,k,T,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(w,k,T){var O={fired:!1,wrapFn:void 0,target:w,type:k,listener:T},I=d.bind(O);return I.listener=T,O.wrapFn=I,I}i.prototype.once=function(k,T){return o(T),this.on(k,f(this,k,T)),this},i.prototype.prependOnceListener=function(k,T){return o(T),this.prependListener(k,f(this,k,T)),this},i.prototype.removeListener=function(k,T){var O,I,z,V,D;if(o(T),I=this._events,I===void 0)return this;if(O=I[k],O===void 0)return this;if(O===T||O.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete I[k],I.removeListener&&this.emit("removeListener",k,O.listener||T));else if(typeof O!="function"){for(z=-1,V=O.length-1;V>=0;V--)if(O[V]===T||O[V].listener===T){D=O[V].listener,z=V;break}if(z<0)return this;z===0?O.shift():b(O,z),O.length===1&&(I[k]=O[0]),I.removeListener!==void 0&&this.emit("removeListener",k,D||T)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(k){var T,O,I;if(O=this._events,O===void 0)return this;if(O.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):O[k]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete O[k]),this;if(arguments.length===0){var z=Object.keys(O),V;for(I=0;I<z.length;++I)V=z[I],V!=="removeListener"&&this.removeAllListeners(V);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=O[k],typeof T=="function")this.removeListener(k,T);else if(T!==void 0)for(I=T.length-1;I>=0;I--)this.removeListener(k,T[I]);return this};function h(w,k,T){var O=w._events;if(O===void 0)return[];var I=O[k];return I===void 0?[]:typeof I=="function"?T?[I.listener||I]:[I]:T?_(I):y(I,I.length)}i.prototype.listeners=function(k){return h(this,k,!0)},i.prototype.rawListeners=function(k){return h(this,k,!1)},i.listenerCount=function(w,k){return typeof w.listenerCount=="function"?w.listenerCount(k):g.call(w,k)},i.prototype.listenerCount=g;function g(w){var k=this._events;if(k!==void 0){var T=k[w];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function y(w,k){for(var T=new Array(k),O=0;O<k;++O)T[O]=w[O];return T}function b(w,k){for(;k+1<w.length;k++)w[k]=w[k+1];w.pop()}function _(w){for(var k=new Array(w.length),T=0;T<k.length;++T)k[T]=w[T].listener||w[T];return k}function A(w,k){return new Promise(function(T,O){function I(V){w.removeListener(k,z),O(V)}function z(){typeof w.removeListener=="function"&&w.removeListener("error",I),T([].slice.call(arguments))}P(w,k,z,{once:!0}),k!=="error"&&C(w,I,{once:!0})})}function C(w,k,T){typeof w.on=="function"&&P(w,"error",k,T)}function P(w,k,T,O){if(typeof w.on=="function")O.once?w.once(k,T):w.on(k,T);else if(typeof w.addEventListener=="function")w.addEventListener(k,function I(z){O.once&&w.removeEventListener(k,I),T(z)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}return Ss.exports}var Ei={},pr={},gf;function _E(){if(gf)return pr;gf=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.Api=pr.HttpClient=pr.ContentType=void 0;var t;(function(n){n.Json="application/json",n.FormData="multipart/form-data",n.UrlEncoded="application/x-www-form-urlencoded",n.Text="text/plain"})(t||(pr.ContentType=t={}));class e{constructor(s={}){ge(this,"baseUrl","https://api.vapi.ai");ge(this,"securityData",null);ge(this,"securityWorker");ge(this,"abortControllers",new Map);ge(this,"customFetch",(...s)=>fetch(...s));ge(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});ge(this,"setSecurityData",s=>{this.securityData=s});ge(this,"contentFormatters",{[t.Json]:s=>s!==null&&(typeof s=="object"||typeof s=="string")?JSON.stringify(s):s,[t.Text]:s=>s!==null&&typeof s!="string"?JSON.stringify(s):s,[t.FormData]:s=>Object.keys(s||{}).reduce((i,a)=>{const o=s[a];return i.append(a,o instanceof Blob?o:typeof o=="object"&&o!==null?JSON.stringify(o):`${o}`),i},new FormData),[t.UrlEncoded]:s=>this.toQueryString(s)});ge(this,"createAbortSignal",s=>{if(this.abortControllers.has(s)){const a=this.abortControllers.get(s);return a?a.signal:void 0}const i=new AbortController;return this.abortControllers.set(s,i),i.signal});ge(this,"abortRequest",s=>{const i=this.abortControllers.get(s);i&&(i.abort(),this.abortControllers.delete(s))});ge(this,"request",async({body:s,secure:i,path:a,type:o,query:l,format:c,baseUrl:d,cancelToken:f,...h})=>{const g=(typeof i=="boolean"?i:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},y=this.mergeRequestParams(h,g),b=l&&this.toQueryString(l),_=this.contentFormatters[o||t.Json],A=c||y.format;return this.customFetch(`${d||this.baseUrl||""}${a}${b?`?${b}`:""}`,{...y,headers:{...y.headers||{},...o&&o!==t.FormData?{"Content-Type":o}:{}},signal:(f?this.createAbortSignal(f):y.signal)||null,body:typeof s>"u"||s===null?null:_(s)}).then(async C=>{const P=C;P.data=null,P.error=null;const w=A?await C[A]().then(k=>(P.ok?P.data=k:P.error=k,P)).catch(k=>(P.error=k,P)):P;if(f&&this.abortControllers.delete(f),!C.ok)throw w;return w})});Object.assign(this,s)}encodeQueryParam(s,i){return`${encodeURIComponent(s)}=${encodeURIComponent(typeof i=="number"?i:`${i}`)}`}addQueryParam(s,i){return this.encodeQueryParam(i,s[i])}addArrayQueryParam(s,i){return s[i].map(o=>this.encodeQueryParam(i,o)).join("&")}toQueryString(s){const i=s||{};return Object.keys(i).filter(o=>typeof i[o]<"u").map(o=>Array.isArray(i[o])?this.addArrayQueryParam(i,o):this.addQueryParam(i,o)).join("&")}addQueryParams(s){const i=this.toQueryString(s);return i?`?${i}`:""}mergeRequestParams(s,i){return{...this.baseApiParams,...s,...i||{},headers:{...this.baseApiParams.headers||{},...s.headers||{},...i&&i.headers||{}}}}}pr.HttpClient=e;class r extends e{constructor(){super(...arguments);ge(this,"call",{callControllerCreate:(i,a={})=>this.request({path:"/call",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),callControllerFindAll:(i,a={})=>this.request({path:"/call",method:"GET",query:i,secure:!0,format:"json",...a}),callControllerFindOne:(i,a={})=>this.request({path:`/call/${i}`,method:"GET",secure:!0,format:"json",...a}),callControllerUpdate:(i,a,o={})=>this.request({path:`/call/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),callControllerDeleteCallData:(i,a={})=>this.request({path:`/call/${i}`,method:"DELETE",secure:!0,format:"json",...a}),callControllerCreatePhoneCall:(i,a={})=>this.request({path:"/call/phone",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),callControllerCreateWebCall:(i,a={})=>this.request({path:"/call/web",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a})});ge(this,"v2",{callControllerFindAllPaginated:(i,a={})=>this.request({path:"/v2/call",method:"GET",query:i,secure:!0,format:"json",...a}),callControllerFindAllMetadataPaginated:(i,a={})=>this.request({path:"/v2/call/metadata",method:"GET",query:i,secure:!0,format:"json",...a}),assistantControllerFindAllPaginated:(i,a={})=>this.request({path:"/v2/assistant",method:"GET",query:i,secure:!0,format:"json",...a}),phoneNumberControllerFindAllPaginated:(i,a={})=>this.request({path:"/v2/phone-number",method:"GET",query:i,secure:!0,format:"json",...a})});ge(this,"chat",{chatController:(i={})=>this.request({path:"/chat",method:"POST",secure:!0,format:"json",...i}),chatControllerChatCompletions:(i,a={})=>this.request({path:"/chat/completions",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a})});ge(this,"assistant",{assistantControllerCreate:(i,a={})=>this.request({path:"/assistant",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),assistantControllerFindAll:(i,a={})=>this.request({path:"/assistant",method:"GET",query:i,secure:!0,format:"json",...a}),assistantControllerFindOne:(i,a={})=>this.request({path:`/assistant/${i}`,method:"GET",secure:!0,format:"json",...a}),assistantControllerUpdate:(i,a,o={})=>this.request({path:`/assistant/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),assistantControllerReplace:(i,a,o={})=>this.request({path:`/assistant/${i}`,method:"PUT",body:a,secure:!0,type:t.Json,format:"json",...o}),assistantControllerRemove:(i,a={})=>this.request({path:`/assistant/${i}`,method:"DELETE",secure:!0,format:"json",...a})});ge(this,"phoneNumber",{phoneNumberControllerImportTwilio:(i,a={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),phoneNumberControllerImportVonage:(i,a={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),phoneNumberControllerCreate:(i,a={})=>this.request({path:"/phone-number",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),phoneNumberControllerFindAll:(i,a={})=>this.request({path:"/phone-number",method:"GET",query:i,secure:!0,format:"json",...a}),phoneNumberControllerFindOne:(i,a={})=>this.request({path:`/phone-number/${i}`,method:"GET",secure:!0,format:"json",...a}),phoneNumberControllerUpdate:(i,a,o={})=>this.request({path:`/phone-number/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),phoneNumberControllerRemove:(i,a={})=>this.request({path:`/phone-number/${i}`,method:"DELETE",secure:!0,format:"json",...a})});ge(this,"tool",{toolControllerCreate:(i,a={})=>this.request({path:"/tool",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),toolControllerFindAll:(i,a={})=>this.request({path:"/tool",method:"GET",query:i,secure:!0,format:"json",...a}),toolControllerFindOne:(i,a={})=>this.request({path:`/tool/${i}`,method:"GET",secure:!0,format:"json",...a}),toolControllerUpdate:(i,a,o={})=>this.request({path:`/tool/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),toolControllerRemove:(i,a={})=>this.request({path:`/tool/${i}`,method:"DELETE",secure:!0,format:"json",...a})});ge(this,"file",{fileControllerCreateDeprecated:(i,a={})=>this.request({path:"/file/upload",method:"POST",body:i,secure:!0,type:t.FormData,format:"json",...a}),fileControllerCreate:(i,a={})=>this.request({path:"/file",method:"POST",body:i,secure:!0,type:t.FormData,format:"json",...a}),fileControllerFindAll:(i={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...i}),fileControllerFindOne:(i,a={})=>this.request({path:`/file/${i}`,method:"GET",secure:!0,format:"json",...a}),fileControllerUpdate:(i,a,o={})=>this.request({path:`/file/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),fileControllerRemove:(i,a={})=>this.request({path:`/file/${i}`,method:"DELETE",secure:!0,format:"json",...a})});ge(this,"knowledgeBase",{knowledgeBaseControllerCreate:(i,a={})=>this.request({path:"/knowledge-base",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),knowledgeBaseControllerFindAll:(i,a={})=>this.request({path:"/knowledge-base",method:"GET",query:i,secure:!0,format:"json",...a}),knowledgeBaseControllerFindOne:(i,a={})=>this.request({path:`/knowledge-base/${i}`,method:"GET",secure:!0,format:"json",...a}),knowledgeBaseControllerUpdate:(i,a,o={})=>this.request({path:`/knowledge-base/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),knowledgeBaseControllerRemove:(i,a={})=>this.request({path:`/knowledge-base/${i}`,method:"DELETE",secure:!0,format:"json",...a})});ge(this,"workflow",{workflowControllerFindAll:(i={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...i}),workflowControllerCreate:(i,a={})=>this.request({path:"/workflow",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),workflowControllerFindOne:(i,a={})=>this.request({path:`/workflow/${i}`,method:"GET",secure:!0,format:"json",...a}),workflowControllerDelete:(i,a={})=>this.request({path:`/workflow/${i}`,method:"DELETE",secure:!0,format:"json",...a}),workflowControllerUpdate:(i,a,o={})=>this.request({path:`/workflow/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o})});ge(this,"squad",{squadControllerCreate:(i,a={})=>this.request({path:"/squad",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),squadControllerFindAll:(i,a={})=>this.request({path:"/squad",method:"GET",query:i,secure:!0,format:"json",...a}),squadControllerFindOne:(i,a={})=>this.request({path:`/squad/${i}`,method:"GET",secure:!0,format:"json",...a}),squadControllerUpdate:(i,a,o={})=>this.request({path:`/squad/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),squadControllerRemove:(i,a={})=>this.request({path:`/squad/${i}`,method:"DELETE",secure:!0,format:"json",...a})});ge(this,"testSuite",{testSuiteControllerFindAllPaginated:(i,a={})=>this.request({path:"/test-suite",method:"GET",query:i,secure:!0,format:"json",...a}),testSuiteControllerCreate:(i,a={})=>this.request({path:"/test-suite",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),testSuiteControllerFindOne:(i,a={})=>this.request({path:`/test-suite/${i}`,method:"GET",secure:!0,format:"json",...a}),testSuiteControllerUpdate:(i,a,o={})=>this.request({path:`/test-suite/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),testSuiteControllerRemove:(i,a={})=>this.request({path:`/test-suite/${i}`,method:"DELETE",secure:!0,format:"json",...a}),testSuiteTestControllerFindAllPaginated:(i,a,o={})=>this.request({path:`/test-suite/${i}/test`,method:"GET",query:a,secure:!0,format:"json",...o}),testSuiteTestControllerCreate:(i,a,o={})=>this.request({path:`/test-suite/${i}/test`,method:"POST",body:a,secure:!0,type:t.Json,format:"json",...o}),testSuiteTestControllerFindOne:(i,a,o={})=>this.request({path:`/test-suite/${i}/test/${a}`,method:"GET",secure:!0,format:"json",...o}),testSuiteTestControllerUpdate:(i,a,o,l={})=>this.request({path:`/test-suite/${i}/test/${a}`,method:"PATCH",body:o,secure:!0,type:t.Json,format:"json",...l}),testSuiteTestControllerRemove:(i,a,o={})=>this.request({path:`/test-suite/${i}/test/${a}`,method:"DELETE",secure:!0,format:"json",...o}),testSuiteRunControllerFindAllPaginated:(i,a,o={})=>this.request({path:`/test-suite/${i}/run`,method:"GET",query:a,secure:!0,format:"json",...o}),testSuiteRunControllerCreate:(i,a,o={})=>this.request({path:`/test-suite/${i}/run`,method:"POST",body:a,secure:!0,type:t.Json,format:"json",...o}),testSuiteRunControllerFindOne:(i,a,o={})=>this.request({path:`/test-suite/${i}/run/${a}`,method:"GET",secure:!0,format:"json",...o}),testSuiteRunControllerUpdate:(i,a,o,l={})=>this.request({path:`/test-suite/${i}/run/${a}`,method:"PATCH",body:o,secure:!0,type:t.Json,format:"json",...l}),testSuiteRunControllerRemove:(i,a,o={})=>this.request({path:`/test-suite/${i}/run/${a}`,method:"DELETE",secure:!0,format:"json",...o})});ge(this,"metrics",{analyticsControllerFindAllDeprecated:(i,a={})=>this.request({path:"/metrics",method:"GET",query:i,secure:!0,format:"json",...a})});ge(this,"analytics",{analyticsControllerQuery:(i,a={})=>this.request({path:"/analytics",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a})});ge(this,"log",{loggingControllerCallLogsQuery:(i,a={})=>this.request({path:"/log",method:"GET",query:i,secure:!0,format:"json",...a}),loggingControllerCallLogsDeleteQuery:(i,a={})=>this.request({path:"/log",method:"DELETE",query:i,secure:!0,...a})});ge(this,"logs",{loggingControllerLogsQuery:(i,a={})=>this.request({path:"/logs",method:"GET",query:i,secure:!0,format:"json",...a}),loggingControllerLogsDeleteQuery:(i,a={})=>this.request({path:"/logs",method:"DELETE",query:i,secure:!0,...a})});ge(this,"org",{orgControllerCreate:(i,a={})=>this.request({path:"/org",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),orgControllerFindAll:(i={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...i}),orgControllerFindOne:(i,a={})=>this.request({path:`/org/${i}`,method:"GET",secure:!0,format:"json",...a}),orgControllerUpdate:(i,a,o={})=>this.request({path:`/org/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),orgControllerDeleteOrg:(i,a={})=>this.request({path:`/org/${i}`,method:"DELETE",secure:!0,...a}),orgControllerFindAllUsers:(i,a={})=>this.request({path:`/org/${i}/user`,method:"GET",secure:!0,format:"json",...a}),orgControllerOrgLeave:(i,a={})=>this.request({path:`/org/${i}/leave`,method:"DELETE",secure:!0,...a}),orgControllerOrgRemoveUser:(i,a,o={})=>this.request({path:`/org/${i}/member/${a}/leave`,method:"DELETE",secure:!0,...o}),orgControllerUsersInvite:(i,a,o={})=>this.request({path:`/org/${i}/invite`,method:"POST",body:a,secure:!0,type:t.Json,...o}),orgControllerUserUpdate:(i,a,o={})=>this.request({path:`/org/${i}/role`,method:"PATCH",body:a,secure:!0,type:t.Json,...o})});ge(this,"token",{tokenControllerCreate:(i,a={})=>this.request({path:"/token",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),tokenControllerFindAll:(i,a={})=>this.request({path:"/token",method:"GET",query:i,secure:!0,format:"json",...a}),tokenControllerFindOne:(i,a={})=>this.request({path:`/token/${i}`,method:"GET",secure:!0,format:"json",...a}),tokenControllerUpdate:(i,a,o={})=>this.request({path:`/token/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),tokenControllerRemove:(i,a={})=>this.request({path:`/token/${i}`,method:"DELETE",secure:!0,format:"json",...a})});ge(this,"credential",{credentialControllerCreate:(i,a={})=>this.request({path:"/credential",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),credentialControllerFindAll:(i,a={})=>this.request({path:"/credential",method:"GET",query:i,secure:!0,format:"json",...a}),credentialControllerFindOne:(i,a={})=>this.request({path:`/credential/${i}`,method:"GET",secure:!0,format:"json",...a}),credentialControllerUpdate:(i,a,o={})=>this.request({path:`/credential/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),credentialControllerRemove:(i,a={})=>this.request({path:`/credential/${i}`,method:"DELETE",secure:!0,format:"json",...a}),credentialControllerGenerateSession:(i,a={})=>this.request({path:"/credential/session",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),credentialControllerHandleWebhook:(i,a={})=>this.request({path:"/credential/webhook",method:"POST",body:i,type:t.Json,...a}),credentialControllerTriggerCredentialAction:(i,a={})=>this.request({path:"/credential/trigger",method:"POST",body:i,secure:!0,type:t.Json,...a})});ge(this,"template",{templateControllerCreate:(i,a={})=>this.request({path:"/template",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),templateControllerFindAll:(i,a={})=>this.request({path:"/template",method:"GET",query:i,secure:!0,format:"json",...a}),templateControllerFindAllPinned:(i={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...i}),templateControllerFindOne:(i,a={})=>this.request({path:`/template/${i}`,method:"GET",secure:!0,format:"json",...a}),templateControllerUpdate:(i,a,o={})=>this.request({path:`/template/${i}`,method:"PATCH",body:a,secure:!0,type:t.Json,format:"json",...o}),templateControllerRemove:(i,a={})=>this.request({path:`/template/${i}`,method:"DELETE",secure:!0,format:"json",...a})});ge(this,"voiceLibrary",{voiceLibraryControllerVoiceGetByProvider:(i,a,o={})=>this.request({path:`/voice-library/${i}`,method:"GET",query:a,secure:!0,format:"json",...o}),voiceLibraryControllerVoiceGetAccentsByProvider:(i,a={})=>this.request({path:`/voice-library/${i}/accents`,method:"GET",secure:!0,format:"json",...a}),voiceLibraryControllerVoiceLibrarySyncByProvider:(i,a={})=>this.request({path:`/voice-library/sync/${i}`,method:"POST",secure:!0,format:"json",...a}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(i,a={})=>this.request({path:"/voice-library/sync",method:"POST",body:i,secure:!0,type:t.Json,format:"json",...a}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(i,a={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:i,secure:!0,type:t.Json,...a})});ge(this,"provider",{providerControllerGetWorkflows:(i,a,o={})=>this.request({path:`/${i}/workflows`,method:"GET",query:a,secure:!0,format:"json",...o}),providerControllerGetWorkflowTriggerHook:(i,a,o={})=>this.request({path:`/${i}/workflows/${a}/hooks`,method:"GET",secure:!0,format:"json",...o}),providerControllerGetLocations:(i,a={})=>this.request({path:`/${i}/locations`,method:"GET",secure:!0,format:"json",...a}),voiceProviderControllerSearchVoices:(i,a,o={})=>this.request({path:`/${i}/voices/search`,method:"GET",query:a,secure:!0,format:"json",...o}),voiceProviderControllerSearchVoice:(i,a,o={})=>this.request({path:`/${i}/voice/search`,method:"GET",query:a,secure:!0,format:"json",...o}),voiceProviderControllerAddVoices:(i,a,o={})=>this.request({path:`/${i}/voices/add`,method:"POST",body:a,secure:!0,type:t.Json,format:"json",...o}),voiceProviderControllerAddVoice:(i,a,o={})=>this.request({path:`/${i}/voice/add`,method:"POST",body:a,secure:!0,type:t.Json,format:"json",...o})});ge(this,"v11Labs",{voiceProviderControllerCloneVoices:(i,a={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:i,secure:!0,type:t.FormData,...a})})}}return pr.Api=r,pr}var yf;function bE(){if(yf)return Ei;yf=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.client=void 0;const t=_E(),e=new t.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async r=>{if(r)return{headers:{Authorization:`Bearer ${r}`}}}});return Ei.client=e,Ei}var _f;function wE(){if(_f)return Fn;_f=1;var t=Fn&&Fn.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Fn,"__esModule",{value:!0});const e=t(gE),r=t(yE()),n=bE();async function s(d,f){d.muted=!1,d.autoplay=!0,f!=null&&(d.srcObject=new MediaStream([f]),await d.play())}async function i(d,f){const h=document.createElement("audio");return h.dataset.participantId=f,document.body.appendChild(h),await s(h,d),h}function a(d){const f=document.querySelector(`audio[data-participant-id="${d}"]`);f==null||f.remove()}function o(d,f,h,g){d.participant.local||f.updateParticipant(d.participant.session_id,{setSubscribedTracks:{audio:!0,video:h||g}})}class l extends r.default{on(f,h){return super.on(f,h),this}once(f,h){return super.once(f,h),this}emit(f,...h){return super.emit(f,...h)}removeListener(f,h){return super.removeListener(f,h),this}removeAllListeners(f){return super.removeAllListeners(f),this}}class c extends l{constructor(h,g,y,b){super();ge(this,"started",!1);ge(this,"call",null);ge(this,"speakingTimeout",null);ge(this,"dailyCallConfig",{});ge(this,"dailyCallObject",{});ge(this,"hasEmittedCallEndedStatus",!1);n.client.baseUrl=g??"https://api.vapi.ai",n.client.setSecurityData(h),this.dailyCallConfig=y??{},this.dailyCallObject=b??{}}cleanup(){var h;this.started=!1,this.hasEmittedCallEndedStatus=!1,(h=this.call)==null||h.destroy(),this.call=null,this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;const h=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(h.toLowerCase())}async sleep(h){return new Promise(g=>setTimeout(g,h))}async start(h,g,y){var b,_,A,C;if(!h&&!y)throw new Error("Assistant or Squad must be provided.");if(this.started)return null;this.started=!0;try{const P=(await n.client.call.callControllerCreateWebCall({assistant:typeof h=="string"?void 0:h,assistantId:typeof h=="string"?h:void 0,assistantOverrides:g,squad:typeof y=="string"?void 0:y,squadId:typeof y=="string"?y:void 0})).data;this.call&&this.cleanup();const w=((b=P==null?void 0:P.artifactPlan)==null?void 0:b.videoRecordingEnabled)??!1,k=((A=(_=P==null?void 0:P.assistant)==null?void 0:_.voice)==null?void 0:A.provider)==="tavus";if(this.call=e.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??w,dailyConfig:this.dailyCallConfig}),(C=this.call.iframe())==null||C.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var T;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),w&&((T=this.call)==null||T.stopRecording()),this.cleanup()}),this.call.on("error",T=>{var O;this.emit("error",T),w&&((O=this.call)==null||O.stopRecording())}),this.call.on("camera-error",T=>{this.emit("error",T)}),this.call.on("track-started",async T=>{var O,I,z;!T||!T.participant||(O=T.participant)!=null&&O.local||((I=T.participant)==null?void 0:I.user_name)==="Vapi Speaker"&&(T.track.kind==="video"&&this.emit("video",T.track),T.track.kind==="audio"&&await i(T.track,T.participant.session_id),(z=this.call)==null||z.sendAppMessage("playable"))}),this.call.on("participant-joined",T=>{!T||!this.call||o(T,this.call,w,k)}),this.call.on("participant-updated",T=>{T&&this.emit("daily-participant-updated",T.participant)}),this.call.on("participant-left",T=>{T&&a(T.participant.session_id)}),this.isMobileDevice()&&await this.sleep(1e3),await this.call.join({url:P.webCallUrl,subscribeToTracksAutomatically:!1}),w){const T=new Date().getTime();this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}}),this.call.on("recording-started",()=>{this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:(new Date().getTime()-T)/1e3})})}return this.call.startRemoteParticipantsAudioLevelObserver(100),this.call.on("remote-participants-audio-level",T=>{T&&this.handleRemoteParticipantsAudioLevel(T)}),this.call.on("app-message",T=>this.onAppMessage(T)),this.call.on("nonfatal-error",T=>{var O;(T==null?void 0:T.type)==="audio-processor-error"&&((O=this.call)==null||O.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{var I;(I=this.call)==null||I.setLocalAudio(!0)}))}),this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}}),P}catch(P){return console.error(P),this.emit("error",P),this.cleanup(),null}}onAppMessage(h){if(h)try{if(h.data==="listening")return this.emit("call-start");try{const g=JSON.parse(h.data);this.emit("message",g),g&&"type"in g&&"status"in g&&g.type==="status-update"&&g.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(g){console.log("Error parsing message data: ",g)}}catch(g){console.error(g)}}handleRemoteParticipantsAudioLevel(h){const g=Object.values(h.participantsAudioLevel).reduce((b,_)=>b+_,0);this.emit("volume-level",Math.min(1,g/.15)),g>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}stop(){var h;this.started=!1,(h=this.call)==null||h.destroy(),this.call=null}send(h){var g;(g=this.call)==null||g.sendAppMessage(JSON.stringify(h))}setMuted(h){if(!this.call)throw new Error("Call object is not available.");this.call.setLocalAudio(!h)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(h,g,y){this.send({type:"say",message:h,endCallAfterSpoken:g,interruptionsEnabled:y??!1})}setInputDevicesAsync(h){var g;(g=this.call)==null||g.setInputDevicesAsync(h)}async increaseMicLevel(h){if(!this.call)throw new Error("Call object is not available.");try{const g=await navigator.mediaDevices.getUserMedia({audio:!0}),y=new AudioContext,b=y.createMediaStreamSource(g),_=y.createGain();_.gain.value=h,b.connect(_);const A=y.createMediaStreamDestination();_.connect(A);const[C]=A.stream.getAudioTracks();await this.call.setInputDevicesAsync({audioSource:C})}catch(g){console.error("Error adjusting microphone level:",g)}}setOutputDeviceAsync(h){var g;(g=this.call)==null||g.setOutputDeviceAsync(h)}getDailyCallObject(){return this.call}startScreenSharing(h,g){var y;(y=this.call)==null||y.startScreenShare({displayMediaOptions:h,screenVideoSendSettings:g})}stopScreenSharing(){var h;(h=this.call)==null||h.stopScreenShare()}}return Fn.default=c,Fn}var kE=wE();const SE=Y1(kE);function st(t,e,r,n){return new(r||(r=Promise))(function(s,i){function a(c){try{l(n.next(c))}catch(d){i(d)}}function o(c){try{l(n.throw(c))}catch(d){i(d)}}function l(c){var d;c.done?s(c.value):(d=c.value,d instanceof r?d:new r(function(f){f(d)})).then(a,o)}l((n=n.apply(t,e||[])).next())})}class ns{constructor(){this.listeners={}}on(e,r,n){if(this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(r),n==null?void 0:n.once){const s=()=>{this.un(e,s),this.un(e,r)};return this.on(e,s),s}return()=>this.un(e,r)}un(e,r){var n;(n=this.listeners[e])===null||n===void 0||n.delete(r)}once(e,r){return this.on(e,r,{once:!0})}unAll(){this.listeners={}}emit(e,...r){this.listeners[e]&&this.listeners[e].forEach(n=>n(...r))}}const Es={decode:function(t,e){return st(this,void 0,void 0,function*(){const r=new AudioContext({sampleRate:e});return r.decodeAudioData(t).finally(()=>r.close())})},createBuffer:function(t,e){return typeof t[0]=="number"&&(t=[t]),function(r){const n=r[0];if(n.some(s=>s>1||s<-1)){const s=n.length;let i=0;for(let a=0;a<s;a++){const o=Math.abs(n[a]);o>i&&(i=o)}for(const a of r)for(let o=0;o<s;o++)a[o]/=i}}(t),{duration:e,length:t[0].length,sampleRate:t[0].length/e,numberOfChannels:t.length,getChannelData:r=>t==null?void 0:t[r],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function tm(t,e){const r=e.xmlns?document.createElementNS(e.xmlns,t):document.createElement(t);for(const[n,s]of Object.entries(e))if(n==="children")for(const[i,a]of Object.entries(e))typeof a=="string"?r.appendChild(document.createTextNode(a)):r.appendChild(tm(i,a));else n==="style"?Object.assign(r.style,s):n==="textContent"?r.textContent=s:r.setAttribute(n,s.toString());return r}function bf(t,e,r){const n=tm(t,e||{});return r==null||r.appendChild(n),n}var EE=Object.freeze({__proto__:null,createElement:bf,default:bf});const CE={fetchBlob:function(t,e,r){return st(this,void 0,void 0,function*(){const n=yield fetch(t,r);if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return function(s,i){st(this,void 0,void 0,function*(){if(!s.body||!s.headers)return;const a=s.body.getReader(),o=Number(s.headers.get("Content-Length"))||0;let l=0;const c=f=>st(this,void 0,void 0,function*(){l+=(f==null?void 0:f.length)||0;const h=Math.round(l/o*100);i(h)}),d=()=>st(this,void 0,void 0,function*(){let f;try{f=yield a.read()}catch{return}f.done||(c(f.value),yield d())});d()})}(n.clone(),e),n.blob()})}};class TE extends ns{constructor(e){super(),this.isExternalMedia=!1,e.media?(this.media=e.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),e.mediaControls&&(this.media.controls=!0),e.autoplay&&(this.media.autoplay=!0),e.playbackRate!=null&&this.onMediaEvent("canplay",()=>{e.playbackRate!=null&&(this.media.playbackRate=e.playbackRate)},{once:!0})}onMediaEvent(e,r,n){return this.media.addEventListener(e,r,n),()=>this.media.removeEventListener(e,r,n)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const e=this.getSrc();e.startsWith("blob:")&&URL.revokeObjectURL(e)}canPlayType(e){return this.media.canPlayType(e)!==""}setSrc(e,r){const n=this.getSrc();if(e&&n===e)return;this.revokeSrc();const s=r instanceof Blob&&(this.canPlayType(r.type)||!e)?URL.createObjectURL(r):e;n&&(this.media.src="");try{this.media.src=s}catch{this.media.src=e}}destroy(){this.isExternalMedia||(this.media.pause(),this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(e){this.media=e}play(){return st(this,void 0,void 0,function*(){return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(e){this.media.currentTime=Math.max(0,Math.min(e,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(e){this.media.volume=e}getMuted(){return this.media.muted}setMuted(e){this.media.muted=e}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(e,r){r!=null&&(this.media.preservesPitch=r),this.media.playbackRate=e}getMediaElement(){return this.media}setSinkId(e){return this.media.setSinkId(e)}}class si extends ns{constructor(e,r){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.subscriptions=[],this.options=e;const n=this.parentFromOptionsContainer(e.container);this.parent=n;const[s,i]=this.initHtml();n.appendChild(s),this.container=s,this.scrollContainer=i.querySelector(".scroll"),this.wrapper=i.querySelector(".wrapper"),this.canvasWrapper=i.querySelector(".canvases"),this.progressWrapper=i.querySelector(".progress"),this.cursor=i.querySelector(".cursor"),r&&i.appendChild(r),this.initEvents()}parentFromOptionsContainer(e){let r;if(typeof e=="string"?r=document.querySelector(e):e instanceof HTMLElement&&(r=e),!r)throw new Error("Container not found");return r}initEvents(){const e=r=>{const n=this.wrapper.getBoundingClientRect(),s=r.clientX-n.left,i=r.clientY-n.top;return[s/n.width,i/n.height]};if(this.wrapper.addEventListener("click",r=>{const[n,s]=e(r);this.emit("click",n,s)}),this.wrapper.addEventListener("dblclick",r=>{const[n,s]=e(r);this.emit("dblclick",n,s)}),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:r,scrollWidth:n,clientWidth:s}=this.scrollContainer,i=r/n,a=(r+s)/n;this.emit("scroll",i,a,r,r+s)}),typeof ResizeObserver=="function"){const r=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{r().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const e=this.parent.clientWidth;e===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=e,this.reRender())}initDrag(){this.subscriptions.push(function(e,r,n,s,i=3,a=0,o=100){if(!e)return()=>{};const l=matchMedia("(pointer: coarse)").matches;let c=()=>{};const d=f=>{if(f.button!==a)return;f.preventDefault(),f.stopPropagation();let h=f.clientX,g=f.clientY,y=!1;const b=Date.now(),_=k=>{if(k.preventDefault(),k.stopPropagation(),l&&Date.now()-b<o)return;const T=k.clientX,O=k.clientY,I=T-h,z=O-g;if(y||Math.abs(I)>i||Math.abs(z)>i){const V=e.getBoundingClientRect(),{left:D,top:B}=V;y||(n==null||n(h-D,g-B),y=!0),r(I,z,T-D,O-B),h=T,g=O}},A=k=>{if(y){const T=k.clientX,O=k.clientY,I=e.getBoundingClientRect(),{left:z,top:V}=I;s==null||s(T-z,O-V)}c()},C=k=>{k.relatedTarget&&k.relatedTarget!==document.documentElement||A(k)},P=k=>{y&&(k.stopPropagation(),k.preventDefault())},w=k=>{y&&k.preventDefault()};document.addEventListener("pointermove",_),document.addEventListener("pointerup",A),document.addEventListener("pointerout",C),document.addEventListener("pointercancel",C),document.addEventListener("touchmove",w,{passive:!1}),document.addEventListener("click",P,{capture:!0}),c=()=>{document.removeEventListener("pointermove",_),document.removeEventListener("pointerup",A),document.removeEventListener("pointerout",C),document.removeEventListener("pointercancel",C),document.removeEventListener("touchmove",w),setTimeout(()=>{document.removeEventListener("click",P,{capture:!0})},10)}};return e.addEventListener("pointerdown",d),()=>{c(),e.removeEventListener("pointerdown",d)}}(this.wrapper,(e,r,n)=>{this.emit("drag",Math.max(0,Math.min(1,n/this.wrapper.getBoundingClientRect().width)))},e=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,e/this.wrapper.getBoundingClientRect().width)))},e=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,e/this.wrapper.getBoundingClientRect().width)))}))}getHeight(e,r){var n;const s=((n=this.audioData)===null||n===void 0?void 0:n.numberOfChannels)||1;if(e==null)return 128;if(!isNaN(Number(e)))return Number(e);if(e==="auto"){const i=this.parent.clientHeight||128;return r!=null&&r.every(a=>!a.overlay)?i/s:i}return 128}initHtml(){const e=document.createElement("div"),r=e.attachShadow({mode:"open"}),n=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return r.innerHTML=`
      <style${n?` nonce="${n}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[e,r]}setOptions(e){if(this.options.container!==e.container){const r=this.parentFromOptionsContainer(e.container);r.appendChild(this.container),this.parent=r}e.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=e,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(e){this.scrollContainer.scrollLeft=e}setScrollPercentage(e){const{scrollWidth:r}=this.scrollContainer,n=r*e;this.setScroll(n)}destroy(){var e,r;this.subscriptions.forEach(n=>n()),this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(r=this.unsubscribeOnScroll)===null||r===void 0||r.forEach(n=>n()),this.unsubscribeOnScroll=[]}createDelay(e=10){let r,n;const s=()=>{r&&clearTimeout(r),n&&n()};return this.timeouts.push(s),()=>new Promise((i,a)=>{s(),n=a,r=setTimeout(()=>{r=void 0,n=void 0,i()},e)})}convertColorValues(e){if(!Array.isArray(e))return e||"";if(e.length<2)return e[0]||"";const r=document.createElement("canvas"),n=r.getContext("2d"),s=r.height*(window.devicePixelRatio||1),i=n.createLinearGradient(0,0,0,s),a=1/(e.length-1);return e.forEach((o,l)=>{const c=l*a;i.addColorStop(c,o)}),i}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(e,r,n,s){const i=e[0],a=e[1]||e[0],o=i.length,{width:l,height:c}=n.canvas,d=c/2,f=this.getPixelRatio(),h=r.barWidth?r.barWidth*f:1,g=r.barGap?r.barGap*f:r.barWidth?h/2:0,y=r.barRadius||0,b=l/(h+g)/o,_=y&&"roundRect"in n?"roundRect":"rect";n.beginPath();let A=0,C=0,P=0;for(let w=0;w<=o;w++){const k=Math.round(w*b);if(k>A){const I=Math.round(C*d*s),z=I+Math.round(P*d*s)||1;let V=d-I;r.barAlign==="top"?V=0:r.barAlign==="bottom"&&(V=c-z),n[_](A*(h+g),V,h,z,y),A=k,C=0,P=0}const T=Math.abs(i[w]||0),O=Math.abs(a[w]||0);T>C&&(C=T),O>P&&(P=O)}n.fill(),n.closePath()}renderLineWaveform(e,r,n,s){const i=a=>{const o=e[a]||e[0],l=o.length,{height:c}=n.canvas,d=c/2,f=n.canvas.width/l;n.moveTo(0,d);let h=0,g=0;for(let y=0;y<=l;y++){const b=Math.round(y*f);if(b>h){const A=d+(Math.round(g*d*s)||1)*(a===0?-1:1);n.lineTo(h,A),h=b,g=0}const _=Math.abs(o[y]||0);_>g&&(g=_)}n.lineTo(h,d)};n.beginPath(),i(0),i(1),n.fill(),n.closePath()}renderWaveform(e,r,n){if(n.fillStyle=this.convertColorValues(r.waveColor),r.renderFunction)return void r.renderFunction(e,n);let s=r.barHeight||1;if(r.normalize){const i=Array.from(e[0]).reduce((a,o)=>Math.max(a,Math.abs(o)),0);s=i?1/i:1}r.barWidth||r.barGap||r.barAlign?this.renderBarWaveform(e,r,n,s):this.renderLineWaveform(e,r,n,s)}renderSingleCanvas(e,r,n,s,i,a,o){const l=this.getPixelRatio(),c=document.createElement("canvas");c.width=Math.round(n*l),c.height=Math.round(s*l),c.style.width=`${n}px`,c.style.height=`${s}px`,c.style.left=`${Math.round(i)}px`,a.appendChild(c);const d=c.getContext("2d");if(this.renderWaveform(e,r,d),c.width>0&&c.height>0){const f=c.cloneNode(),h=f.getContext("2d");h.drawImage(c,0,0),h.globalCompositeOperation="source-in",h.fillStyle=this.convertColorValues(r.progressColor),h.fillRect(0,0,c.width,c.height),o.appendChild(f)}}renderMultiCanvas(e,r,n,s,i,a){const o=this.getPixelRatio(),{clientWidth:l}=this.scrollContainer,c=n/o;let d=Math.min(si.MAX_CANVAS_WIDTH,l,c),f={};if(d===0)return;if(r.barWidth||r.barGap){const _=r.barWidth||.5,A=_+(r.barGap||_/2);d%A!=0&&(d=Math.floor(d/A)*A)}const h=_=>{if(_<0||_>=g||f[_])return;f[_]=!0;const A=_*d,C=Math.min(c-A,d);if(C<=0)return;const P=e.map(w=>{const k=Math.floor(A/c*w.length),T=Math.floor((A+C)/c*w.length);return w.slice(k,T)});this.renderSingleCanvas(P,r,C,s,A,i,a)},g=Math.ceil(c/d);if(!this.isScrollable){for(let _=0;_<g;_++)h(_);return}const y=this.scrollContainer.scrollLeft/c,b=Math.floor(y*g);if(h(b-1),h(b),h(b+1),g>1){const _=this.on("scroll",()=>{const{scrollLeft:A}=this.scrollContainer,C=Math.floor(A/c*g);Object.keys(f).length>si.MAX_NODES&&(i.innerHTML="",a.innerHTML="",f={}),h(C-1),h(C),h(C+1)});this.unsubscribeOnScroll.push(_)}}renderChannel(e,r,n,s){var{overlay:i}=r,a=function(d,f){var h={};for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&f.indexOf(g)<0&&(h[g]=d[g]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function"){var y=0;for(g=Object.getOwnPropertySymbols(d);y<g.length;y++)f.indexOf(g[y])<0&&Object.prototype.propertyIsEnumerable.call(d,g[y])&&(h[g[y]]=d[g[y]])}return h}(r,["overlay"]);const o=document.createElement("div"),l=this.getHeight(a.height,a.splitChannels);o.style.height=`${l}px`,i&&s>0&&(o.style.marginTop=`-${l}px`),this.canvasWrapper.style.minHeight=`${l}px`,this.canvasWrapper.appendChild(o);const c=o.cloneNode();this.progressWrapper.appendChild(c),this.renderMultiCanvas(e,a,n,l,o,c)}render(e){return st(this,void 0,void 0,function*(){var r;this.timeouts.forEach(l=>l()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const n=this.getPixelRatio(),s=this.scrollContainer.clientWidth,i=Math.ceil(e.duration*(this.options.minPxPerSec||0));this.isScrollable=i>s;const a=this.options.fillParent&&!this.isScrollable,o=(a?s:i)*n;if(this.wrapper.style.width=a?"100%":`${i}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=e,this.emit("render"),this.options.splitChannels)for(let l=0;l<e.numberOfChannels;l++){const c=Object.assign(Object.assign({},this.options),(r=this.options.splitChannels)===null||r===void 0?void 0:r[l]);this.renderChannel([e.getChannelData(l)],c,o,l)}else{const l=[e.getChannelData(0)];e.numberOfChannels>1&&l.push(e.getChannelData(1)),this.renderChannel(l,this.options,o,0)}Promise.resolve().then(()=>this.emit("rendered"))})}reRender(){if(this.unsubscribeOnScroll.forEach(n=>n()),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:e}=this.scrollContainer,{right:r}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&e!==this.scrollContainer.scrollWidth){const{right:n}=this.progressWrapper.getBoundingClientRect();let s=n-r;s*=2,s=s<0?Math.floor(s):Math.ceil(s),s/=2,this.scrollContainer.scrollLeft+=s}}zoom(e){this.options.minPxPerSec=e,this.reRender()}scrollIntoView(e,r=!1){const{scrollLeft:n,scrollWidth:s,clientWidth:i}=this.scrollContainer,a=e*s,o=n,l=n+i,c=i/2;if(this.isDragging)a+30>l?this.scrollContainer.scrollLeft+=30:a-30<o&&(this.scrollContainer.scrollLeft-=30);else{(a<o||a>l)&&(this.scrollContainer.scrollLeft=a-(this.options.autoCenter?c:0));const d=a-n-c;r&&this.options.autoCenter&&d>0&&(this.scrollContainer.scrollLeft+=Math.min(d,10))}{const d=this.scrollContainer.scrollLeft,f=d/s,h=(d+i)/s;this.emit("scroll",f,h,d,d+i)}}renderProgress(e,r){if(isNaN(e))return;const n=100*e;this.canvasWrapper.style.clipPath=`polygon(${n}% 0, 100% 0, 100% 100%, ${n}% 100%)`,this.progressWrapper.style.width=`${n}%`,this.cursor.style.left=`${n}%`,this.cursor.style.transform=`translateX(-${Math.round(n)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(e,r)}exportImage(e,r,n){return st(this,void 0,void 0,function*(){const s=this.canvasWrapper.querySelectorAll("canvas");if(!s.length)throw new Error("No waveform data");if(n==="dataURL"){const i=Array.from(s).map(a=>a.toDataURL(e,r));return Promise.resolve(i)}return Promise.all(Array.from(s).map(i=>new Promise((a,o)=>{i.toBlob(l=>{l?a(l):o(new Error("Could not export image"))},e,r)})))})}}si.MAX_CANVAS_WIDTH=8e3,si.MAX_NODES=10;class AE extends ns{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}class vo extends ns{constructor(e=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=e,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return st(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(e){if(this.currentSrc=e,this._duration=void 0,!e)return this.buffer=null,void this.emit("emptied");fetch(e).then(r=>{if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return r.arrayBuffer()}).then(r=>this.currentSrc!==e?null:this.audioContext.decodeAudioData(r)).then(r=>{this.currentSrc===e&&(this.buffer=r,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var e;if(!this.paused)return;this.paused=!1,(e=this.bufferNode)===null||e===void 0||e.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let r=this.playedDuration*this._playbackRate;(r>=this.duration||r<0)&&(r=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,r),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var e;this.paused=!0,(e=this.bufferNode)===null||e===void 0||e.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return st(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(e){const r=e-this.currentTime,n=this.bufferNode;n==null||n.stop(this.audioContext.currentTime+r),n==null||n.addEventListener("ended",()=>{n===this.bufferNode&&(this.bufferNode=null,this.pause())},{once:!0})}setSinkId(e){return st(this,void 0,void 0,function*(){return this.audioContext.setSinkId(e)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this.bufferNode&&(this.bufferNode.playbackRate.value=e)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(e){const r=!this.paused;r&&this._pause(),this.playedDuration=e/this._playbackRate,r&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var e,r;return(e=this._duration)!==null&&e!==void 0?e:((r=this.buffer)===null||r===void 0?void 0:r.duration)||0}set duration(e){this._duration=e}get volume(){return this.gainNode.gain.value}set volume(e){this.gainNode.gain.value=e,this.emit("volumechange")}get muted(){return this._muted}set muted(e){this._muted!==e&&(this._muted=e,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(e){return/^(audio|video)\//.test(e)}getGainNode(){return this.gainNode}getChannelData(){const e=[];if(!this.buffer)return e;const r=this.buffer.numberOfChannels;for(let n=0;n<r;n++)e.push(this.buffer.getChannelData(n));return e}}const PE={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class ai extends TE{static create(e){return new ai(e)}constructor(e){const r=e.media||(e.backend==="WebAudio"?new vo:void 0);super({media:r,mediaControls:e.mediaControls,autoplay:e.autoplay,playbackRate:e.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},PE,e),this.timer=new AE;const n=r?void 0:this.getMediaElement();this.renderer=new si(this.options,n),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const s=this.options.url||this.getSrc()||"";Promise.resolve().then(()=>{this.emit("init");const{peaks:i,duration:a}=this.options;(s||i&&a)&&this.load(s,i,a).catch(()=>null)})}updateProgress(e=this.getCurrentTime()){return this.renderer.renderProgress(e/this.getDuration(),this.isPlaying()),e}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const e=this.updateProgress();this.emit("timeupdate",e),this.emit("audioprocess",e),this.stopAtPosition!=null&&this.isPlaying()&&e>=this.stopAtPosition&&this.pause()}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const e=this.updateProgress();this.emit("timeupdate",e)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null}),this.onMediaEvent("emptied",()=>{this.timer.stop(),this.stopAtPosition=null}),this.onMediaEvent("ended",()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}),this.onMediaEvent("error",()=>{var e;this.emit("error",(e=this.getMediaElement().error)!==null&&e!==void 0?e:new Error("Media error")),this.stopAtPosition=null}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(e,r)=>{this.options.interact&&(this.seekTo(e),this.emit("interaction",e*this.getDuration()),this.emit("click",e,r))}),this.renderer.on("dblclick",(e,r)=>{this.emit("dblclick",e,r)}),this.renderer.on("scroll",(e,r,n,s)=>{const i=this.getDuration();this.emit("scroll",e*i,r*i,n,s)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}),this.renderer.on("dragstart",e=>{this.emit("dragstart",e)}),this.renderer.on("dragend",e=>{this.emit("dragend",e)}));{let e;this.subscriptions.push(this.renderer.on("drag",r=>{if(!this.options.interact)return;let n;this.renderer.renderProgress(r),clearTimeout(e),this.isPlaying()?n=0:this.options.dragToSeek===!0?n=200:typeof this.options.dragToSeek=="object"&&this.options.dragToSeek!==void 0&&(n=this.options.dragToSeek.debounceTime),e=setTimeout(()=>{this.seekTo(r)},n),this.emit("interaction",r*this.getDuration()),this.emit("drag",r)}))}}initPlugins(){var e;!((e=this.options.plugins)===null||e===void 0)&&e.length&&this.options.plugins.forEach(r=>{this.registerPlugin(r)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(e=>e()),this.mediaSubscriptions=[]}setOptions(e){this.options=Object.assign({},this.options,e),e.duration&&!e.peaks&&(this.decodedData=Es.createBuffer(this.exportPeaks(),e.duration)),e.peaks&&e.duration&&(this.decodedData=Es.createBuffer(e.peaks,e.duration)),this.renderer.setOptions(this.options),e.audioRate&&this.setPlaybackRate(e.audioRate),e.mediaControls!=null&&(this.getMediaElement().controls=e.mediaControls)}registerPlugin(e){return e._init(this),this.plugins.push(e),this.subscriptions.push(e.once("destroy",()=>{this.plugins=this.plugins.filter(r=>r!==e)})),e}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(e){return this.renderer.setScroll(e)}setScrollTime(e){const r=e/this.getDuration();this.renderer.setScrollPercentage(r)}getActivePlugins(){return this.plugins}loadAudio(e,r,n,s){return st(this,void 0,void 0,function*(){var i;if(this.emit("load",e),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,!r&&!n){const o=this.options.fetchParams||{};window.AbortController&&!o.signal&&(this.abortController=new AbortController,o.signal=(i=this.abortController)===null||i===void 0?void 0:i.signal);const l=d=>this.emit("loading",d);r=yield CE.fetchBlob(e,l,o);const c=this.options.blobMimeType;c&&(r=new Blob([r],{type:c}))}this.setSrc(e,r);const a=yield new Promise(o=>{const l=s||this.getDuration();l?o(l):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",()=>o(this.getDuration()),{once:!0}))});if(!e&&!r){const o=this.getMediaElement();o instanceof vo&&(o.duration=a)}if(n)this.decodedData=Es.createBuffer(n,a||0);else if(r){const o=yield r.arrayBuffer();this.decodedData=yield Es.decode(o,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(e,r,n){return st(this,void 0,void 0,function*(){try{return yield this.loadAudio(e,void 0,r,n)}catch(s){throw this.emit("error",s),s}})}loadBlob(e,r,n){return st(this,void 0,void 0,function*(){try{return yield this.loadAudio("",e,r,n)}catch(s){throw this.emit("error",s),s}})}zoom(e){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(e),this.emit("zoom",e)}getDecodedData(){return this.decodedData}exportPeaks({channels:e=2,maxLength:r=8e3,precision:n=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const s=Math.min(e,this.decodedData.numberOfChannels),i=[];for(let a=0;a<s;a++){const o=this.decodedData.getChannelData(a),l=[],c=o.length/r;for(let d=0;d<r;d++){const f=o.slice(Math.floor(d*c),Math.ceil((d+1)*c));let h=0;for(let g=0;g<f.length;g++){const y=f[g];Math.abs(y)>Math.abs(h)&&(h=y)}l.push(Math.round(h*n)/n)}i.push(l)}return i}getDuration(){let e=super.getDuration()||0;return e!==0&&e!==1/0||!this.decodedData||(e=this.decodedData.duration),e}toggleInteraction(e){this.options.interact=e}setTime(e){this.stopAtPosition=null,super.setTime(e),this.updateProgress(e),this.emit("timeupdate",e)}seekTo(e){const r=this.getDuration()*e;this.setTime(r)}play(e,r){const n=Object.create(null,{play:{get:()=>super.play}});return st(this,void 0,void 0,function*(){e!=null&&this.setTime(e);const s=yield n.play.call(this);return r!=null&&(this.media instanceof vo?this.media.stopAt(r):this.stopAtPosition=r),s})}playPause(){return st(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(e){this.setTime(this.getCurrentTime()+e)}empty(){this.load("",[[0]],.001)}setMediaElement(e){this.unsubscribePlayerEvents(),super.setMediaElement(e),this.initPlayerEvents()}exportImage(){return st(this,arguments,void 0,function*(e="image/png",r=1,n="dataURL"){return this.renderer.exportImage(e,r,n)})}destroy(){var e;this.emit("destroy"),(e=this.abortController)===null||e===void 0||e.abort(),this.plugins.forEach(r=>r.destroy()),this.subscriptions.forEach(r=>r()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}ai.BasePlugin=class extends ns{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}},ai.dom=EE;var xE=ee('<div class="call-active-content svelte-1yki3of"><div class="audio-wave-container svelte-1yki3of"></div> <button class="modal-action-btn end-call-btn svelte-1yki3of">End Call</button></div>'),OE=ee('<div class="sunny-content svelte-1yki3of"><div class="sunny-option svelte-1yki3of"><p class="sunny-modal-option svelte-1yki3of">Option 1</p> <p class="sunny-modal-option-description svelte-1yki3of">Use your phone to call <span class="sunny-modal-option-description-phone svelte-1yki3of">617-329-4181</span></p></div> <div class="sunny-option svelte-1yki3of"><p class="sunny-modal-option svelte-1yki3of">Option 2</p> <button class="modal-action-btn svelte-1yki3of">Start Browser Call</button></div> <p class="sunny-privacy-note svelte-1yki3of">Your call may be recorded.</p></div>'),ME=ee('<div class="sunny-modal-backdrop svelte-1yki3of"><div class="sunny-modal-container svelte-1yki3of" role="dialog" aria-modal="true"><button class="close-button svelte-1yki3of" aria-label="Close modal">&times;</button> <div class="sunny-modal-inner-content svelte-1yki3of"><h3 class="sunny-modal-title svelte-1yki3of"><!></h3> <!></div></div></div>');function LE(t,e){Je(e,!1);let r=ne(e,"isOpen",12,!1),n=H(),s=0,i=H(!1),a=null,o=null,l=[],c=!1,d=0,f=null,h=null;const g=new SE("18aebfed-8669-4ace-beec-e219652fc662"),y="24c467e9-e11f-4ad1-8643-ddee12f1ab17";function b(D){D.key==="Escape"&&r(!1)}function _(D){p(n)&&D.target instanceof Node&&!p(n).contains(D.target)&&D.target.classList.contains("sunny-modal-backdrop")&&r(!1)}function A(){a&&l.length>0&&C()}function C(){if(!(!a||!p(n)))try{const D=p(n).querySelector(".audio-wave-container");if(!D){console.error("Audio wave container not found");return}if(D.offsetWidth===0||D.offsetHeight===0){console.error("Container has zero dimensions:",D.offsetWidth,"x",D.offsetHeight);return}console.log("Container dimensions:",D.offsetWidth,"x",D.offsetHeight),a.destroy(),a=ai.create({container:D,waveColor:"violet",progressColor:"purple",cursorColor:"transparent",height:80,normalize:!0,peaks:[l.length>0?l:[.5,-.5,.5,-.5]],duration:l.length/((o==null?void 0:o.sampleRate)||44100)}),console.log("Waveform updated with data length:",l.length)}catch(D){console.error("Error updating waveform:",D)}}function P(){if(!p(i))return;const D=Date.now();if(D-d>500){for(let B=0;B<10;B++)l.push(Math.random()*.6-.3);l.length>1e3&&(l=l.slice(l.length-1e3)),d=D,C()}}rt(()=>{document.addEventListener("keydown",b),document.addEventListener("mousedown",_),setTimeout(()=>{if(p(n)){o=new AudioContext,l=Array(100).fill(0).map(()=>Math.random()*.4-.2);const D=p(n).querySelector(".audio-wave-container");if(!D){console.error("Audio wave container not found during initialization");return}console.log("Initializing WaveSurfer in container:",D);try{a=ai.create({container:D,waveColor:"violet",progressColor:"purple",cursorColor:"transparent",height:80,normalize:!0,peaks:[l],duration:l.length/(o.sampleRate||44100)}),console.log("WaveSurfer initialized successfully")}catch(M){console.error("Error initializing WaveSurfer:",M)}const B=setInterval(P,200);return window.addEventListener("resize",A),()=>{clearInterval(B)}}},1e3)}),Gg(()=>{document.removeEventListener("keydown",b),document.removeEventListener("mousedown",_),a&&a.destroy(),h&&clearInterval(h),window.removeEventListener("resize",A)});function w(){r(!0)}async function k(){console.log("Starting browser call...");try{const D=await g.start(y);console.log("Call started:",D),j(i,!0),d=Date.now();try{f=g.getDailyCallObject(),f&&(console.log("Successfully retrieved Daily call object:",f),setTimeout(()=>{try{f&&f.participants()&&(console.log("Daily participants:",f.participants()),Object.keys(f.participants()).forEach(B=>{const M=f.participants()[B];console.log("Setting up audio for participant:",M),M.audioTrack&&T(M.audioTrack)}),f.on("track-started",B=>{B.track.kind==="audio"&&(console.log("New audio track started:",B),T(B.track))}))}catch(B){console.error("Error accessing Daily participants:",B)}},2e3))}catch(B){console.error("Error accessing Daily call object:",B)}g.on("volume-level",B=>{s=B,d=Date.now(),console.log("Volume level:",B),c=B>.1;const M=Math.min(B*3,1)*2-1;l.push(M),l.length>1e3&&(l=l.slice(l.length-1e3)),C()}),g.on("message",B=>{if(console.log("Message received:",B),B&&B.type==="transcript"&&(console.log("Transcript received:",B),!c)){for(let M=0;M<20;M++)l.push(Math.random()*1-.5);l.length>1e3&&(l=l.slice(l.length-1e3)),C()}}),g.on("speech-start",()=>{console.log("VAPI speech started"),c=!0}),g.on("speech-end",()=>{console.log("VAPI speech ended"),c=!1}),g.on("call-start",()=>{console.log("VAPI call started")}),g.on("call-end",()=>{console.log("VAPI call ended"),j(i,!1)}),g.on("error",B=>{console.error("VAPI error:",B)})}catch(D){console.error("Error starting call:",D)}}function T(D){try{o||(o=new AudioContext);const B=new MediaStream([D]),M=o.createMediaStreamSource(B),F=o.createAnalyser();F.fftSize=2048,M.connect(F);const W=F.frequencyBinCount,Y=new Uint8Array(W);h=setInterval(()=>{F.getByteTimeDomainData(Y);const Q=[];for(let X=0;X<W;X+=10)Q.push(Y[X]/128-1);l=[...Q],C()},100),console.log("Audio processing set up successfully for track")}catch(B){console.error("Error setting up audio processing:",B)}}function O(){h&&(clearInterval(h),h=null),g.stop(),j(i,!1),r(!1)}Qe();var I=Ar(),z=Ze(I);{var V=D=>{var B=ME(),M=x(B),F=x(M),W=N(F,2),Y=x(W),Q=x(Y);{var X=Z=>{var u=Li("Talking with Sunny...");K(Z,u)},pe=Z=>{var u=Li("Two ways to connect with Sunny");K(Z,u)};ie(Q,Z=>{p(i)?Z(X):Z(pe,!1)})}var be=N(Y,2);{var $=Z=>{var u=xE(),m=N(x(u),2);de("click",m,()=>O()),K(Z,u)},De=Z=>{var u=OE(),m=N(x(u),2),v=N(x(m),2);de("click",v,()=>k()),K(Z,u)};ie(be,Z=>{p(i)?Z($):Z(De,!1)})}Xe(M,Z=>j(n,Z),()=>p(n)),de("click",F,()=>r(!1)),Vs(3,M,()=>_1,()=>({duration:200,start:.95})),Vs(3,B,()=>sc,()=>({duration:200})),K(D,B)};ie(z,D=>{r()&&D(V)})}return K(t,I),Fg(e,"open",w),Ge({open:w})}var IE=ee('<meta property="og:image"> <meta property="og:image:width" content="1200"> <meta property="og:image:height" content="630"> <meta property="og:image:alt" content="Software for one, for everyone.">',1),jE=ee('<meta name="twitter:image"> <meta name="twitter:image:alt" content="Software for one, for everyone.">',1),RE=ee(`<meta name="description"> <link rel="canonical"> <meta property="og:type"> <meta property="og:url"> <meta property="og:title"> <meta property="og:description"> <meta property="og:site_name" content="Wendy Ham's Weekend Projects"> <meta property="og:locale" content="en_US"> <!> <meta name="twitter:card"> <meta name="twitter:site" content="@xnham"> <meta name="twitter:creator" content="@xnham"> <meta name="twitter:title"> <meta name="twitter:description"> <!> <!>`,1),DE=ee('<!> <div class="svelte-svr8jt"><!> <main class="svelte-svr8jt"><!></main> <!></div>',1);function NE(t,e){Je(e,!1);const[r,n]=zg(),s=()=>qg(ic,"$metadata",r),i=H();let a=H("home"),o=H();function l(){const w=window.location.pathname;r1(),w==="/about"?j(a,"about"):w==="/next"?j(a,"next"):w.startsWith("/writing")?j(a,"writing"):w==="/contact"?j(a,"contact"):j(a,"home"),typeof gtag=="function"&&gtag("event","page_view",{page_title:s().title,page_location:window.location.href,page_path:window.location.pathname})}function c(){l()}rt(()=>((async()=>{await ka(),l(),ip(),C1()})(),window.addEventListener("popstate",c),window.addEventListener("spanavigate",c),document.addEventListener("click",d),()=>{window.removeEventListener("popstate",c),window.removeEventListener("spanavigate",c),document.removeEventListener("click",d)}));function d(w){const k=w.target.closest("a");if(k&&k.href&&new URL(k.href).origin===window.location.origin){const T=k.getAttribute("href");if(T==="/sunny"){w.preventDefault(),w.stopPropagation(),p(o).open();return}w.preventDefault(),window.history.pushState({},"",T),l()}}bt(()=>{},()=>{j(i,{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"#wendyham",name:"Wendy Ham",jobTitle:"Builder of Software for One",description:"Building hyperpersonal software to create bespoke custom automation for individuals and small businesses.",knowsAbout:["AI-assisted software development","Vibe coding","Software for one","Custom automation","Hyperpersonal software solutions"],address:{"@type":"PostalAddress",addressLocality:"New York",addressRegion:"NY",addressCountry:"US"},sameAs:["https://www.linkedin.com/in/whamwhamwham/","https://www.instagram.com/whamwhamwham/","https://scholar.google.com/citations?user=vTgiK8cAAAAJ&hl=en","https://www.crunchbase.com/person/wendy-ham"]},{"@type":"WebSite","@id":"#website",url:"https://xnham.com",name:"Wendy Ham - Builder of Software for One",description:"Weekend Projects: Exploring the creation of hyperpersonal, hypertargeted software tailored to solve specific individual and small business needs.",author:{"@id":"#wendyham"}},{"@type":"ItemList","@id":"#projectCollection",name:"Software for One Projects",description:"Collection of hyperpersonal software solutions built by Wendy Ham",itemListElement:[{"@type":"CreativeWork",position:1,name:"Expeditr",description:"Tool that consolidates recipe URLs into one ingredient list for easier meal planning and grocery shopping.",author:{"@id":"#wendyham"},url:"https://xnham.com/projects/expeditr"},{"@type":"SoftwareApplication",position:2,name:"Miss Penny",description:"Daily text notification system to track expenses against budget, reducing monthly spending by $334 on average.",author:{"@id":"#wendyham"},applicationCategory:"FinanceApplication",url:"https://xnham.com/projects/miss-penny"},{"@type":"SoftwareApplication",position:3,name:"Custom Google Calendar Integration",description:"Automated system that extracts lesson schedules from a club's web app and posts them to Google Calendar for easy access.",author:{"@id":"#wendyham"},applicationCategory:"ProductivityApplication",url:"https://xnham.com/projects/calendar-integration"}]}]})}),On(),Qe();var f=DE();Qf(w=>{var k=RE(),T=Ze(k),O=N(T,2),I=N(O,2),z=N(I,2),V=N(z,2),D=N(V,2),B=N(D,6);{var M=be=>{var $=IE(),De=Ze($);_e(()=>Ye(De,"content",s().image)),K(be,$)};ie(B,be=>{s().image&&be(M)})}var F=N(B,2),W=N(F,6),Y=N(W,2),Q=N(Y,2);{var X=be=>{var $=jE(),De=Ze($);_e(()=>Ye(De,"content",s().image)),K(be,$)};ie(Q,be=>{s().image&&be(X)})}var pe=N(Q,2);xr(pe,()=>`<script type="application/ld+json">${JSON.stringify(p(i))}<\/script>`,!1,!1),_e(()=>{If.title=s().title,Ye(T,"content",s().description),Ye(O,"href",s().canonicalUrl||window.location.href),Ye(I,"content",s().type),Ye(z,"content",s().url||window.location.href),Ye(V,"content",s().title),Ye(D,"content",s().description),Ye(F,"content",s().twitterCard||"summary_large_image"),Ye(W,"content",s().title),Ye(Y,"content",s().description)}),K(w,k)});var h=Ze(f);Xe(LE(h,{$$legacy:!0}),w=>j(o,w),()=>p(o));var g=N(h,2),y=x(g);Kg(y,{get currentPage(){return p(a)}});var b=N(y,2),_=x(b);{var A=w=>{i1(w,{})},C=(w,k)=>{{var T=I=>{z1(I,{})},O=(I,z)=>{{var V=B=>{h1(B,{})},D=(B,M)=>{{var F=Y=>{U1(Y,{})},W=(Y,Q)=>{{var X=pe=>{H1(pe,{})};ie(Y,pe=>{p(a)==="contact"&&pe(X)},Q)}};ie(B,Y=>{p(a)==="writing"?Y(F):Y(W,!1)},M)}};ie(I,B=>{p(a)==="next"?B(V):B(D,!1)},z)}};ie(w,I=>{p(a)==="about"?I(T):I(O,!1)},k)}};ie(_,w=>{p(a)==="home"?w(A):w(C,!1)})}var P=N(b,2);Xg(P,{}),K(t,f),Ge(),n()}sb.add(op,up,lp,dp,Ow,Pw,Dw,$w,Rw,Nw,xw,Lw,Fw,Mw,cp,fp,jw);const rm=document.getElementById("app");if(!rm)throw new Error("Could not find element with id 'app'");wg(NE,{target:rm});export{K as a,Y1 as g,ee as t};
