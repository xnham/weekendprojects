import{s as Ze,e as ie,a as S,f as E,G as xe,d as c,c as A,g as w,h as J,j as f,w as v,i as _,A as et,W as ot,o as tt,r as ne,F as Ce,l as $,m as B,J as Se,K as Ae,L as Le,n as pe,y as O,C as it,H as at,I as ct}from"../chunks/scheduler.90cbc393.js";import{S as st,i as nt,g as ke,t as K,c as ve,a as z,b as We,d as De,m as Me,e as He,f as ze}from"../chunks/index.f2611f2d.js";import{p as rt}from"../chunks/stores.7be27d27.js";import{m as ut}from"../chunks/metadataStore.410d5ae1.js";import{f as Oe}from"../chunks/index.f9edecbc.js";import{s as ft}from"../chunks/supabase.8f09c013.js";import{I as Ue}from"../chunks/InteractionButton.c0953185.js";import{s as dt,C as pt,i as mt,a as _t,b as ht,t as yt,r as gt}from"../chunks/essayInteractionService.153f6b7c.js";function kt({params:l}){return{slug:l.slug}}const Gt=Object.freeze(Object.defineProperty({__proto__:null,load:kt},Symbol.toStringTag,{value:"Module"}));const vt=l=>({}),$e=l=>({}),bt=l=>({}),Be=l=>({}),Et=l=>({}),Ke=l=>({});function Ge(l){let t,s,e,o,a,d,i,y="{JSON.stringify(articleJsonLd)}",p,C,n,T,L,D,P,h,k,I,b;return document.title=t=l[0].title+" | Wendy Ham's Weekend Projects",{c(){s=S(),e=E("meta"),o=S(),a=E("link"),d=S(),i=E("script"),i.textContent=y,p=S(),C=E("meta"),n=S(),T=E("meta"),L=S(),D=E("meta"),h=S(),k=E("meta"),I=S(),b=E("meta"),this.h()},l(r){s=A(r),e=w(r,"META",{name:!0,content:!0}),o=A(r),a=w(r,"LINK",{rel:!0,href:!0}),d=A(r),i=w(r,"SCRIPT",{type:!0,"data-svelte-h":!0}),ne(i)!=="svelte-1yj4vgp"&&(i.textContent=y),p=A(r),C=w(r,"META",{property:!0,content:!0}),n=A(r),T=w(r,"META",{property:!0,content:!0}),L=A(r),D=w(r,"META",{property:!0,content:!0}),h=A(r),k=w(r,"META",{property:!0,content:!0}),I=A(r),b=w(r,"META",{property:!0,content:!0}),this.h()},h(){f(e,"name","description"),f(e,"content",l[2]),f(a,"rel","canonical"),f(a,"href",l[1]),f(i,"type","application/ld+json"),f(C,"property","og:type"),f(C,"content","article"),f(T,"property","og:url"),f(T,"content",l[1]),f(D,"property","og:title"),f(D,"content",P=`${l[0].title} | Wendy Ham's Weekend Projects`),f(k,"property","og:description"),f(k,"content",l[2]),f(b,"property","og:image"),f(b,"content","https://xnham.com/images/og-image.png")},m(r,u){_(r,s,u),_(r,e,u),_(r,o,u),_(r,a,u),_(r,d,u),_(r,i,u),_(r,p,u),_(r,C,u),_(r,n,u),_(r,T,u),_(r,L,u),_(r,D,u),_(r,h,u),_(r,k,u),_(r,I,u),_(r,b,u)},p(r,u){u[0]&1&&t!==(t=r[0].title+" | Wendy Ham's Weekend Projects")&&(document.title=t),u[0]&4&&f(e,"content",r[2]),u[0]&2&&f(a,"href",r[1]),u[0]&2&&f(T,"content",r[1]),u[0]&1&&P!==(P=`${r[0].title} | Wendy Ham's Weekend Projects`)&&f(D,"content",P),u[0]&4&&f(k,"content",r[2])},d(r){r&&(c(s),c(e),c(o),c(a),c(d),c(i),c(p),c(C),c(n),c(T),c(L),c(D),c(h),c(k),c(I),c(b))}}}function wt(l){let t,s,e,o,a=Xe(l[0].date)+"",d,i,y,p,C,n,T,L,D,P=l[0].title+"",h,k,I,b=l[0].description+"",r,u,q,V,R,W,H,j,X=l[11]()+"",ae,ce,me=l[11]()===1?"like":"likes",ue,fe,g,N=l[12]()+"",U,Q,x=l[12]()===1?"share":"shares",de,be,ee,Ve=l[13]()+"",Ee,we,Ne=l[13]()===1?"view":"views",Te,_e,Z;const Ie=l[17]["before-essay"],G=Ce(Ie,l,l[16],Ke);p=new Ue({props:{type:"like",active:l[6],count:void 0}}),p.$on("click",l[9]),n=new Ue({props:{type:"share",active:!1,count:void 0}}),n.$on("click",l[10]);let F=l[7]&&Ye(l);const je=[St,Ct],te=[];function Fe(m,M){return m[3]?0:1}V=Fe(l),R=te[V]=je[V](l);const Pe=l[17]["after-essay"],Y=Ce(Pe,l,l[16],$e);return{c(){G&&G.c(),t=S(),s=E("div"),e=E("div"),o=E("p"),d=$(a),i=S(),y=E("div"),We(p.$$.fragment),C=S(),We(n.$$.fragment),T=S(),F&&F.c(),L=S(),D=E("h2"),h=$(P),k=S(),I=E("p"),r=$(b),u=S(),q=E("div"),R.c(),W=S(),H=E("div"),j=E("span"),ae=$(X),ce=S(),ue=$(me),fe=S(),g=E("span"),U=$(N),Q=S(),de=$(x),be=S(),ee=E("span"),Ee=$(Ve),we=S(),Te=$(Ne),_e=S(),Y&&Y.c(),this.h()},l(m){G&&G.l(m),t=A(m),s=w(m,"DIV",{class:!0});var M=J(s);e=w(M,"DIV",{class:!0});var se=J(e);o=w(se,"P",{class:!0});var re=J(o);d=B(re,a),re.forEach(c),i=A(se),y=w(se,"DIV",{class:!0});var le=J(y);De(p.$$.fragment,le),C=A(le),De(n.$$.fragment,le),T=A(le),F&&F.l(le),le.forEach(c),se.forEach(c),L=A(M),D=w(M,"H2",{class:!0});var qe=J(D);h=B(qe,P),qe.forEach(c),k=A(M),I=w(M,"P",{class:!0});var Je=J(I);r=B(Je,b),Je.forEach(c),u=A(M),q=w(M,"DIV",{class:!0});var Re=J(q);R.l(Re),Re.forEach(c),M.forEach(c),W=A(m),H=w(m,"DIV",{class:!0});var oe=J(H);j=w(oe,"SPAN",{class:!0});var he=J(j);ae=B(he,X),ce=A(he),ue=B(he,me),he.forEach(c),fe=A(oe),g=w(oe,"SPAN",{class:!0});var ye=J(g);U=B(ye,N),Q=A(ye),de=B(ye,x),ye.forEach(c),be=A(oe),ee=w(oe,"SPAN",{class:!0});var ge=J(ee);Ee=B(ge,Ve),we=A(ge),Te=B(ge,Ne),ge.forEach(c),oe.forEach(c),_e=A(m),Y&&Y.l(m),this.h()},h(){f(o,"class","essay-date svelte-15h8k01"),f(y,"class","essay-buttons svelte-15h8k01"),f(e,"class","essay-header-row svelte-15h8k01"),f(D,"class","essay-title svelte-15h8k01"),f(I,"class","essay-description svelte-15h8k01"),f(q,"class","content svelte-15h8k01"),f(s,"class","essay-container svelte-15h8k01"),f(j,"class","essay-stat"),f(g,"class","essay-stat"),f(ee,"class","essay-stat"),f(H,"class","essay-stats svelte-15h8k01")},m(m,M){G&&G.m(m,M),_(m,t,M),_(m,s,M),v(s,e),v(e,o),v(o,d),v(e,i),v(e,y),Me(p,y,null),v(y,C),Me(n,y,null),v(y,T),F&&F.m(y,null),v(s,L),v(s,D),v(D,h),v(s,k),v(s,I),v(I,r),v(s,u),v(s,q),te[V].m(q,null),_(m,W,M),_(m,H,M),v(H,j),v(j,ae),v(j,ce),v(j,ue),v(H,fe),v(H,g),v(g,U),v(g,Q),v(g,de),v(H,be),v(H,ee),v(ee,Ee),v(ee,we),v(ee,Te),_(m,_e,M),Y&&Y.m(m,M),Z=!0},p(m,M){G&&G.p&&(!Z||M[0]&65536)&&Se(G,Ie,m,m[16],Z?Le(Ie,m[16],M,Et):Ae(m[16]),Ke),(!Z||M[0]&1)&&a!==(a=Xe(m[0].date)+"")&&pe(d,a);const se={};M[0]&64&&(se.active=m[6]),p.$set(se),m[7]?F?(F.p(m,M),M[0]&128&&z(F,1)):(F=Ye(m),F.c(),z(F,1),F.m(y,null)):F&&(ke(),K(F,1,1,()=>{F=null}),ve()),(!Z||M[0]&1)&&P!==(P=m[0].title+"")&&pe(h,P),(!Z||M[0]&1)&&b!==(b=m[0].description+"")&&pe(r,b);let re=V;V=Fe(m),V===re?te[V].p(m,M):(ke(),K(te[re],1,1,()=>{te[re]=null}),ve(),R=te[V],R?R.p(m,M):(R=te[V]=je[V](m),R.c()),z(R,1),R.m(q,null)),Y&&Y.p&&(!Z||M[0]&65536)&&Se(Y,Pe,m,m[16],Z?Le(Pe,m[16],M,vt):Ae(m[16]),$e)},i(m){Z||(z(G,m),z(p.$$.fragment,m),z(n.$$.fragment,m),z(F),z(R),z(Y,m),Z=!0)},o(m){K(G,m),K(p.$$.fragment,m),K(n.$$.fragment,m),K(F),K(R),K(Y,m),Z=!1},d(m){m&&(c(t),c(s),c(W),c(H),c(_e)),G&&G.d(m),He(p),He(n),F&&F.d(),te[V].d(),Y&&Y.d(m)}}}function Tt(l){let t,s="Essay not found";return{c(){t=E("div"),t.textContent=s,this.h()},l(e){t=w(e,"DIV",{class:!0,"data-svelte-h":!0}),ne(t)!=="svelte-976hnr"&&(t.textContent=s),this.h()},h(){f(t,"class","error svelte-15h8k01")},m(e,o){_(e,t,o)},p:O,i:O,o:O,d(e){e&&c(t)}}}function It(l){let t,s;return{c(){t=E("div"),s=$(l[5]),this.h()},l(e){t=w(e,"DIV",{class:!0});var o=J(t);s=B(o,l[5]),o.forEach(c),this.h()},h(){f(t,"class","error svelte-15h8k01")},m(e,o){_(e,t,o),v(t,s)},p(e,o){o[0]&32&&pe(s,e[5])},i:O,o:O,d(e){e&&c(t)}}}function Pt(l){let t,s="Loading essay...";return{c(){t=E("div"),t.textContent=s,this.h()},l(e){t=w(e,"DIV",{class:!0,"data-svelte-h":!0}),ne(t)!=="svelte-1hhis7s"&&(t.textContent=s),this.h()},h(){f(t,"class","loading svelte-15h8k01")},m(e,o){_(e,t,o)},p:O,i:O,o:O,d(e){e&&c(t)}}}function Ye(l){let t,s,e,o;return{c(){t=E("div"),s=$(l[7]),this.h()},l(a){t=w(a,"DIV",{class:!0});var d=J(t);s=B(d,l[7]),d.forEach(c),this.h()},h(){f(t,"class","copy-feedback svelte-15h8k01")},m(a,d){_(a,t,d),v(t,s),o=!0},p(a,d){(!o||d[0]&128)&&pe(s,a[7])},i(a){o||(a&&it(()=>{o&&(e||(e=ze(t,Oe,{duration:150},!0)),e.run(1))}),o=!0)},o(a){a&&(e||(e=ze(t,Oe,{duration:150},!1)),e.run(0)),o=!1},d(a){a&&c(t),a&&e&&e.end()}}}function Ct(l){let t;const s=l[17]["content-actions"],e=Ce(s,l,l[16],Be);return{c(){e&&e.c()},l(o){e&&e.l(o)},m(o,a){e&&e.m(o,a),t=!0},p(o,a){e&&e.p&&(!t||a[0]&65536)&&Se(e,s,o,o[16],t?Le(s,o[16],a,bt):Ae(o[16]),Be)},i(o){t||(z(e,o),t=!0)},o(o){K(e,o),t=!1},d(o){e&&e.d(o)}}}function St(l){let t,s;return{c(){t=new at(!1),s=ie(),this.h()},l(e){t=ct(e,!1),s=ie(),this.h()},h(){t.a=s},m(e,o){t.m(l[3],e,o),_(e,s,o)},p(e,o){o[0]&8&&t.p(e[3])},i:O,o:O,d(e){e&&(c(s),t.d())}}}function At(l){let t,s,e,o,a,d,i=l[0]&&l[8]&&Ge(l);const y=[Pt,It,Tt,wt],p=[];function C(n,T){return n[4]?0:n[5]?1:n[0]?3:2}return o=C(l),a=p[o]=y[o](l),{c(){i&&i.c(),t=ie(),s=S(),e=E("article"),a.c(),this.h()},l(n){const T=xe("svelte-gxo76b",document.head);i&&i.l(T),t=ie(),T.forEach(c),s=A(n),e=w(n,"ARTICLE",{class:!0});var L=J(e);a.l(L),L.forEach(c),this.h()},h(){f(e,"class","svelte-15h8k01")},m(n,T){i&&i.m(document.head,null),v(document.head,t),_(n,s,T),_(n,e,T),p[o].m(e,null),d=!0},p(n,T){n[0]&&n[8]?i?i.p(n,T):(i=Ge(n),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null);let L=o;o=C(n),o===L?p[o].p(n,T):(ke(),K(p[L],1,1,()=>{p[L]=null}),ve(),a=p[o],a?a.p(n,T):(a=p[o]=y[o](n),a.c()),z(a,1),a.m(e,null))},i(n){d||(z(a),d=!0)},o(n){K(a),d=!1},d(n){n&&(c(s),c(e)),i&&i.d(n),c(t),p[o].d()}}}function Xe(l){const[t,s,e]=l.split("-"),o=["January","February","March","April","May","June","July","August","September","October","November","December"],a=parseInt(s,10)-1,d=o[a],i=e.startsWith("0")?e.substring(1):e;return`${d} ${i}, ${t}`}function Lt(l,t,s){let e,o,a,d;et(l,rt,g=>s(28,d=g));let{$$slots:i={},$$scope:y}=t;const p=ot();let{slug:C=""}=t,n=null,T=null,L=!0,D=null,P={likes:{},shares:{},views:{}},h=!1,k="",I=null,b=0,r=0,u=0,q=!1,V=!1,R=null,W=!1;async function H(g){if(g)try{s(4,L=!0),s(5,D=null),console.log(`Loading essay with slug: ${g}`);const{data:N,error:U}=await ft.from("essays").select(`
          id, title, description, date, published, excerpt, slug,
          like_count, share_count, view_count, content
        `).eq("slug",g).single();if(U)throw console.error(`Error fetching essay: ${U.message}`),new Error(`Failed to load essay: ${U.message}`);if(!N)throw new Error(`No essay found with slug: ${g}`);if(N.published===!1)throw new Error("This essay is not yet published");console.log(`Essay loaded: ${N.title}`),s(0,n=N),s(3,T=N.content),s(15,V=!1),await j()}catch(N){console.error("Error loading essay:",N),s(5,D=N instanceof Error?N.message:"Failed to load essay"),p("error",N)}finally{s(4,L=!1)}}async function j(){try{console.log("Initializing interactions on Essay component");const g=await mt();if(console.log("Interactions initialized on Essay with device ID:",g),!g){console.error("Failed to initialize interactions on Essay - no device ID returned"),p("error",new Error("Failed to initialize interactions"));return}if(n&&n.id){const N=_t(n.id);console.log(`Essay ${n.id} already liked:`,N),s(6,h=N);try{await ht(n.id),console.log(`View recorded for essay ${n.id}`)}catch(U){console.error(`Error recording view for essay ${n.id}:`,U)}}}catch(g){console.error("Error during Essay interaction initialization:",g),p("error",g)}}tt(()=>{var U;let g=()=>{},N=null;try{const Q=C||((U=d==null?void 0:d.params)==null?void 0:U.slug);return console.log(`Essay component mounted with slug: ${Q}`),Q&&(!n||n.slug!==Q)&&H(Q),N=setTimeout(async()=>{try{g=dt(x=>{if(P=x,n&&n.id){const de=`${pt.ESSAY}:${n.id}`;s(6,h=!!x.likes[de])}})}catch(x){console.error("Error during delayed Essay initialization:",x),p("error",x)}},300),window.addEventListener("scroll",X),()=>{g&&g(),N&&clearTimeout(N),window.removeEventListener("scroll",X),I&&clearTimeout(I)}}catch(Q){return console.error("Error setting up Essay component:",Q),p("error",Q),()=>{g&&g(),N&&clearTimeout(N),window.removeEventListener("scroll",X),I&&clearTimeout(I)}}});function X(){typeof window>"u"||W||(W=!0,requestAnimationFrame(()=>{W=!1}))}async function ae(){if(console.log("Essay handleLike called"),!n||!n.id){console.error("Cannot like: Missing essay ID");return}try{console.log(`Toggling like for essay ID: ${n.id}`);const g=!h;b=Math.max(0,b+(g?1:-1)),q=!0,s(6,h=g),b=b;const U=await yt(n.id);console.log(`Toggle like result: ${U}`)}catch(g){console.error("Error toggling like:",g),p("error",g),b=Math.max(0,b+(h?-1:1)),s(6,h=!h),q=!1}}async function ce(){try{if(!n||!n.id){console.error("Cannot share: Missing essay ID");return}console.log(`Sharing essay ID: ${n.id}`);const g=`${window.location.origin}/writing/${n.slug}`;r+=1,q=!0,r=r,await navigator.clipboard.writeText(g),s(7,k="URL copied to clipboard!"),I&&clearTimeout(I),I=setTimeout(()=>{s(7,k="")},3e3);const N=await gt(n.id);console.log(`Share recorded: ${N}`)}catch(g){console.error("Error sharing essay:",g),p("error",g),s(7,k="Failed to copy URL"),I=setTimeout(()=>{s(7,k="")},3e3),r=Math.max(0,r-1),q=!1}}function me(){return q?b:(n==null?void 0:n.like_count)||0}function ue(){return q?r:(n==null?void 0:n.share_count)||0}function fe(){const g=(n==null?void 0:n.view_count)||0;return q?u:g+1}return l.$$set=g=>{"slug"in g&&s(14,C=g.slug),"$$scope"in g&&s(16,y=g.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&32769&&n&&!V&&(b=n.like_count||0,r=n.share_count||0,u=(n.view_count||0)+1,q=!0,s(15,V=!0)),l.$$.dirty[0]&16385&&C&&(!(n!=null&&n.slug)||n.slug!==C)&&(console.log(`Slug changed to ${C}, loading essay data`),H(C)),l.$$.dirty[0]&1&&s(1,e=typeof window<"u"?window.location.href:n!=null&&n.slug?`https://xnham.com/writing/${n.slug}`:""),l.$$.dirty[0]&1&&s(2,o=n!=null&&n.description&&(n!=null&&n.excerpt)?`${n.description} ${n.excerpt}`:(n==null?void 0:n.description)||(n==null?void 0:n.excerpt)||""),l.$$.dirty[0]&7&&s(8,a=n?{"@context":"https://schema.org","@type":"Article",headline:n.title,description:o,datePublished:n.date,author:{"@type":"Person",name:"Wendy Ham",url:"https://xnham.com"},publisher:{"@type":"Person",name:"Wendy Ham",url:"https://xnham.com"},mainEntityOfPage:{"@type":"WebPage","@id":e}}:null)},[n,e,o,T,L,D,h,k,a,ae,ce,me,ue,fe,C,V,y,i]}class Wt extends st{constructor(t){super(),nt(this,t,Lt,At,Ze,{slug:14},null,[-1,-1])}}function Dt(l){return{c(){this.h()},l(t){this.h()},h(){document.title="Essay Not Found | Wendy Ham's Weekend Projects"},m:O,p:O,d:O}}function Mt(l){let t,s,e,o,a,d,i,y,p,C,n,T,L,D,P,h,k,I;document.title=t=l[0].essay.title+" | Wendy Ham's Weekend Projects";let b=l[8]&&Qe();return{c(){s=S(),e=E("meta"),o=S(),a=E("link"),i=S(),b&&b.c(),y=S(),p=E("meta"),C=S(),n=E("meta"),T=S(),L=E("meta"),P=S(),h=E("meta"),k=S(),I=E("meta"),this.h()},l(r){s=A(r),e=w(r,"META",{name:!0,content:!0}),o=A(r),a=w(r,"LINK",{rel:!0,href:!0}),i=A(r),b&&b.l(r),y=A(r),p=w(r,"META",{property:!0,content:!0}),C=A(r),n=w(r,"META",{property:!0,content:!0}),T=A(r),L=w(r,"META",{property:!0,content:!0}),P=A(r),h=w(r,"META",{property:!0,content:!0}),k=A(r),I=w(r,"META",{property:!0,content:!0}),this.h()},h(){f(e,"name","description"),f(e,"content",l[2]),f(a,"rel","canonical"),f(a,"href",d=`https://xnham.com/writing/${l[3].params.slug}`),f(p,"property","og:type"),f(p,"content","article"),f(n,"property","og:url"),f(n,"content",l[1]),f(L,"property","og:title"),f(L,"content",D=`${l[0].essay.title} | Wendy Ham's Weekend Projects`),f(h,"property","og:description"),f(h,"content",l[2]),f(I,"property","og:image"),f(I,"content","https://xnham.com/images/og-image.png")},m(r,u){_(r,s,u),_(r,e,u),_(r,o,u),_(r,a,u),_(r,i,u),b&&b.m(r,u),_(r,y,u),_(r,p,u),_(r,C,u),_(r,n,u),_(r,T,u),_(r,L,u),_(r,P,u),_(r,h,u),_(r,k,u),_(r,I,u)},p(r,u){u&1&&t!==(t=r[0].essay.title+" | Wendy Ham's Weekend Projects")&&(document.title=t),u&4&&f(e,"content",r[2]),u&8&&d!==(d=`https://xnham.com/writing/${r[3].params.slug}`)&&f(a,"href",d),r[8]?b||(b=Qe(),b.c(),b.m(y.parentNode,y)):b&&(b.d(1),b=null),u&2&&f(n,"content",r[1]),u&1&&D!==(D=`${r[0].essay.title} | Wendy Ham's Weekend Projects`)&&f(L,"content",D),u&4&&f(h,"content",r[2])},d(r){r&&(c(s),c(e),c(o),c(a),c(i),c(y),c(p),c(C),c(n),c(T),c(L),c(P),c(h),c(k),c(I)),b&&b.d(r)}}}function Qe(l){let t,s="{JSON.stringify(articleJsonLd)}";return{c(){t=E("script"),t.textContent=s,this.h()},l(e){t=w(e,"SCRIPT",{type:!0,"data-svelte-h":!0}),ne(t)!=="svelte-1yce5l5"&&(t.textContent=s),this.h()},h(){f(t,"type","application/ld+json")},m(e,o){_(e,t,o)},d(e){e&&c(t)}}}function Ht(l){let t,s;return t=new Wt({props:{slug:l[3].params.slug}}),t.$on("error",l[9]),{c(){We(t.$$.fragment)},l(e){De(t.$$.fragment,e)},m(e,o){Me(t,e,o),s=!0},p(e,o){const a={};o&8&&(a.slug=e[3].params.slug),t.$set(a)},i(e){s||(z(t.$$.fragment,e),s=!0)},o(e){K(t.$$.fragment,e),s=!1},d(e){He(t,e)}}}function Vt(l){let t,s,e;function o(i,y){return i[5]>=lt?jt:Nt}let a=o(l),d=a(l);return{c(){t=E("div"),s=E("p"),e=$(`There was an error loading the essay. 
        `),d.c(),this.h()},l(i){t=w(i,"DIV",{class:!0});var y=J(t);s=w(y,"P",{});var p=J(s);e=B(p,`There was an error loading the essay. 
        `),d.l(p),p.forEach(c),y.forEach(c),this.h()},h(){f(t,"class","error-message svelte-1h61keq")},m(i,y){_(i,t,y),v(t,s),v(s,e),d.m(s,null)},p(i,y){a!==(a=o(i))&&(d.d(1),d=a(i),d&&(d.c(),d.m(s,null)))},i:O,o:O,d(i){i&&c(t),d.d()}}}function Nt(l){let t;return{c(){t=$("Retrying...")},l(s){t=B(s,"Retrying...")},m(s,e){_(s,t,e)},d(s){s&&c(t)}}}function jt(l){let t;return{c(){t=$("Please try refreshing the page.")},l(s){t=B(s,"Please try refreshing the page.")},m(s,e){_(s,t,e)},d(s){s&&c(t)}}}function Ft(l){let t,s,e,o,a=`&lt; 
    <a href="/writing" class="svelte-1h61keq"><span class="link-text svelte-1h61keq">Back to essays</span></a>`,d,i,y,p="<",C,n,T="Back",L,D,P,h,k,I;function b(W,H){return W[0].essay?Mt:Dt}let r=b(l),u=r(l);const q=[Vt,Ht],V=[];function R(W,H){return W[4]?0:1}return h=R(l),k=V[h]=q[h](l),{c(){u.c(),t=ie(),s=S(),e=E("div"),o=E("div"),o.innerHTML=a,d=S(),i=E("a"),y=E("span"),y.textContent=p,C=S(),n=E("span"),n.textContent=T,P=S(),k.c(),this.h()},l(W){const H=xe("svelte-akv0tl",document.head);u.l(H),t=ie(),H.forEach(c),s=A(W),e=w(W,"DIV",{class:!0});var j=J(e);o=w(j,"DIV",{class:!0,"data-svelte-h":!0}),ne(o)!=="svelte-r7biw2"&&(o.innerHTML=a),d=A(j),i=w(j,"A",{href:!0,class:!0,"aria-hidden":!0});var X=J(i);y=w(X,"SPAN",{class:!0,"data-svelte-h":!0}),ne(y)!=="svelte-19se4d7"&&(y.textContent=p),C=A(X),n=w(X,"SPAN",{class:!0,"data-svelte-h":!0}),ne(n)!=="svelte-1v4nvf1"&&(n.textContent=T),X.forEach(c),P=A(j),k.l(j),j.forEach(c),this.h()},h(){f(o,"class","back-button svelte-1h61keq"),f(y,"class","arrow svelte-1h61keq"),f(n,"class","floating-link-text svelte-1h61keq"),f(i,"href","/writing"),f(i,"class",L="floating-back-button "+(l[7]?"visible":"hidden")+" "+(l[6]?"":"instant-hide")+" svelte-1h61keq"),f(i,"aria-hidden",D=!l[7]),f(e,"class","container svelte-1h61keq")},m(W,H){u.m(document.head,null),v(document.head,t),_(W,s,H),_(W,e,H),v(e,o),v(e,d),v(e,i),v(i,y),v(i,C),v(i,n),v(e,P),V[h].m(e,null),I=!0},p(W,[H]){r===(r=b(W))&&u?u.p(W,H):(u.d(1),u=r(W),u&&(u.c(),u.m(t.parentNode,t))),(!I||H&192&&L!==(L="floating-back-button "+(W[7]?"visible":"hidden")+" "+(W[6]?"":"instant-hide")+" svelte-1h61keq"))&&f(i,"class",L),(!I||H&128&&D!==(D=!W[7]))&&f(i,"aria-hidden",D);let j=h;h=R(W),h===j?V[h].p(W,H):(ke(),K(V[j],1,1,()=>{V[j]=null}),ve(),k=V[h],k?k.p(W,H):(k=V[h]=q[h](W),k.c()),z(k,1),k.m(e,null))},i(W){I||(z(k),I=!0)},o(W){K(k),I=!1},d(W){W&&(c(s),c(e)),u.d(W),c(t),V[h].d()}}}const lt=2;function qt(l,t,s){let e,o,a,d;et(l,rt,P=>s(3,d=P));let{data:i}=t,y=!1,p=0,C=!1,n=!1,T=!1;function L(P){console.error("Error in Essay component:",P.detail),s(4,y=!0),p<lt&&(s(5,p++,p),setTimeout(()=>{console.log(`Retry attempt ${p} for Essay component`),s(4,y=!1)},1e3))}function D(){typeof window>"u"||T||(T=!0,requestAnimationFrame(()=>{const P=window.scrollY;s(6,C=P>300),C&&!n?s(7,n=!0):!C&&n&&s(7,n=!1),T=!1}))}return tt(()=>{ut.set({title:"Essay | Wendy Ham's Weekend Projects",description:"Essays about design, coding, and more.",canonicalUrl:`https://xnham.com/writing/${d.params.slug}`,type:"article",url:typeof window<"u"?window.location.href:`https://xnham.com/writing/${d.params.slug}`}),window.addEventListener("scroll",D);const P=h=>{console.error("Global error caught in essay page:",h.error||h.message);const k=String(h.error||h.message);(k.includes("Essay")||k.includes("essay")||k.includes("interaction"))&&(s(4,y=!0),h.preventDefault())};return window.addEventListener("error",P),()=>{window.removeEventListener("scroll",D),window.removeEventListener("error",P)}}),l.$$set=P=>{"data"in P&&s(0,i=P.data)},l.$$.update=()=>{var P,h,k,I;l.$$.dirty&1&&s(2,e=(P=i==null?void 0:i.essay)!=null&&P.description&&((h=i==null?void 0:i.essay)!=null&&h.excerpt)?`${i.essay.description} ${i.essay.excerpt}`:((k=i==null?void 0:i.essay)==null?void 0:k.description)||((I=i==null?void 0:i.essay)==null?void 0:I.excerpt)||""),l.$$.dirty&8&&s(1,o=typeof window<"u"?window.location.href:`https://xnham.com/writing/${d.params.slug}`),l.$$.dirty&7&&s(8,a=i!=null&&i.essay?{"@context":"https://schema.org","@type":"Article",headline:i.essay.title,description:e,datePublished:i.essay.date,author:{"@type":"Person",name:"Wendy Ham",url:"https://xnham.com"},publisher:{"@type":"Person",name:"Wendy Ham",url:"https://xnham.com"},mainEntityOfPage:{"@type":"WebPage","@id":o}}:null)},[i,o,e,d,y,p,C,n,a,L]}class Yt extends st{constructor(t){super(),nt(this,t,qt,Ft,Ze,{data:0})}}export{Yt as component,Gt as universal};
