import{s as xe,e as ue,a as A,f as C,G as et,d as c,c as L,g as I,h as R,j as f,w as E,i as v,A as tt,S as it,o as st,r as ae,F as We,l as q,m as K,H as Ae,I as Le,J as Se,n as de,y as B,C as at,K as ct,L as ut}from"../chunks/scheduler.6e697b3e.js";import{S as rt,i as nt,g as ke,t as G,c as ve,a as J,b as je,d as De,m as He,e as Me,f as Be}from"../chunks/index.4c318b21.js";import{g as ft}from"../chunks/globals.7f7f1b26.js";import{p as ot}from"../chunks/stores.ba620742.js";import{m as Oe}from"../chunks/metadataStore.a46319de.js";import{f as qe}from"../chunks/index.cc33f051.js";import{s as dt}from"../chunks/supabase.8f09c013.js";import{I as Ke}from"../chunks/InteractionButton.7313e59b.js";import{s as pt,C as mt,i as _t,a as ht,b as yt,t as gt,r as kt}from"../chunks/essayInteractionService.859a6e22.js";const vt=r=>({}),Ge=r=>({}),bt=r=>({}),Ye=r=>({}),Et=r=>({}),Xe=r=>({});function Qe(r){let s,t,e,o,a,p,l,y="{JSON.stringify(articleJsonLd)}",_,P,u,w,n,H,M,g,h,i,k;return document.title=s=r[0].title+" | Wendy Ham's Weekend Projects",{c(){t=A(),e=C("meta"),o=A(),a=C("link"),p=A(),l=C("script"),l.textContent=y,_=A(),P=C("meta"),u=A(),w=C("meta"),n=A(),H=C("meta"),g=A(),h=C("meta"),i=A(),k=C("meta"),this.h()},l(d){t=L(d),e=I(d,"META",{name:!0,content:!0}),o=L(d),a=I(d,"LINK",{rel:!0,href:!0}),p=L(d),l=I(d,"SCRIPT",{type:!0,"data-svelte-h":!0}),ae(l)!=="svelte-1yj4vgp"&&(l.textContent=y),_=L(d),P=I(d,"META",{property:!0,content:!0}),u=L(d),w=I(d,"META",{property:!0,content:!0}),n=L(d),H=I(d,"META",{property:!0,content:!0}),g=L(d),h=I(d,"META",{property:!0,content:!0}),i=L(d),k=I(d,"META",{property:!0,content:!0}),this.h()},h(){f(e,"name","description"),f(e,"content",r[2]),f(a,"rel","canonical"),f(a,"href",r[1]),f(l,"type","application/ld+json"),f(P,"property","og:type"),f(P,"content","article"),f(w,"property","og:url"),f(w,"content",r[1]),f(H,"property","og:title"),f(H,"content",M=`${r[0].title} | Wendy Ham's Weekend Projects`),f(h,"property","og:description"),f(h,"content",r[2]),f(k,"property","og:image"),f(k,"content","https://xnham.com/images/og-image.png")},m(d,b){v(d,t,b),v(d,e,b),v(d,o,b),v(d,a,b),v(d,p,b),v(d,l,b),v(d,_,b),v(d,P,b),v(d,u,b),v(d,w,b),v(d,n,b),v(d,H,b),v(d,g,b),v(d,h,b),v(d,i,b),v(d,k,b)},p(d,b){b&1&&s!==(s=d[0].title+" | Wendy Ham's Weekend Projects")&&(document.title=s),b&4&&f(e,"content",d[2]),b&2&&f(a,"href",d[1]),b&2&&f(w,"content",d[1]),b&1&&M!==(M=`${d[0].title} | Wendy Ham's Weekend Projects`)&&f(H,"content",M),b&4&&f(h,"content",d[2])},d(d){d&&(c(t),c(e),c(o),c(a),c(p),c(l),c(_),c(P),c(u),c(w),c(n),c(H),c(g),c(h),c(i),c(k))}}}function wt(r){let s,t,e,o,a=$e(r[0].date)+"",p,l,y,_,P,u,w,n,H,M=r[0].title+"",g,h,i,k=r[0].description+"",d,b,O,V,F,W,j,N,x=r[9]()+"",re,ne,pe=r[9]()===1?"like":"likes",fe,T,S,Q=r[10]()+"",U,$,me=r[10]()===1?"share":"shares",be,Ee,ee,Ve=r[11]()+"",we,Pe,Ne=r[11]()===1?"view":"views",Te,_e,Z;const Ce=r[19]["before-essay"],Y=We(Ce,r,r[18],Xe);_=new Ke({props:{type:"like",active:r[6],count:void 0}}),_.$on("click",r[12]),u=new Ke({props:{type:"share",active:!1,count:void 0}}),u.$on("click",r[13]);let z=r[7]&&Ze(r);const Fe=[Wt,It],te=[];function ze(m,D){return m[3]?0:1}V=ze(r),F=te[V]=Fe[V](r);const Ie=r[19]["after-essay"],X=We(Ie,r,r[18],Ge);return{c(){Y&&Y.c(),s=A(),t=C("div"),e=C("div"),o=C("p"),p=q(a),l=A(),y=C("div"),je(_.$$.fragment),P=A(),je(u.$$.fragment),w=A(),z&&z.c(),n=A(),H=C("h2"),g=q(M),h=A(),i=C("p"),d=q(k),b=A(),O=C("div"),F.c(),W=A(),j=C("div"),N=C("span"),re=q(x),ne=A(),fe=q(pe),T=A(),S=C("span"),U=q(Q),$=A(),be=q(me),Ee=A(),ee=C("span"),we=q(Ve),Pe=A(),Te=q(Ne),_e=A(),X&&X.c(),this.h()},l(m){Y&&Y.l(m),s=L(m),t=I(m,"DIV",{class:!0});var D=R(t);e=I(D,"DIV",{class:!0});var se=R(e);o=I(se,"P",{class:!0});var oe=R(o);p=K(oe,a),oe.forEach(c),l=L(se),y=I(se,"DIV",{class:!0});var le=R(y);De(_.$$.fragment,le),P=L(le),De(u.$$.fragment,le),w=L(le),z&&z.l(le),le.forEach(c),se.forEach(c),n=L(D),H=I(D,"H2",{class:!0});var Re=R(H);g=K(Re,M),Re.forEach(c),h=L(D),i=I(D,"P",{class:!0});var Ue=R(i);d=K(Ue,k),Ue.forEach(c),b=L(D),O=I(D,"DIV",{class:!0});var Je=R(O);F.l(Je),Je.forEach(c),D.forEach(c),W=L(m),j=I(m,"DIV",{class:!0});var ie=R(j);N=I(ie,"SPAN",{class:!0});var he=R(N);re=K(he,x),ne=L(he),fe=K(he,pe),he.forEach(c),T=L(ie),S=I(ie,"SPAN",{class:!0});var ye=R(S);U=K(ye,Q),$=L(ye),be=K(ye,me),ye.forEach(c),Ee=L(ie),ee=I(ie,"SPAN",{class:!0});var ge=R(ee);we=K(ge,Ve),Pe=L(ge),Te=K(ge,Ne),ge.forEach(c),ie.forEach(c),_e=L(m),X&&X.l(m),this.h()},h(){f(o,"class","essay-date svelte-15h8k01"),f(y,"class","essay-buttons svelte-15h8k01"),f(e,"class","essay-header-row svelte-15h8k01"),f(H,"class","essay-title svelte-15h8k01"),f(i,"class","essay-description svelte-15h8k01"),f(O,"class","content svelte-15h8k01"),f(t,"class","essay-container svelte-15h8k01"),f(N,"class","essay-stat"),f(S,"class","essay-stat"),f(ee,"class","essay-stat"),f(j,"class","essay-stats svelte-15h8k01")},m(m,D){Y&&Y.m(m,D),v(m,s,D),v(m,t,D),E(t,e),E(e,o),E(o,p),E(e,l),E(e,y),He(_,y,null),E(y,P),He(u,y,null),E(y,w),z&&z.m(y,null),E(t,n),E(t,H),E(H,g),E(t,h),E(t,i),E(i,d),E(t,b),E(t,O),te[V].m(O,null),v(m,W,D),v(m,j,D),E(j,N),E(N,re),E(N,ne),E(N,fe),E(j,T),E(j,S),E(S,U),E(S,$),E(S,be),E(j,Ee),E(j,ee),E(ee,we),E(ee,Pe),E(ee,Te),v(m,_e,D),X&&X.m(m,D),Z=!0},p(m,D){Y&&Y.p&&(!Z||D&262144)&&Ae(Y,Ce,m,m[18],Z?Se(Ce,m[18],D,Et):Le(m[18]),Xe),(!Z||D&1)&&a!==(a=$e(m[0].date)+"")&&de(p,a);const se={};D&64&&(se.active=m[6]),_.$set(se),m[7]?z?(z.p(m,D),D&128&&J(z,1)):(z=Ze(m),z.c(),J(z,1),z.m(y,null)):z&&(ke(),G(z,1,1,()=>{z=null}),ve()),(!Z||D&1)&&M!==(M=m[0].title+"")&&de(g,M),(!Z||D&1)&&k!==(k=m[0].description+"")&&de(d,k);let oe=V;V=ze(m),V===oe?te[V].p(m,D):(ke(),G(te[oe],1,1,()=>{te[oe]=null}),ve(),F=te[V],F?F.p(m,D):(F=te[V]=Fe[V](m),F.c()),J(F,1),F.m(O,null)),X&&X.p&&(!Z||D&262144)&&Ae(X,Ie,m,m[18],Z?Se(Ie,m[18],D,vt):Le(m[18]),Ge)},i(m){Z||(J(Y,m),J(_.$$.fragment,m),J(u.$$.fragment,m),J(z),J(F),J(X,m),Z=!0)},o(m){G(Y,m),G(_.$$.fragment,m),G(u.$$.fragment,m),G(z),G(F),G(X,m),Z=!1},d(m){m&&(c(s),c(t),c(W),c(j),c(_e)),Y&&Y.d(m),Me(_),Me(u),z&&z.d(),te[V].d(),X&&X.d(m)}}}function Pt(r){let s,t="Essay not found";return{c(){s=C("div"),s.textContent=t,this.h()},l(e){s=I(e,"DIV",{class:!0,"data-svelte-h":!0}),ae(s)!=="svelte-976hnr"&&(s.textContent=t),this.h()},h(){f(s,"class","error svelte-15h8k01")},m(e,o){v(e,s,o)},p:B,i:B,o:B,d(e){e&&c(s)}}}function Tt(r){let s,t;return{c(){s=C("div"),t=q(r[5]),this.h()},l(e){s=I(e,"DIV",{class:!0});var o=R(s);t=K(o,r[5]),o.forEach(c),this.h()},h(){f(s,"class","error svelte-15h8k01")},m(e,o){v(e,s,o),E(s,t)},p(e,o){o&32&&de(t,e[5])},i:B,o:B,d(e){e&&c(s)}}}function Ct(r){let s,t="Loading essay...";return{c(){s=C("div"),s.textContent=t,this.h()},l(e){s=I(e,"DIV",{class:!0,"data-svelte-h":!0}),ae(s)!=="svelte-1hhis7s"&&(s.textContent=t),this.h()},h(){f(s,"class","loading svelte-15h8k01")},m(e,o){v(e,s,o)},p:B,i:B,o:B,d(e){e&&c(s)}}}function Ze(r){let s,t,e,o;return{c(){s=C("div"),t=q(r[7]),this.h()},l(a){s=I(a,"DIV",{class:!0});var p=R(s);t=K(p,r[7]),p.forEach(c),this.h()},h(){f(s,"class","copy-feedback svelte-15h8k01")},m(a,p){v(a,s,p),E(s,t),o=!0},p(a,p){(!o||p&128)&&de(t,a[7])},i(a){o||(a&&at(()=>{o&&(e||(e=Be(s,qe,{duration:150},!0)),e.run(1))}),o=!0)},o(a){a&&(e||(e=Be(s,qe,{duration:150},!1)),e.run(0)),o=!1},d(a){a&&c(s),a&&e&&e.end()}}}function It(r){let s;const t=r[19]["content-actions"],e=We(t,r,r[18],Ye);return{c(){e&&e.c()},l(o){e&&e.l(o)},m(o,a){e&&e.m(o,a),s=!0},p(o,a){e&&e.p&&(!s||a&262144)&&Ae(e,t,o,o[18],s?Se(t,o[18],a,bt):Le(o[18]),Ye)},i(o){s||(J(e,o),s=!0)},o(o){G(e,o),s=!1},d(o){e&&e.d(o)}}}function Wt(r){let s,t;return{c(){s=new ct(!1),t=ue(),this.h()},l(e){s=ut(e,!1),t=ue(),this.h()},h(){s.a=t},m(e,o){s.m(r[3],e,o),v(e,t,o)},p(e,o){o&8&&s.p(e[3])},i:B,o:B,d(e){e&&(c(t),s.d())}}}function At(r){let s,t,e,o,a,p,l=r[0]&&r[8]&&Qe(r);const y=[Ct,Tt,Pt,wt],_=[];function P(u,w){return u[4]?0:u[5]?1:u[0]?3:2}return o=P(r),a=_[o]=y[o](r),{c(){l&&l.c(),s=ue(),t=A(),e=C("article"),a.c(),this.h()},l(u){const w=et("svelte-gxo76b",document.head);l&&l.l(w),s=ue(),w.forEach(c),t=L(u),e=I(u,"ARTICLE",{class:!0});var n=R(e);a.l(n),n.forEach(c),this.h()},h(){f(e,"class","svelte-15h8k01")},m(u,w){l&&l.m(document.head,null),E(document.head,s),v(u,t,w),v(u,e,w),_[o].m(e,null),p=!0},p(u,[w]){u[0]&&u[8]?l?l.p(u,w):(l=Qe(u),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null);let n=o;o=P(u),o===n?_[o].p(u,w):(ke(),G(_[n],1,1,()=>{_[n]=null}),ve(),a=_[o],a?a.p(u,w):(a=_[o]=y[o](u),a.c()),J(a,1),a.m(e,null))},i(u){p||(J(a),p=!0)},o(u){G(a),p=!1},d(u){u&&(c(t),c(e)),l&&l.d(u),c(s),_[o].d()}}}function $e(r){if(!r)return"";try{return new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(s){return console.error("Error formatting date:",s),r}}function Lt(r,s,t){let e,o,a,p;tt(r,ot,T=>t(26,p=T));let{$$slots:l={},$$scope:y}=s;const _=it();let{slug:P=""}=s,{preloadedEssay:u=null}=s,{serverError:w=null}=s,n=u,H=(u==null?void 0:u.content)||null,M=!u,g=w,h={likes:{},shares:{},views:{}},i=!1,k="",d=null,b=0,O=0,V=0,F=!1,W=!1;function j(){return F?b:(n==null?void 0:n.like_count)||0}function N(){return F?O:(n==null?void 0:n.share_count)||0}function x(){return F?V:(n==null?void 0:n.view_count)||0}async function re(T){if(u){console.log("Using preloaded essay data, skipping client-side fetch");return}if(T)try{t(4,M=!0),t(5,g=null),console.log(`Loading essay with slug: ${T}`);const{data:S,error:Q}=await dt.from("essays").select(`
          id, title, description, date, published, excerpt, slug,
          like_count, share_count, view_count, content
        `).eq("slug",T).single();if(Q)throw console.error(`Error fetching essay: ${Q.message}`),new Error(`Failed to load essay: ${Q.message}`);if(!S)throw new Error(`No essay found with slug: ${T}`);if(S.published===!1)throw new Error("This essay is not yet published");console.log(`Essay loaded: ${S.title}`),t(0,n=S),t(3,H=S.content),t(17,W=!1),await ne()}catch(S){console.error("Error loading essay:",S),t(5,g=S instanceof Error?S.message:"Failed to load essay"),_("error",S)}finally{t(4,M=!1)}}async function ne(){try{console.log("Initializing interactions on Essay component");const T=await _t();if(console.log("Interactions initialized on Essay with device ID:",T),!T){console.error("Failed to initialize interactions on Essay - no device ID returned"),_("error",new Error("Failed to initialize interactions"));return}if(n&&n.id){const S=ht(n.id);console.log(`Essay ${n.id} already liked:`,S),t(6,i=S);try{await yt(n.id),console.log(`View recorded for essay ${n.id}`)}catch(Q){console.error(`Error recording view for essay ${n.id}:`,Q)}}}catch(T){console.error("Error during Essay interaction initialization:",T),_("error",T)}}async function pe(){if(n!=null&&n.id)try{console.log(`Like button clicked for essay ${n.id}`);const T=i,S=j();b=Math.max(0,S+(T?-1:1)),t(6,i=!T);const U=await gt(n.id);if(console.log(`New like status after toggle: ${U}`),U!==i){console.log("Correcting optimistic like status due to mismatch"),t(6,i=U);const $=U?1:-1;b=Math.max(0,j()+$)}}catch(T){console.error(`Error toggling like for essay ${n.id}:`,T),t(6,i=!i);const S=i?1:-1;b=Math.max(0,j()-S),_("error",T)}}async function fe(){if(!(n!=null&&n.id))return;console.log(`Share button clicked for essay ${n.id}`);const T=typeof window<"u"?window.location.href:`https://xnham.com/writing/${n.slug}`;try{navigator.share?(await navigator.share({title:n.title,text:n.description||n.excerpt||"Check out this essay",url:T}),console.log("Successfully shared via Web Share API"),t(7,k="Shared!")):(await navigator.clipboard.writeText(T),console.log("URL copied to clipboard"),t(7,k="Link copied!")),O=N()+1,await kt(n.id),d&&clearTimeout(d),d=setTimeout(()=>{t(7,k="")},2e3)}catch(S){console.error("Error sharing essay:",S),t(7,k="Error sharing"),d&&clearTimeout(d),d=setTimeout(()=>{t(7,k="")},2e3),_("error",S)}}return st(()=>{var Q;let T=()=>{},S=null;try{const U=P||((Q=p==null?void 0:p.params)==null?void 0:Q.slug);return console.log(`Essay component mounted with slug: ${U}`),U&&!u&&(!n||n.slug!==U)?re(U):u&&ne(),S=setTimeout(async()=>{try{T=pt($=>{if(h=$,n!=null&&n.id){const me=`${mt.ESSAY}:${n.id}`;t(6,i=(h==null?void 0:h.likes[me])||!1)}})}catch($){console.error("Error in delayed initialization:",$),_("error",$)}},300),()=>{T&&T(),S&&clearTimeout(S),d&&clearTimeout(d)}}catch(U){console.error("Error in Essay onMount:",U),_("error",U)}}),r.$$set=T=>{"slug"in T&&t(14,P=T.slug),"preloadedEssay"in T&&t(15,u=T.preloadedEssay),"serverError"in T&&t(16,w=T.serverError),"$$scope"in T&&t(18,y=T.$$scope)},r.$$.update=()=>{r.$$.dirty&131073&&n&&!W&&(b=n.like_count||0,O=n.share_count||0,V=(n.view_count||0)+1,F=!0,t(17,W=!0)),r.$$.dirty&49153&&P&&!u&&(!(n!=null&&n.slug)||n.slug!==P)&&(console.log(`Slug changed to ${P}, loading essay data`),re(P)),r.$$.dirty&1&&t(1,e=typeof window<"u"?window.location.href:n!=null&&n.slug?`https://xnham.com/writing/${n.slug}`:""),r.$$.dirty&1&&t(2,o=n!=null&&n.description&&(n!=null&&n.excerpt)?`${n.description} ${n.excerpt}`:(n==null?void 0:n.description)||(n==null?void 0:n.excerpt)||""),r.$$.dirty&7&&t(8,a=n?{"@context":"https://schema.org","@type":"Article",headline:n.title,description:o,datePublished:n.date,author:{"@type":"Person",name:"Wendy Ham",url:"https://xnham.com"},publisher:{"@type":"Person",name:"Wendy Ham",url:"https://xnham.com"},mainEntityOfPage:{"@type":"WebPage","@id":e}}:null)},[n,e,o,H,M,g,i,k,a,j,N,x,pe,fe,P,u,w,W,y,l]}class St extends rt{constructor(s){super(),nt(this,s,Lt,At,xe,{slug:14,preloadedEssay:15,serverError:16})}}const{document:ce}=ft;function jt(r){return{c(){this.h()},l(s){this.h()},h(){ce.title="Essay Not Found | Wendy Ham's Weekend Projects"},m:B,p:B,d:B}}function Dt(r){let s,t,e,o,a,p,l,y,_,P,u,w,n,H,M,g,h;return ce.title=s=r[0].essay.title+" | Wendy Ham's Weekend Projects",{c(){t=A(),e=C("meta"),o=A(),a=C("link"),l=A(),y=C("meta"),_=A(),P=C("meta"),u=A(),w=C("meta"),H=A(),M=C("meta"),g=A(),h=C("meta"),this.h()},l(i){t=L(i),e=I(i,"META",{name:!0,content:!0}),o=L(i),a=I(i,"LINK",{rel:!0,href:!0}),l=L(i),y=I(i,"META",{property:!0,content:!0}),_=L(i),P=I(i,"META",{property:!0,content:!0}),u=L(i),w=I(i,"META",{property:!0,content:!0}),H=L(i),M=I(i,"META",{property:!0,content:!0}),g=L(i),h=I(i,"META",{property:!0,content:!0}),this.h()},h(){f(e,"name","description"),f(e,"content",r[1]),f(a,"rel","canonical"),f(a,"href",p=`https://xnham.com/writing/${r[3].params.slug}`),f(y,"property","og:type"),f(y,"content","article"),f(P,"property","og:url"),f(P,"content",r[2]),f(w,"property","og:title"),f(w,"content",n=`${r[0].essay.title} | Wendy Ham's Weekend Projects`),f(M,"property","og:description"),f(M,"content",r[1]),f(h,"property","og:image"),f(h,"content","https://xnham.com/images/og-image.png")},m(i,k){v(i,t,k),v(i,e,k),v(i,o,k),v(i,a,k),v(i,l,k),v(i,y,k),v(i,_,k),v(i,P,k),v(i,u,k),v(i,w,k),v(i,H,k),v(i,M,k),v(i,g,k),v(i,h,k)},p(i,k){k&1&&s!==(s=i[0].essay.title+" | Wendy Ham's Weekend Projects")&&(ce.title=s),k&2&&f(e,"content",i[1]),k&8&&p!==(p=`https://xnham.com/writing/${i[3].params.slug}`)&&f(a,"href",p),k&4&&f(P,"content",i[2]),k&1&&n!==(n=`${i[0].essay.title} | Wendy Ham's Weekend Projects`)&&f(w,"content",n),k&2&&f(M,"content",i[1])},d(i){i&&(c(t),c(e),c(o),c(a),c(l),c(y),c(_),c(P),c(u),c(w),c(H),c(M),c(g),c(h))}}}function Ht(r){let s,t;return s=new St({props:{slug:r[3].params.slug,preloadedEssay:r[0].essay}}),s.$on("error",r[8]),{c(){je(s.$$.fragment)},l(e){De(s.$$.fragment,e)},m(e,o){He(s,e,o),t=!0},p(e,o){const a={};o&8&&(a.slug=e[3].params.slug),o&1&&(a.preloadedEssay=e[0].essay),s.$set(a)},i(e){t||(J(s.$$.fragment,e),t=!0)},o(e){G(s.$$.fragment,e),t=!1},d(e){Me(s,e)}}}function Mt(r){let s,t,e;function o(l,y){return l[5]>=lt?Nt:Vt}let a=o(r),p=a(r);return{c(){s=C("div"),t=C("p"),e=q(`There was an error loading the essay. 
        `),p.c(),this.h()},l(l){s=I(l,"DIV",{class:!0});var y=R(s);t=I(y,"P",{});var _=R(t);e=K(_,`There was an error loading the essay. 
        `),p.l(_),_.forEach(c),y.forEach(c),this.h()},h(){f(s,"class","error-message svelte-1lhf2gj")},m(l,y){v(l,s,y),E(s,t),E(t,e),p.m(t,null)},p(l,y){a!==(a=o(l))&&(p.d(1),p=a(l),p&&(p.c(),p.m(t,null)))},i:B,o:B,d(l){l&&c(s),p.d()}}}function Vt(r){let s;return{c(){s=q("Retrying...")},l(t){s=K(t,"Retrying...")},m(t,e){v(t,s,e)},d(t){t&&c(s)}}}function Nt(r){let s;return{c(){s=q("Please try refreshing the page.")},l(t){s=K(t,"Please try refreshing the page.")},m(t,e){v(t,s,e)},d(t){t&&c(s)}}}function Ft(r){let s,t,e,o,a=`&lt; 
    <a href="/writing"><span class="link-text svelte-1lhf2gj">Back to essays</span></a>`,p,l,y,_="<",P,u,w="Back",n,H,M,g,h,i;function k(W,j){return W[0].essay?Dt:jt}let d=k(r),b=d(r);const O=[Mt,Ht],V=[];function F(W,j){return W[4]?0:1}return g=F(r),h=V[g]=O[g](r),{c(){b.c(),s=ue(),t=A(),e=C("div"),o=C("div"),o.innerHTML=a,p=A(),l=C("a"),y=C("span"),y.textContent=_,P=A(),u=C("span"),u.textContent=w,M=A(),h.c(),this.h()},l(W){const j=et("svelte-1hckw9",ce.head);b.l(j),s=ue(),j.forEach(c),t=L(W),e=I(W,"DIV",{class:!0});var N=R(e);o=I(N,"DIV",{class:!0,"data-svelte-h":!0}),ae(o)!=="svelte-r7biw2"&&(o.innerHTML=a),p=L(N),l=I(N,"A",{href:!0,class:!0,"aria-hidden":!0});var x=R(l);y=I(x,"SPAN",{class:!0,"data-svelte-h":!0}),ae(y)!=="svelte-19se4d7"&&(y.textContent=_),P=L(x),u=I(x,"SPAN",{class:!0,"data-svelte-h":!0}),ae(u)!=="svelte-1v4nvf1"&&(u.textContent=w),x.forEach(c),M=L(N),h.l(N),N.forEach(c),this.h()},h(){f(o,"class","back-button svelte-1lhf2gj"),f(y,"class","arrow svelte-1lhf2gj"),f(u,"class","floating-link-text svelte-1lhf2gj"),f(l,"href","/writing"),f(l,"class",n="floating-back-button "+(r[7]?"visible":"hidden")+" "+(r[6]?"":"instant-hide")+" svelte-1lhf2gj"),f(l,"aria-hidden",H=!r[7]),f(e,"class","container")},m(W,j){b.m(ce.head,null),E(ce.head,s),v(W,t,j),v(W,e,j),E(e,o),E(e,p),E(e,l),E(l,y),E(l,P),E(l,u),E(e,M),V[g].m(e,null),i=!0},p(W,[j]){d===(d=k(W))&&b?b.p(W,j):(b.d(1),b=d(W),b&&(b.c(),b.m(s.parentNode,s))),(!i||j&192&&n!==(n="floating-back-button "+(W[7]?"visible":"hidden")+" "+(W[6]?"":"instant-hide")+" svelte-1lhf2gj"))&&f(l,"class",n),(!i||j&128&&H!==(H=!W[7]))&&f(l,"aria-hidden",H);let N=g;g=F(W),g===N?V[g].p(W,j):(ke(),G(V[N],1,1,()=>{V[N]=null}),ve(),h=V[g],h?h.p(W,j):(h=V[g]=O[g](W),h.c()),J(h,1),h.m(e,null))},i(W){i||(J(h),i=!0)},o(W){G(h),i=!1},d(W){W&&(c(t),c(e)),b.d(W),c(s),V[g].d()}}}const lt=2;function zt(r,s,t){let e,o,a,p;tt(r,ot,g=>t(3,p=g));let{data:l}=s,y=!1,_=0,P=!1,u=!1,w=!1;function n(g){console.error("Error in Essay component:",g.detail),t(4,y=!0),_<lt&&(t(5,_++,_),setTimeout(()=>{console.log(`Retry attempt ${_} for Essay component`),t(4,y=!1)},1e3))}function H(){if(typeof window>"u"||!a)return;document.querySelectorAll('script[type="application/ld+json"]').forEach(i=>i.remove());const h=document.createElement("script");h.type="application/ld+json",h.textContent=JSON.stringify(a),document.head.appendChild(h)}function M(){typeof window>"u"||w||(w=!0,requestAnimationFrame(()=>{const g=window.scrollY;t(6,P=g>300),P&&!u?t(7,u=!0):!P&&u&&t(7,u=!1),w=!1}))}return st(()=>{l.essay?(Oe.set({title:`${l.essay.title} | Wendy Ham's Weekend Projects`,description:e,canonicalUrl:`https://xnham.com/writing/${p.params.slug}`,type:"article",url:typeof window<"u"?window.location.href:`https://xnham.com/writing/${p.params.slug}`}),H()):Oe.set({title:"Essay | Wendy Ham's Weekend Projects",description:"Essays about design, coding, and more.",canonicalUrl:`https://xnham.com/writing/${p.params.slug}`,type:"article",url:typeof window<"u"?window.location.href:`https://xnham.com/writing/${p.params.slug}`}),window.addEventListener("scroll",M);const g=h=>{console.error("Global error caught in essay page:",h.error||h.message);const i=String(h.error||h.message);(i.includes("Essay")||i.includes("essay")||i.includes("interaction"))&&(t(4,y=!0),h.preventDefault())};return window.addEventListener("error",g),()=>{window.removeEventListener("scroll",M),window.removeEventListener("error",g)}}),r.$$set=g=>{"data"in g&&t(0,l=g.data)},r.$$.update=()=>{var g,h,i,k;r.$$.dirty&1&&t(1,e=(g=l==null?void 0:l.essay)!=null&&g.description&&((h=l==null?void 0:l.essay)!=null&&h.excerpt)?`${l.essay.description} ${l.essay.excerpt}`:((i=l==null?void 0:l.essay)==null?void 0:i.description)||((k=l==null?void 0:l.essay)==null?void 0:k.excerpt)||""),r.$$.dirty&8&&t(2,o=typeof window<"u"?window.location.href:`https://xnham.com/writing/${p.params.slug}`),r.$$.dirty&7&&(a=l!=null&&l.essay?{"@context":"https://schema.org","@type":"Article",headline:l.essay.title,description:e,datePublished:l.essay.date,image:"https://xnham.com/images/og-image.png",author:{"@type":"Person",name:"Wendy Ham",url:"https://xnham.com"},publisher:{"@type":"Person",name:"Wendy Ham",url:"https://xnham.com"},mainEntityOfPage:{"@type":"WebPage","@id":o}}:null)},[l,e,o,p,y,_,P,u,n]}class Xt extends rt{constructor(s){super(),nt(this,s,zt,Ft,xe,{data:0})}}export{Xt as component};
